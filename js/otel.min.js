(()=>{var Qc=Object.defineProperty;var Jc=(t,e,r)=>e in t?Qc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var l=(t,e,r)=>Jc(t,typeof e!="symbol"?e+"":e,r);var Ii=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{};var zt="1.9.0";var Mi=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function tu(t){var e=new Set([t]),r=new Set,n=t.match(Mi);if(!n)return function(){return!1};var o={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(o.prerelease!=null)return function(c){return c===t};function i(a){return r.add(a),!1}function s(a){return e.add(a),!0}return function(c){if(e.has(c))return!0;if(r.has(c))return!1;var u=c.match(Mi);if(!u)return i(c);var p={major:+u[1],minor:+u[2],patch:+u[3],prerelease:u[4]};return p.prerelease!=null||o.major!==p.major?i(c):o.major===0?o.minor===p.minor&&o.patch<=p.patch?s(c):i(c):o.minor<=p.minor?s(c):i(c)}}var ki=tu(zt);var eu=zt.split(".")[0],ze=Symbol.for("opentelemetry.js.api."+eu),Ke=Ii;function wt(t,e,r,n){var o;n===void 0&&(n=!1);var i=Ke[ze]=(o=Ke[ze])!==null&&o!==void 0?o:{version:zt};if(!n&&i[t]){var s=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+t);return r.error(s.stack||s.message),!1}if(i.version!==zt){var s=new Error("@opentelemetry/api: Registration of version v"+i.version+" for "+t+" does not match previously registered API v"+zt);return r.error(s.stack||s.message),!1}return i[t]=e,r.debug("@opentelemetry/api: Registered a global for "+t+" v"+zt+"."),!0}function gt(t){var e,r,n=(e=Ke[ze])===null||e===void 0?void 0:e.version;if(!(!n||!ki(n)))return(r=Ke[ze])===null||r===void 0?void 0:r[t]}function Dt(t,e){e.debug("@opentelemetry/api: Unregistering a global for "+t+" v"+zt+".");var r=Ke[ze];r&&delete r[t]}var ru=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},nu=function(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))},Ui=(function(){function t(e){this._namespace=e.namespace||"DiagComponentLogger"}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Ze("debug",this._namespace,e)},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Ze("error",this._namespace,e)},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Ze("info",this._namespace,e)},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Ze("warn",this._namespace,e)},t.prototype.verbose=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Ze("verbose",this._namespace,e)},t})();function Ze(t,e,r){var n=gt("diag");if(n)return r.unshift(e),n[t].apply(n,nu([],ru(r),!1))}var _t;(function(t){t[t.NONE=0]="NONE",t[t.ERROR=30]="ERROR",t[t.WARN=50]="WARN",t[t.INFO=60]="INFO",t[t.DEBUG=70]="DEBUG",t[t.VERBOSE=80]="VERBOSE",t[t.ALL=9999]="ALL"})(_t||(_t={}));function Hi(t,e){t<_t.NONE?t=_t.NONE:t>_t.ALL&&(t=_t.ALL),e=e||{};function r(n,o){var i=e[n];return typeof i=="function"&&t>=o?i.bind(e):function(){}}return{error:r("error",_t.ERROR),warn:r("warn",_t.WARN),info:r("info",_t.INFO),debug:r("debug",_t.DEBUG),verbose:r("verbose",_t.VERBOSE)}}var ou=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},iu=function(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))},su="diag",ut=(function(){function t(){function e(o){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var a=gt("diag");if(a)return a[o].apply(a,iu([],ou(i),!1))}}var r=this,n=function(o,i){var s,a,c;if(i===void 0&&(i={logLevel:_t.INFO}),o===r){var u=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((s=u.stack)!==null&&s!==void 0?s:u.message),!1}typeof i=="number"&&(i={logLevel:i});var p=gt("diag"),m=Hi((a=i.logLevel)!==null&&a!==void 0?a:_t.INFO,o);if(p&&!i.suppressOverrideMessage){var g=(c=new Error().stack)!==null&&c!==void 0?c:"<failed to generate stacktrace>";p.warn("Current logger will be overwritten from "+g),m.warn("Current logger will overwrite one already registered from "+g)}return wt("diag",m,r,!0)};r.setLogger=n,r.disable=function(){Dt(su,r)},r.createComponentLogger=function(o){return new Ui(o)},r.verbose=e("verbose"),r.debug=e("debug"),r.info=e("info"),r.warn=e("warn"),r.error=e("error")}return t.instance=function(){return this._instance||(this._instance=new t),this._instance},t})();var au=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},cu=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Gi=(function(){function t(e){this._entries=e?new Map(e):new Map}return t.prototype.getEntry=function(e){var r=this._entries.get(e);if(r)return Object.assign({},r)},t.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var r=au(e,2),n=r[0],o=r[1];return[n,o]})},t.prototype.setEntry=function(e,r){var n=new t(this._entries);return n._entries.set(e,r),n},t.prototype.removeEntry=function(e){var r=new t(this._entries);return r._entries.delete(e),r},t.prototype.removeEntries=function(){for(var e,r,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=new t(this._entries);try{for(var s=cu(n),a=s.next();!a.done;a=s.next()){var c=a.value;i._entries.delete(c)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return i},t.prototype.clear=function(){return new t},t})();var Bi=Symbol("BaggageEntryMetadata");var uu=ut.instance();function Vi(t){return t===void 0&&(t={}),new Gi(new Map(Object.entries(t)))}function to(t){return typeof t!="string"&&(uu.error("Cannot create baggage metadata from unknown type: "+typeof t),t=""),{__TYPE__:Bi,toString:function(){return t}}}function pe(t){return Symbol.for(t)}var lu=(function(){function t(e){var r=this;r._currentContext=e?new Map(e):new Map,r.getValue=function(n){return r._currentContext.get(n)},r.setValue=function(n,o){var i=new t(r._currentContext);return i._currentContext.set(n,o),i},r.deleteValue=function(n){var o=new t(r._currentContext);return o._currentContext.delete(n),o}}return t})(),dt=new lu;var fe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),pu=(function(){function t(){}return t.prototype.createGauge=function(e,r){return Su},t.prototype.createHistogram=function(e,r){return Au},t.prototype.createCounter=function(e,r){return gu},t.prototype.createUpDownCounter=function(e,r){return Ru},t.prototype.createObservableGauge=function(e,r){return Ou},t.prototype.createObservableCounter=function(e,r){return yu},t.prototype.createObservableUpDownCounter=function(e,r){return vu},t.prototype.addBatchObservableCallback=function(e,r){},t.prototype.removeBatchObservableCallback=function(e){},t})();var Hr=(function(){function t(){}return t})();var fu=(function(t){fe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.add=function(r,n){},e})(Hr);var _u=(function(t){fe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.add=function(r,n){},e})(Hr);var du=(function(t){fe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.record=function(r,n){},e})(Hr);var hu=(function(t){fe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.record=function(r,n){},e})(Hr);var eo=(function(){function t(){}return t.prototype.addCallback=function(e){},t.prototype.removeCallback=function(e){},t})();var mu=(function(t){fe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(eo);var Tu=(function(t){fe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(eo);var Eu=(function(t){fe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(eo);var Fi=new pu,gu=new fu,Su=new du,Au=new hu,Ru=new _u,yu=new mu,Ou=new Tu,vu=new Eu;var ji={get:function(t,e){if(t!=null)return t[e]},keys:function(t){return t==null?[]:Object.keys(t)}},zi={set:function(t,e,r){t!=null&&(t[e]=r)}};var xu=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},Nu=function(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))},Ki=(function(){function t(){}return t.prototype.active=function(){return dt},t.prototype.with=function(e,r,n){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];return r.call.apply(r,Nu([n],xu(o),!1))},t.prototype.bind=function(e,r){return r},t.prototype.enable=function(){return this},t.prototype.disable=function(){return this},t})();var bu=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},Pu=function(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))},ro="context",Lu=new Ki,re=(function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalContextManager=function(e){return wt(ro,e,ut.instance())},t.prototype.active=function(){return this._getContextManager().active()},t.prototype.with=function(e,r,n){for(var o,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];return(o=this._getContextManager()).with.apply(o,Pu([e,r,n],bu(i),!1))},t.prototype.bind=function(e,r){return this._getContextManager().bind(e,r)},t.prototype._getContextManager=function(){return gt(ro)||Lu},t.prototype.disable=function(){this._getContextManager().disable(),Dt(ro,ut.instance())},t})();var ht;(function(t){t[t.NONE=0]="NONE",t[t.SAMPLED=1]="SAMPLED"})(ht||(ht={}));var Gr="0000000000000000",Br="00000000000000000000000000000000",We={traceId:Br,spanId:Gr,traceFlags:ht.NONE};var ne=(function(){function t(e){e===void 0&&(e=We),this._spanContext=e}return t.prototype.spanContext=function(){return this._spanContext},t.prototype.setAttribute=function(e,r){return this},t.prototype.setAttributes=function(e){return this},t.prototype.addEvent=function(e,r){return this},t.prototype.addLink=function(e){return this},t.prototype.addLinks=function(e){return this},t.prototype.setStatus=function(e){return this},t.prototype.updateName=function(e){return this},t.prototype.end=function(e){},t.prototype.isRecording=function(){return!1},t.prototype.recordException=function(e,r){},t})();var no=pe("OpenTelemetry Context Key SPAN");function Vr(t){return t.getValue(no)||void 0}function Zi(){return Vr(re.getInstance().active())}function $e(t,e){return t.setValue(no,e)}function Wi(t){return t.deleteValue(no)}function $i(t,e){return $e(t,new ne(e))}function Fr(t){var e;return(e=Vr(t))===null||e===void 0?void 0:e.spanContext()}var Cu=/^([0-9a-f]{32})$/i,wu=/^[0-9a-f]{16}$/i;function jr(t){return Cu.test(t)&&t!==Br}function Yi(t){return wu.test(t)&&t!==Gr}function Kt(t){return jr(t.traceId)&&Yi(t.spanId)}function qi(t){return new ne(t)}var oo=re.getInstance(),zr=(function(){function t(){}return t.prototype.startSpan=function(e,r,n){n===void 0&&(n=oo.active());var o=!!(r!=null&&r.root);if(o)return new ne;var i=n&&Fr(n);return Du(i)&&Kt(i)?new ne(i):new ne},t.prototype.startActiveSpan=function(e,r,n,o){var i,s,a;if(!(arguments.length<2)){arguments.length===2?a=r:arguments.length===3?(i=r,a=n):(i=r,s=n,a=o);var c=s!=null?s:oo.active(),u=this.startSpan(e,i,c),p=$e(c,u);return oo.with(p,a,void 0,u)}},t})();function Du(t){return typeof t=="object"&&typeof t.spanId=="string"&&typeof t.traceId=="string"&&typeof t.traceFlags=="number"}var Iu=new zr,Xi=(function(){function t(e,r,n,o){this._provider=e,this.name=r,this.version=n,this.options=o}return t.prototype.startSpan=function(e,r,n){return this._getTracer().startSpan(e,r,n)},t.prototype.startActiveSpan=function(e,r,n,o){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},t.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):Iu},t})();var Qi=(function(){function t(){}return t.prototype.getTracer=function(e,r,n){return new zr},t})();var Mu=new Qi,io=(function(){function t(){}return t.prototype.getTracer=function(e,r,n){var o;return(o=this.getDelegateTracer(e,r,n))!==null&&o!==void 0?o:new Xi(this,e,r,n)},t.prototype.getDelegate=function(){var e;return(e=this._delegate)!==null&&e!==void 0?e:Mu},t.prototype.setDelegate=function(e){this._delegate=e},t.prototype.getDelegateTracer=function(e,r,n){var o;return(o=this._delegate)===null||o===void 0?void 0:o.getTracer(e,r,n)},t})();var Ne;(function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Ne||(Ne={}));var Zt;(function(t){t[t.INTERNAL=0]="INTERNAL",t[t.SERVER=1]="SERVER",t[t.CLIENT=2]="CLIENT",t[t.PRODUCER=3]="PRODUCER",t[t.CONSUMER=4]="CONSUMER"})(Zt||(Zt={}));var St;(function(t){t[t.UNSET=0]="UNSET",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR"})(St||(St={}));var G=re.getInstance();var O=ut.instance();var ku=(function(){function t(){}return t.prototype.getMeter=function(e,r,n){return Fi},t})();var Ji=new ku;var so="metrics",ts=(function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalMeterProvider=function(e){return wt(so,e,ut.instance())},t.prototype.getMeterProvider=function(){return gt(so)||Ji},t.prototype.getMeter=function(e,r,n){return this.getMeterProvider().getMeter(e,r,n)},t.prototype.disable=function(){Dt(so,ut.instance())},t})();var _e=ts.getInstance();var es=(function(){function t(){}return t.prototype.inject=function(e,r){},t.prototype.extract=function(e,r){return e},t.prototype.fields=function(){return[]},t})();var ao=pe("OpenTelemetry Baggage Key");function co(t){return t.getValue(ao)||void 0}function rs(){return co(re.getInstance().active())}function ns(t,e){return t.setValue(ao,e)}function os(t){return t.deleteValue(ao)}var uo="propagation",Uu=new es,is=(function(){function t(){this.createBaggage=Vi,this.getBaggage=co,this.getActiveBaggage=rs,this.setBaggage=ns,this.deleteBaggage=os}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalPropagator=function(e){return wt(uo,e,ut.instance())},t.prototype.inject=function(e,r,n){return n===void 0&&(n=zi),this._getGlobalPropagator().inject(e,r,n)},t.prototype.extract=function(e,r,n){return n===void 0&&(n=ji),this._getGlobalPropagator().extract(e,r,n)},t.prototype.fields=function(){return this._getGlobalPropagator().fields()},t.prototype.disable=function(){Dt(uo,ut.instance())},t.prototype._getGlobalPropagator=function(){return gt(uo)||Uu},t})();var at=is.getInstance();var lo="trace",ss=(function(){function t(){this._proxyTracerProvider=new io,this.wrapSpanContext=qi,this.isSpanContextValid=Kt,this.deleteSpan=Wi,this.getSpan=Vr,this.getActiveSpan=Zi,this.getSpanContext=Fr,this.setSpan=$e,this.setSpanContext=$i}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalTracerProvider=function(e){var r=wt(lo,this._proxyTracerProvider,ut.instance());return r&&this._proxyTracerProvider.setDelegate(e),r},t.prototype.getTracerProvider=function(){return gt(lo)||this._proxyTracerProvider},t.prototype.getTracer=function(e,r){return this.getTracerProvider().getTracer(e,r)},t.prototype.disable=function(){Dt(lo,ut.instance()),this._proxyTracerProvider=new io},t})();var F=ss.getInstance();var as=pe("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function po(t){return t.setValue(as,!0)}function de(t){return t.getValue(as)===!0}var Zr="baggage";function cs(t){return t.reduce((e,r)=>{let n=`${e}${e!==""?",":""}${r}`;return n.length>8192?e:n},"")}function us(t){return t.getAllEntries().map(([e,r])=>{let n=`${encodeURIComponent(e)}=${encodeURIComponent(r.value)}`;return r.metadata!==void 0&&(n+=";"+r.metadata.toString()),n})}function ls(t){if(!t)return;let e=t.indexOf(";"),r=e===-1?t:t.substring(0,e),n=r.indexOf("=");if(n<=0)return;let o=r.substring(0,n).trim(),i=r.substring(n+1).trim();if(!o||!i)return;let s,a;try{s=decodeURIComponent(o),a=decodeURIComponent(i)}catch(u){return}let c;if(e!==-1&&e<t.length-1){let u=t.substring(e+1);c=to(u)}return{key:s,value:a,metadata:c}}var Ye=class{inject(e,r,n){let o=at.getBaggage(e);if(!o||de(e))return;let i=us(o).filter(a=>a.length<=4096).slice(0,180),s=cs(i);s.length>0&&n.set(r,Zr,s)}extract(e,r,n){let o=n.get(r,Zr),i=Array.isArray(o)?o.join(","):o;if(!i)return e;let s={};return i.length===0||(i.split(",").forEach(c=>{let u=ls(c);if(u){let p={value:u.value};u.metadata&&(p.metadata=u.metadata),s[u.key]=p}}),Object.entries(s).length===0)?e:at.setBaggage(e,at.createBaggage(s))}fields(){return[Zr]}};function he(t){let e={};if(typeof t!="object"||t==null)return e;for(let r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;if(!Vu(r)){O.warn(`Invalid attribute key: ${r}`);continue}let n=t[r];if(!Wr(n)){O.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(n)?e[r]=n.slice():e[r]=n}return e}function Vu(t){return typeof t=="string"&&t!==""}function Wr(t){return t==null?!0:Array.isArray(t)?Fu(t):ps(typeof t)}function Fu(t){let e;for(let r of t){if(r==null)continue;let n=typeof r;if(n!==e){if(!e){if(ps(n)){e=n;continue}return!1}return!1}}return!0}function ps(t){switch(t){case"number":case"boolean":case"string":return!0}return!1}function fs(){return t=>{O.error(ju(t))}}function ju(t){return typeof t=="string"?t:JSON.stringify(zu(t))}function zu(t){let e={},r=t;for(;r!==null;)Object.getOwnPropertyNames(r).forEach(n=>{if(e[n])return;let o=r[n];o&&(e[n]=String(o))}),r=Object.getPrototypeOf(r);return e}var Ku=fs();function Nt(t){try{Ku(t)}catch(e){}}var _s="2.5.1";var qe="error.type";var $r="exception.message",ds="exception.stacktrace",Yr="exception.type";var qr="http.request.method";var Xr="http.request.method_original";var Qr="http.response.status_code";var Jr="server.address",tn="server.port",en="service.name";var Xe="telemetry.sdk.language";var hs="webjs",Qe="telemetry.sdk.name",Je="telemetry.sdk.version";var oe="url.full";var ms="user_agent.original";var Ts="process.runtime.name";var be={[Qe]:"opentelemetry",[Ts]:"browser",[Xe]:hs,[Je]:_s};var lt=performance;var Zu=9,Wu=6,$u=Math.pow(10,Wu),rn=Math.pow(10,Zu);function At(t){let e=t/1e3,r=Math.trunc(e),n=Math.round(t%1e3*$u);return[r,n]}function Wt(t){let e=At(lt.timeOrigin),r=At(typeof t=="number"?t:lt.now());return on(e,r)}function me(t){if(tr(t))return t;if(typeof t=="number")return t<lt.timeOrigin?Wt(t):At(t);if(t instanceof Date)return At(t.getTime());throw TypeError("Invalid input type")}function _o(t,e){let r=e[0]-t[0],n=e[1]-t[1];return n<0&&(r-=1,n+=rn),[r,n]}function It(t){return t[0]*rn+t[1]}function tr(t){return Array.isArray(t)&&t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"}function nn(t){return tr(t)||typeof t=="number"||t instanceof Date}function on(t,e){let r=[t[0]+e[0],t[1]+e[1]];return r[1]>=rn&&(r[1]-=rn,r[0]+=1),r}var er;(function(t){t[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED"})(er||(er={}));var Te=class{constructor(e={}){l(this,"_propagators");l(this,"_fields");var r;this._propagators=(r=e.propagators)!=null?r:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,o)=>n.concat(o),[])))}inject(e,r,n){for(let o of this._propagators)try{o.inject(e,r,n)}catch(i){O.warn(`Failed to inject with ${o.constructor.name}. Err: ${i.message}`)}}extract(e,r,n){return this._propagators.reduce((o,i)=>{try{return i.extract(o,r,n)}catch(s){O.warn(`Failed to extract with ${i.constructor.name}. Err: ${s.message}`)}return o},e)}fields(){return this._fields.slice()}};var ho="[_0-9a-z-*/]",Yu=`[a-z]${ho}{0,255}`,qu=`[a-z0-9]${ho}{0,240}@[a-z]${ho}{0,13}`,Xu=new RegExp(`^(?:${Yu}|${qu})$`),Qu=/^[ -~]{0,255}[!-~]$/,Ju=/,|=/;function Es(t){return Xu.test(t)}function gs(t){return Qu.test(t)&&!Ju.test(t)}var Ss=32,tl=512,As=",",Rs="=",sn=class t{constructor(e){l(this,"_internalState",new Map);e&&this._parse(e)}set(e,r){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,r),n}unset(e){let r=this._clone();return r._internalState.delete(e),r}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,r)=>(e.push(r+Rs+this.get(r)),e),[]).join(As)}_parse(e){e.length>tl||(this._internalState=e.split(As).reverse().reduce((r,n)=>{let o=n.trim(),i=o.indexOf(Rs);if(i!==-1){let s=o.slice(0,i),a=o.slice(i+1,n.length);Es(s)&&gs(a)&&r.set(s,a)}return r},new Map),this._internalState.size>Ss&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Ss))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new t;return e._internalState=new Map(this._internalState),e}};var Pe="traceparent",an="tracestate",el="00",rl="(?!ff)[\\da-f]{2}",nl="(?![0]{32})[\\da-f]{32}",ol="(?![0]{16})[\\da-f]{16}",il="[\\da-f]{2}",sl=new RegExp(`^\\s?(${rl})-(${nl})-(${ol})-(${il})(-.*)?\\s?$`);function ys(t){let e=sl.exec(t);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}var Ee=class{inject(e,r,n){let o=F.getSpanContext(e);if(!o||de(e)||!Kt(o))return;let i=`${el}-${o.traceId}-${o.spanId}-0${Number(o.traceFlags||ht.NONE).toString(16)}`;n.set(r,Pe,i),o.traceState&&n.set(r,an,o.traceState.serialize())}extract(e,r,n){let o=n.get(r,Pe);if(!o)return e;let i=Array.isArray(o)?o[0]:o;if(typeof i!="string")return e;let s=ys(i);if(!s)return e;s.isRemote=!0;let a=n.get(r,an);if(a){let c=Array.isArray(a)?a.join(","):a;s.traceState=new sn(typeof c=="string"?c:void 0)}return F.setSpanContext(e,s)}fields(){return[Pe,an]}};var al="[object Object]",cl="[object Null]",ul="[object Undefined]",ll=Function.prototype,Os=ll.toString,pl=Os.call(Object),fl=Object.getPrototypeOf,vs=Object.prototype,xs=vs.hasOwnProperty,ge=Symbol?Symbol.toStringTag:void 0,Ns=vs.toString;function mo(t){if(!_l(t)||dl(t)!==al)return!1;let e=fl(t);if(e===null)return!0;let r=xs.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Os.call(r)===pl}function _l(t){return t!=null&&typeof t=="object"}function dl(t){return t==null?t===void 0?ul:cl:ge&&ge in Object(t)?hl(t):ml(t)}function hl(t){let e=xs.call(t,ge),r=t[ge],n=!1;try{t[ge]=void 0,n=!0}catch(i){}let o=Ns.call(t);return n&&(e?t[ge]=r:delete t[ge]),o}function ml(t){return Ns.call(t)}var Tl=20;function Eo(...t){let e=t.shift(),r=new WeakMap;for(;t.length>0;)e=Ps(e,t.shift(),0,r);return e}function To(t){return un(t)?t.slice():t}function Ps(t,e,r=0,n){let o;if(!(r>Tl)){if(r++,cn(t)||cn(e)||Ls(e))o=To(e);else if(un(t)){if(o=t.slice(),un(e))for(let i=0,s=e.length;i<s;i++)o.push(To(e[i]));else if(rr(e)){let i=Object.keys(e);for(let s=0,a=i.length;s<a;s++){let c=i[s];o[c]=To(e[c])}}}else if(rr(t))if(rr(e)){if(!El(t,e))return e;o=Object.assign({},t);let i=Object.keys(e);for(let s=0,a=i.length;s<a;s++){let c=i[s],u=e[c];if(cn(u))typeof u=="undefined"?delete o[c]:o[c]=u;else{let p=o[c],m=u;if(bs(t,c,n)||bs(e,c,n))delete o[c];else{if(rr(p)&&rr(m)){let g=n.get(p)||[],y=n.get(m)||[];g.push({obj:t,key:c}),y.push({obj:e,key:c}),n.set(p,g),n.set(m,y)}o[c]=Ps(o[c],u,r,n)}}}}else o=e;return o}}function bs(t,e,r){let n=r.get(t[e])||[];for(let o=0,i=n.length;o<i;o++){let s=n[o];if(s.key===e&&s.obj===t)return!0}return!1}function un(t){return Array.isArray(t)}function Ls(t){return typeof t=="function"}function rr(t){return!cn(t)&&!un(t)&&!Ls(t)&&typeof t=="object"}function cn(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="undefined"||t instanceof Date||t instanceof RegExp||t===null}function El(t,e){return!(!mo(t)||!mo(e))}function ln(t,e){return typeof e=="string"?t===e:!!t.match(e)}function go(t,e){if(!e)return!1;for(let r of e)if(ln(t,r))return!0;return!1}var pn=class{constructor(){l(this,"_promise");l(this,"_resolve");l(this,"_reject");this._promise=new Promise((e,r)=>{this._resolve=e,this._reject=r})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}};var nr=class{constructor(e,r){l(this,"_isCalled",!1);l(this,"_deferred",new pn);l(this,"_callback");l(this,"_that");this._callback=e,this._that=r}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(r=>this._deferred.resolve(r),r=>this._deferred.reject(r))}catch(r){this._deferred.reject(r)}}return this._deferred.promise}};var fn;function Cs(){if(fn===void 0)try{let t=globalThis.process.argv0;fn=t?`unknown_service:${t}`:"unknown_service"}catch(t){fn="unknown_service"}return fn}var Le=t=>t!==null&&typeof t=="object"&&typeof t.then=="function";var _n=class t{constructor(e,r){l(this,"_rawAttributes");l(this,"_asyncAttributesPending",!1);l(this,"_schemaUrl");l(this,"_memoizedAttributes");var o;let n=(o=e.attributes)!=null?o:{};this._rawAttributes=Object.entries(n).map(([i,s])=>(Le(s)&&(this._asyncAttributesPending=!0),[i,s])),this._rawAttributes=ws(this._rawAttributes),this._schemaUrl=Al(r==null?void 0:r.schemaUrl)}static FromAttributeList(e,r){let n=new t({},r);return n._rawAttributes=ws(e),n._asyncAttributesPending=e.filter(([o,i])=>Le(i)).length>0,n}get asyncAttributesPending(){return this._asyncAttributesPending}async waitForAsyncAttributes(){if(this.asyncAttributesPending){for(let e=0;e<this._rawAttributes.length;e++){let[r,n]=this._rawAttributes[e];this._rawAttributes[e]=[r,Le(n)?await n:n]}this._asyncAttributesPending=!1}}get attributes(){var r;if(this.asyncAttributesPending&&O.error("Accessing resource attributes before async attributes settled"),this._memoizedAttributes)return this._memoizedAttributes;let e={};for(let[n,o]of this._rawAttributes){if(Le(o)){O.debug(`Unsettled resource attribute ${n} skipped`);continue}o!=null&&((r=e[n])!=null||(e[n]=o))}return this._asyncAttributesPending||(this._memoizedAttributes=e),e}getRawAttributes(){return this._rawAttributes}get schemaUrl(){return this._schemaUrl}merge(e){if(e==null)return this;let r=Rl(this,e),n=r?{schemaUrl:r}:void 0;return t.FromAttributeList([...e.getRawAttributes(),...this.getRawAttributes()],n)}};function or(t,e){return _n.FromAttributeList(Object.entries(t),e)}function Ds(t,e){return new _n(t,e)}function dn(){return or({})}function So(){return or({[en]:Cs(),[Xe]:be[Xe],[Qe]:be[Qe],[Je]:be[Je]})}function ws(t){return t.map(([e,r])=>Le(r)?[e,r.catch(n=>{O.debug("promise rejection for resource attribute: %s - %s",e,n)})]:[e,r])}function Al(t){if(typeof t=="string"||t===void 0)return t;O.warn("Schema URL must be string or undefined, got %s. Schema URL will be ignored.",t)}function Rl(t,e){let r=t==null?void 0:t.schemaUrl,n=e==null?void 0:e.schemaUrl,o=r===void 0||r==="",i=n===void 0||n==="";if(o)return n;if(i||r===n)return r;O.warn('Schema URL merge conflict: old resource has "%s", updating resource has "%s". Resulting resource will have undefined Schema URL.',r,n)}var Ao=(t={})=>(t.detectors||[]).map(r=>{try{let n=Ds(r.detect(t));return O.debug(`${r.constructor.name} found resource.`,n),n}catch(n){return O.debug(`${r.constructor.name} failed: ${n.message}`),dn()}}).reduce((r,n)=>r.merge(n),dn());var Is="exception";var hn=class{constructor(e){l(this,"_spanContext");l(this,"kind");l(this,"parentSpanContext");l(this,"attributes",{});l(this,"links",[]);l(this,"events",[]);l(this,"startTime");l(this,"resource");l(this,"instrumentationScope");l(this,"_droppedAttributesCount",0);l(this,"_droppedEventsCount",0);l(this,"_droppedLinksCount",0);l(this,"_attributesCount",0);l(this,"name");l(this,"status",{code:St.UNSET});l(this,"endTime",[0,0]);l(this,"_ended",!1);l(this,"_duration",[-1,-1]);l(this,"_spanProcessor");l(this,"_spanLimits");l(this,"_attributeValueLengthLimit");l(this,"_performanceStartTime");l(this,"_performanceOffset");l(this,"_startTimeProvided");var n;let r=Date.now();this._spanContext=e.spanContext,this._performanceStartTime=lt.now(),this._performanceOffset=r-(this._performanceStartTime+lt.timeOrigin),this._startTimeProvided=e.startTime!=null,this._spanLimits=e.spanLimits,this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,this._spanProcessor=e.spanProcessor,this.name=e.name,this.parentSpanContext=e.parentSpanContext,this.kind=e.kind,this.links=e.links||[],this.startTime=this._getTime((n=e.startTime)!=null?n:r),this.resource=e.resource,this.instrumentationScope=e.scope,e.attributes!=null&&this.setAttributes(e.attributes),this._spanProcessor.onStart(this,e.context)}spanContext(){return this._spanContext}setAttribute(e,r){if(r==null||this._isSpanEnded())return this;if(e.length===0)return O.warn(`Invalid attribute key: ${e}`),this;if(!Wr(r))return O.warn(`Invalid attribute value set for key: ${e}`),this;let{attributeCountLimit:n}=this._spanLimits,o=!Object.prototype.hasOwnProperty.call(this.attributes,e);return n!==void 0&&this._attributesCount>=n&&o?(this._droppedAttributesCount++,this):(this.attributes[e]=this._truncateToSize(r),o&&this._attributesCount++,this)}setAttributes(e){for(let[r,n]of Object.entries(e))this.setAttribute(r,n);return this}addEvent(e,r,n){if(this._isSpanEnded())return this;let{eventCountLimit:o}=this._spanLimits;if(o===0)return O.warn("No events allowed."),this._droppedEventsCount++,this;o!==void 0&&this.events.length>=o&&(this._droppedEventsCount===0&&O.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),nn(r)&&(nn(n)||(n=r),r=void 0);let i=he(r);return this.events.push({name:e,attributes:i,time:this._getTime(n),droppedAttributesCount:0}),this}addLink(e){return this.links.push(e),this}addLinks(e){return this.links.push(...e),this}setStatus(e){return this._isSpanEnded()?this:(this.status={...e},this.status.message!=null&&typeof e.message!="string"&&(O.warn(`Dropping invalid status.message of type '${typeof e.message}', expected 'string'`),delete this.status.message),this)}updateName(e){return this._isSpanEnded()?this:(this.name=e,this)}end(e){if(this._isSpanEnded()){O.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);return}this.endTime=this._getTime(e),this._duration=_o(this.startTime,this.endTime),this._duration[0]<0&&(O.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&O.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`),this._spanProcessor.onEnding&&this._spanProcessor.onEnding(this),this._ended=!0,this._spanProcessor.onEnd(this)}_getTime(e){if(typeof e=="number"&&e<=lt.now())return Wt(e+this._performanceOffset);if(typeof e=="number")return At(e);if(e instanceof Date)return At(e.getTime());if(tr(e))return e;if(this._startTimeProvided)return At(Date.now());let r=lt.now()-this._performanceStartTime;return on(this.startTime,At(r))}isRecording(){return this._ended===!1}recordException(e,r){let n={};typeof e=="string"?n[$r]=e:e&&(e.code?n[Yr]=e.code.toString():e.name&&(n[Yr]=e.name),e.message&&(n[$r]=e.message),e.stack&&(n[ds]=e.stack)),n[Yr]||n[$r]?this.addEvent(Is,n,r):O.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){if(this._ended){let e=new Error(`Operation attempted on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`);O.warn(`Cannot execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`,e)}return this._ended}_truncateToLimitUtil(e,r){return e.length<=r?e:e.substring(0,r)}_truncateToSize(e){let r=this._attributeValueLengthLimit;return r<=0?(O.warn(`Attribute value limit must be positive, got ${r}`),e):typeof e=="string"?this._truncateToLimitUtil(e,r):Array.isArray(e)?e.map(n=>typeof n=="string"?this._truncateToLimitUtil(n,r):n):e}};var $t;(function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})($t||($t={}));var ie=class{shouldSample(){return{decision:$t.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};var Mt=class{shouldSample(){return{decision:$t.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};var Se=class{constructor(e){l(this,"_root");l(this,"_remoteParentSampled");l(this,"_remoteParentNotSampled");l(this,"_localParentSampled");l(this,"_localParentNotSampled");var r,n,o,i;this._root=e.root,this._root||(Nt(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Mt),this._remoteParentSampled=(r=e.remoteParentSampled)!=null?r:new Mt,this._remoteParentNotSampled=(n=e.remoteParentNotSampled)!=null?n:new ie,this._localParentSampled=(o=e.localParentSampled)!=null?o:new Mt,this._localParentNotSampled=(i=e.localParentNotSampled)!=null?i:new ie}shouldSample(e,r,n,o,i,s){let a=F.getSpanContext(e);return!a||!Kt(a)?this._root.shouldSample(e,r,n,o,i,s):a.isRemote?a.traceFlags&ht.SAMPLED?this._remoteParentSampled.shouldSample(e,r,n,o,i,s):this._remoteParentNotSampled.shouldSample(e,r,n,o,i,s):a.traceFlags&ht.SAMPLED?this._localParentSampled.shouldSample(e,r,n,o,i,s):this._localParentNotSampled.shouldSample(e,r,n,o,i,s)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};var ir=class{constructor(e=0){l(this,"_ratio");l(this,"_upperBound");this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,r){return{decision:jr(r)&&this._accumulate(r)<this._upperBound?$t.RECORD_AND_SAMPLED:$t.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let r=0;for(let n=0;n<e.length/8;n++){let o=n*8,i=parseInt(e.slice(o,o+8),16);r=(r^i)>>>0}return r}};var kt;(function(t){t.AlwaysOff="always_off",t.AlwaysOn="always_on",t.ParentBasedAlwaysOff="parentbased_always_off",t.ParentBasedAlwaysOn="parentbased_always_on",t.ParentBasedTraceIdRatio="parentbased_traceidratio",t.TraceIdRatio="traceidratio"})(kt||(kt={}));var mn=1;function Tn(){var t,e,r,n,o,i,s,a;return{sampler:Ro(),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(t=void 0)!=null?t:1/0,attributeCountLimit:(e=void 0)!=null?e:128},spanLimits:{attributeValueLengthLimit:(r=void 0)!=null?r:1/0,attributeCountLimit:(n=void 0)!=null?n:128,linkCountLimit:(o=void 0)!=null?o:128,eventCountLimit:(i=void 0)!=null?i:128,attributePerEventCountLimit:(s=void 0)!=null?s:128,attributePerLinkCountLimit:(a=void 0)!=null?a:128}}}function Ro(){var e;let t=(e=void 0)!=null?e:kt.ParentBasedAlwaysOn;switch(t){case kt.AlwaysOn:return new Mt;case kt.AlwaysOff:return new ie;case kt.ParentBasedAlwaysOn:return new Se({root:new Mt});case kt.ParentBasedAlwaysOff:return new Se({root:new ie});case kt.TraceIdRatio:return new ir(Ms());case kt.ParentBasedTraceIdRatio:return new Se({root:new ir(Ms())});default:return O.error(`OTEL_TRACES_SAMPLER value "${t}" invalid, defaulting to "${kt.ParentBasedAlwaysOn}".`),new Se({root:new Mt})}}function Ms(){let t=void 0;return t==null?(O.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${mn}.`),mn):t<0||t>1?(O.error(`OTEL_TRACES_SAMPLER_ARG=${t} was given, but it is out of range ([0..1]), defaulting to ${mn}.`),mn):t}var yl=128,Ol=1/0;function ks(t){let e={sampler:Ro()},r=Tn(),n=Object.assign({},r,e,t);return n.generalLimits=Object.assign({},r.generalLimits,t.generalLimits||{}),n.spanLimits=Object.assign({},r.spanLimits,t.spanLimits||{}),n}function Us(t){var r,n,o,i,s,a,c,u,p,m,g,y;let e=Object.assign({},t.spanLimits);return e.attributeCountLimit=(a=(s=(i=(o=(r=t.spanLimits)==null?void 0:r.attributeCountLimit)!=null?o:(n=t.generalLimits)==null?void 0:n.attributeCountLimit)!=null?i:void 0)!=null?s:void 0)!=null?a:yl,e.attributeValueLengthLimit=(y=(g=(m=(p=(c=t.spanLimits)==null?void 0:c.attributeValueLengthLimit)!=null?p:(u=t.generalLimits)==null?void 0:u.attributeValueLengthLimit)!=null?m:void 0)!=null?g:void 0)!=null?y:Ol,Object.assign({},t,{spanLimits:e})}var En=class{constructor(e,r){l(this,"_maxExportBatchSize");l(this,"_maxQueueSize");l(this,"_scheduledDelayMillis");l(this,"_exportTimeoutMillis");l(this,"_exporter");l(this,"_isExporting",!1);l(this,"_finishedSpans",[]);l(this,"_timer");l(this,"_shutdownOnce");l(this,"_droppedSpansCount",0);var n,o,i,s;this._exporter=e,this._maxExportBatchSize=typeof(r==null?void 0:r.maxExportBatchSize)=="number"?r.maxExportBatchSize:(n=void 0)!=null?n:512,this._maxQueueSize=typeof(r==null?void 0:r.maxQueueSize)=="number"?r.maxQueueSize:(o=void 0)!=null?o:2048,this._scheduledDelayMillis=typeof(r==null?void 0:r.scheduledDelayMillis)=="number"?r.scheduledDelayMillis:(i=void 0)!=null?i:5e3,this._exportTimeoutMillis=typeof(r==null?void 0:r.exportTimeoutMillis)=="number"?r.exportTimeoutMillis:(s=void 0)!=null?s:3e4,this._shutdownOnce=new nr(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(O.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(e,r){}onEnd(e){this._shutdownOnce.isCalled||(e.spanContext().traceFlags&ht.SAMPLED)!==0&&this._addToBuffer(e)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(e){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&O.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(O.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()}_flushAll(){return new Promise((e,r)=>{let n=[],o=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let i=0,s=o;i<s;i++)n.push(this._flushOneBatch());Promise.all(n).then(()=>{e()}).catch(r)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((e,r)=>{let n=setTimeout(()=>{r(new Error("Timeout"))},this._exportTimeoutMillis);G.with(po(G.active()),()=>{let o;this._finishedSpans.length<=this._maxExportBatchSize?(o=this._finishedSpans,this._finishedSpans=[]):o=this._finishedSpans.splice(0,this._maxExportBatchSize);let i=()=>this._exporter.export(o,a=>{var c;clearTimeout(n),a.code===er.SUCCESS?e():r((c=a.error)!=null?c:new Error("BatchSpanProcessor: span export failed"))}),s=null;for(let a=0,c=o.length;a<c;a++){let u=o[a];u.resource.asyncAttributesPending&&u.resource.waitForAsyncAttributes&&(s!=null||(s=[]),s.push(u.resource.waitForAsyncAttributes()))}s===null?i():Promise.all(s).then(i,a=>{Nt(a),r(a)})})})}_maybeStartTimer(){if(this._isExporting)return;let e=()=>{this._isExporting=!0,this._flushOneBatch().finally(()=>{this._isExporting=!1,this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(r=>{this._isExporting=!1,Nt(r)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return e();this._timer===void 0&&(this._timer=setTimeout(()=>e(),this._scheduledDelayMillis),typeof this._timer!="number"&&this._timer.unref())}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};var Ce=class extends En{constructor(r,n){super(r,n);l(this,"_visibilityChangeListener");l(this,"_pageHideListener");this.onInit(n)}onInit(r){(r==null?void 0:r.disableAutoFlushOnDocumentHide)!==!0&&typeof document!="undefined"&&(this._visibilityChangeListener=()=>{document.visibilityState==="hidden"&&this.forceFlush().catch(n=>{Nt(n)})},this._pageHideListener=()=>{this.forceFlush().catch(n=>{Nt(n)})},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))}onShutdown(){typeof document!="undefined"&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))}};var Hs=new Uint8Array(16),Gs=new Uint8Array(8),vl=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Bs(t){for(let e=0;e<t.length;e++)t[e]=Math.random()*256>>>0;for(let e=0;e<t.length;e++)if(t[e]>0)return;t[t.length-1]=1}function Vs(t){let e="";for(let r=0;r<t.length;r++)e+=vl[t[r]];return e}var we=class{generateTraceId(){return Bs(Hs),Vs(Hs)}generateSpanId(){return Bs(Gs),Vs(Gs)}};var gn=class{constructor(e,r,n,o){l(this,"_sampler");l(this,"_generalLimits");l(this,"_spanLimits");l(this,"_idGenerator");l(this,"instrumentationScope");l(this,"_resource");l(this,"_spanProcessor");let i=ks(r);this._sampler=i.sampler,this._generalLimits=i.generalLimits,this._spanLimits=i.spanLimits,this._idGenerator=r.idGenerator||new we,this._resource=n,this._spanProcessor=o,this.instrumentationScope=e}startSpan(e,r={},n=G.active()){var E,T,x;r.root&&(n=F.deleteSpan(n));let o=F.getSpan(n);if(de(n))return O.debug("Instrumentation suppressed, returning Noop Span"),F.wrapSpanContext(We);let i=o==null?void 0:o.spanContext(),s=this._idGenerator.generateSpanId(),a,c,u;!i||!F.isSpanContextValid(i)?c=this._idGenerator.generateTraceId():(c=i.traceId,u=i.traceState,a=i);let p=(E=r.kind)!=null?E:Zt.INTERNAL,m=((T=r.links)!=null?T:[]).map(v=>({context:v.context,attributes:he(v.attributes)})),g=he(r.attributes),y=this._sampler.shouldSample(n,c,e,p,g,m);u=(x=y.traceState)!=null?x:u;let I=y.decision===Ne.RECORD_AND_SAMPLED?ht.SAMPLED:ht.NONE,k={traceId:c,spanId:s,traceFlags:I,traceState:u};if(y.decision===Ne.NOT_RECORD)return O.debug("Recording is off, propagating context in a non-recording span"),F.wrapSpanContext(k);let Q=he(Object.assign(g,y.attributes));return new hn({resource:this._resource,scope:this.instrumentationScope,context:n,spanContext:k,name:e,kind:p,links:m,parentSpanContext:a,attributes:Q,startTime:r.startTime,spanProcessor:this._spanProcessor,spanLimits:this._spanLimits})}startActiveSpan(e,r,n,o){let i,s,a;if(arguments.length<2)return;arguments.length===2?a=r:arguments.length===3?(i=r,a=n):(i=r,s=n,a=o);let c=s!=null?s:G.active(),u=this.startSpan(e,i,c),p=F.setSpan(c,u);return G.with(p,a,void 0,u)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}};var Sn=class{constructor(e){l(this,"_spanProcessors");this._spanProcessors=e}forceFlush(){let e=[];for(let r of this._spanProcessors)e.push(r.forceFlush());return new Promise(r=>{Promise.all(e).then(()=>{r()}).catch(n=>{Nt(n||new Error("MultiSpanProcessor: forceFlush failed")),r()})})}onStart(e,r){for(let n of this._spanProcessors)n.onStart(e,r)}onEnding(e){for(let r of this._spanProcessors)r.onEnding&&r.onEnding(e)}onEnd(e){for(let r of this._spanProcessors)r.onEnd(e)}shutdown(){let e=[];for(let r of this._spanProcessors)e.push(r.shutdown());return new Promise((r,n)=>{Promise.all(e).then(()=>{r()},n)})}};var Ae;(function(t){t[t.resolved=0]="resolved",t[t.timeout=1]="timeout",t[t.error=2]="error",t[t.unresolved=3]="unresolved"})(Ae||(Ae={}));var sr=class{constructor(e={}){l(this,"_config");l(this,"_tracers",new Map);l(this,"_resource");l(this,"_activeSpanProcessor");var o,i;let r=Eo({},Tn(),Us(e));this._resource=(o=r.resource)!=null?o:So(),this._config=Object.assign({},r,{resource:this._resource});let n=[];(i=e.spanProcessors)!=null&&i.length&&n.push(...e.spanProcessors),this._activeSpanProcessor=new Sn(n)}getTracer(e,r,n){let o=`${e}@${r||""}:${(n==null?void 0:n.schemaUrl)||""}`;return this._tracers.has(o)||this._tracers.set(o,new gn({name:e,version:r,schemaUrl:n==null?void 0:n.schemaUrl},this._config,this._resource,this._activeSpanProcessor)),this._tracers.get(o)}forceFlush(){let e=this._config.forceFlushTimeoutMillis,r=this._activeSpanProcessor._spanProcessors.map(n=>new Promise(o=>{let i,s=setTimeout(()=>{o(new Error(`Span processor did not completed within timeout period of ${e} ms`)),i=Ae.timeout},e);n.forceFlush().then(()=>{clearTimeout(s),i!==Ae.timeout&&(i=Ae.resolved,o(i))}).catch(a=>{clearTimeout(s),i=Ae.error,o(a)})}));return new Promise((n,o)=>{Promise.all(r).then(i=>{let s=i.filter(a=>a!==Ae.resolved);s.length>0?o(s):n()}).catch(i=>o([i]))})}shutdown(){return this._activeSpanProcessor.shutdown()}};var An=class{constructor(){l(this,"_enabled",!1);l(this,"_currentContext",dt)}_bindFunction(e=dt,r){let n=this,o=function(...i){return n.with(e,()=>r.apply(this,i))};return Object.defineProperty(o,"length",{enumerable:!1,configurable:!0,writable:!1,value:r.length}),o}active(){return this._currentContext}bind(e,r){return e===void 0&&(e=this.active()),typeof r=="function"?this._bindFunction(e,r):r}disable(){return this._currentContext=dt,this._enabled=!1,this}enable(){return this._enabled?this:(this._enabled=!0,this._currentContext=dt,this)}with(e,r,n,...o){let i=this._currentContext;this._currentContext=e||dt;try{return r.call(n,...o)}finally{this._currentContext=i}}};function xl(t){if(t!==null){if(t===void 0){let e=new An;e.enable(),G.setGlobalContextManager(e);return}t.enable(),G.setGlobalContextManager(t)}}function Nl(t){if(t!==null){if(t===void 0){at.setGlobalPropagator(new Te({propagators:[new Ee,new Ye]}));return}at.setGlobalPropagator(t)}}var ar=class extends sr{constructor(e={}){super(e)}register(e={}){F.setGlobalTracerProvider(this),Nl(e.propagator),xl(e.contextManager)}};var U;(function(t){t.CONNECT_END="connectEnd",t.CONNECT_START="connectStart",t.DECODED_BODY_SIZE="decodedBodySize",t.DOM_COMPLETE="domComplete",t.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",t.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",t.DOM_INTERACTIVE="domInteractive",t.DOMAIN_LOOKUP_END="domainLookupEnd",t.DOMAIN_LOOKUP_START="domainLookupStart",t.ENCODED_BODY_SIZE="encodedBodySize",t.FETCH_START="fetchStart",t.LOAD_EVENT_END="loadEventEnd",t.LOAD_EVENT_START="loadEventStart",t.NAVIGATION_START="navigationStart",t.REDIRECT_END="redirectEnd",t.REDIRECT_START="redirectStart",t.REQUEST_START="requestStart",t.RESPONSE_END="responseEnd",t.RESPONSE_START="responseStart",t.SECURE_CONNECTION_START="secureConnectionStart",t.START_TIME="startTime",t.UNLOAD_EVENT_END="unloadEventEnd",t.UNLOAD_EVENT_START="unloadEventStart"})(U||(U={}));var Fs="http.response_content_length",js="http.response_content_length_uncompressed";var yo;function bl(){return yo||(yo=document.createElement("a")),yo}function Yt(t,e){return e in t}function it(t,e,r,n=!0){if(Yt(r,e)&&typeof r[e]=="number"&&!(n&&r[e]===0))return t.addEvent(e,r[e])}function Re(t,e,r=!1,n,o){if(n===void 0&&(n=e[U.START_TIME]!==0),r||(it(t,U.FETCH_START,e,n),it(t,U.DOMAIN_LOOKUP_START,e,n),it(t,U.DOMAIN_LOOKUP_END,e,n),it(t,U.CONNECT_START,e,n),it(t,U.SECURE_CONNECTION_START,e,n),it(t,U.CONNECT_END,e,n),it(t,U.REQUEST_START,e,n),it(t,U.RESPONSE_START,e,n),it(t,U.RESPONSE_END,e,n)),!o){let i=e[U.ENCODED_BODY_SIZE];i!==void 0&&t.setAttribute(Fs,i);let s=e[U.DECODED_BODY_SIZE];s!==void 0&&i!==s&&t.setAttribute(js,s)}}function zs(t){return t.slice().sort((e,r)=>{let n=e[U.FETCH_START],o=r[U.FETCH_START];return n>o?1:n<o?-1:0})}function Ks(){return typeof location!="undefined"?location.origin:void 0}function Oo(t,e,r,n,o=new WeakSet,i){let s=De(t);t=s.toString();let a=Ll(t,e,r,n,o,i);if(a.length===0)return{mainRequest:void 0};if(a.length===1)return{mainRequest:a[0]};let c=zs(a);if(s.origin!==Ks()&&c.length>1){let u=c[0],p=Pl(c,u[U.RESPONSE_END],r),m=u[U.RESPONSE_END];return p[U.FETCH_START]<m&&(p=u,u=void 0),{corsPreFlightRequest:u,mainRequest:p}}else return{mainRequest:a[0]}}function Pl(t,e,r){let n=It(r),o=It(me(e)),i=t[1],s,a=t.length;for(let c=1;c<a;c++){let u=t[c],p=It(me(u[U.FETCH_START])),m=It(me(u[U.RESPONSE_END])),g=n-m;p>=o&&(!s||g<s)&&(s=g,i=u)}return i}function Ll(t,e,r,n,o,i){let s=It(e),a=It(r),c=n.filter(u=>{let p=It(me(u[U.FETCH_START])),m=It(me(u[U.RESPONSE_END]));return u.initiatorType.toLowerCase()===(i||"xmlhttprequest")&&u.name===t&&p>=s&&m<=a});return c.length>0&&(c=c.filter(u=>!o.has(u))),c}function De(t){if(typeof URL=="function")return new URL(t,typeof document!="undefined"?document.baseURI:typeof location!="undefined"?location.href:void 0);let e=bl();return e.href=t,e}function Rn(t,e){if(t.nodeType===Node.DOCUMENT_NODE)return"/";let r=wl(t,e);if(e&&r.indexOf("@id")>0)return r;let n="";return t.parentNode&&(n+=Rn(t.parentNode,!1)),n+=r,n}function Cl(t){if(!t.parentNode)return 0;let e=[t.nodeType];t.nodeType===Node.CDATA_SECTION_NODE&&e.push(Node.TEXT_NODE);let r=Array.from(t.parentNode.childNodes);return r=r.filter(n=>{let o=n.localName;return e.indexOf(n.nodeType)>=0&&o===t.localName}),r.length>=1?r.indexOf(t)+1:0}function wl(t,e){let r=t.nodeType,n=Cl(t),o="";if(r===Node.ELEMENT_NODE){let i=t.getAttribute("id");if(e&&i)return`//*[@id="${i}"]`;o=t.localName}else if(r===Node.TEXT_NODE||r===Node.CDATA_SECTION_NODE)o="text()";else if(r===Node.COMMENT_NODE)o="comment()";else return"";return o&&n>1?`/${o}[${n}]`:`/${o}`}function vo(t,e){let r=e||[];return(typeof r=="string"||r instanceof RegExp)&&(r=[r]),De(t).origin===Ks()?!0:r.some(o=>ln(t,o))}function Zs(t){return typeof t=="object"&&t!==null&&"addEventListener"in t&&typeof t.addEventListener=="function"&&"removeEventListener"in t&&typeof t.removeEventListener=="function"}var Ws="OT_ZONE_CONTEXT",Ie=class{constructor(){l(this,"_enabled",!1);l(this,"_zoneCounter",0)}_activeContextFromZone(e){return e&&e.get(Ws)||dt}_bindFunction(e,r){let n=this,o=function(...i){return n.with(e,()=>r.apply(this,i))};return Object.defineProperty(o,"length",{enumerable:!1,configurable:!0,writable:!1,value:r.length}),o}_bindListener(e,r){let n=r;return n.__ot_listeners!==void 0||(n.__ot_listeners={},typeof n.addEventListener=="function"&&(n.addEventListener=this._patchAddEventListener(n,n.addEventListener,e)),typeof n.removeEventListener=="function"&&(n.removeEventListener=this._patchRemoveEventListener(n,n.removeEventListener))),r}_createZoneName(){this._zoneCounter++;let e=Math.random();return`${this._zoneCounter}-${e}`}_createZone(e,r){return Zone.current.fork({name:e,properties:{[Ws]:r}})}_getActiveZone(){return Zone.current}_patchAddEventListener(e,r,n){let o=this;return function(i,s,a){e.__ot_listeners===void 0&&(e.__ot_listeners={});let c=e.__ot_listeners[i];c===void 0&&(c=new WeakMap,e.__ot_listeners[i]=c);let u=o.bind(n,s);return c.set(s,u),r.call(this,i,u,a)}}_patchRemoveEventListener(e,r){return function(n,o){if(e.__ot_listeners===void 0||e.__ot_listeners[n]===void 0)return r.call(this,n,o);let i=e.__ot_listeners[n],s=i.get(o);return i.delete(o),r.call(this,n,s||o)}}active(){if(!this._enabled)return dt;let e=this._getActiveZone(),r=this._activeContextFromZone(e);return r||dt}bind(e,r){return e===void 0&&(e=this.active()),typeof r=="function"?this._bindFunction(e,r):(Zs(r)&&this._bindListener(e,r),r)}disable(){return this._enabled=!1,this}enable(){return this._enabled=!0,this}with(e,r,n,...o){let i=this._createZoneName();return this._createZone(i,e).run(r,n,o)}};var Il=Object.defineProperty,Ml=Object.defineProperties,kl=Object.getOwnPropertyDescriptors,$s=Object.getOwnPropertySymbols,Ul=Object.prototype.hasOwnProperty,Hl=Object.prototype.propertyIsEnumerable,bo=(t,e,r)=>e in t?Il(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ys=(t,e)=>{for(var r in e||(e={}))Ul.call(e,r)&&bo(t,r,e[r]);if($s)for(var r of $s(e))Hl.call(e,r)&&bo(t,r,e[r]);return t},Gl=(t,e)=>Ml(t,kl(e)),B=(t,e,r)=>(bo(t,typeof e!="symbol"?e+"":e,r),r),Ut=globalThis;function Rt(t){return(Ut.__Zone_symbol_prefix||"__zone_symbol__")+t}function Bl(){let t=Ut.performance;function e(q){t&&t.mark&&t.mark(q)}function r(q,d){t&&t.measure&&t.measure(q,d)}e("Zone");let n=class Po{constructor(d,_){B(this,"_parent"),B(this,"_name"),B(this,"_properties"),B(this,"_zoneDelegate"),this._parent=d,this._name=_?_.name||"unnamed":"<root>",this._properties=_&&_.properties||{},this._zoneDelegate=new s(this,this._parent&&this._parent._zoneDelegate,_)}static assertZonePatched(){if(Ut.Promise!==D.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let d=Po.current;for(;d.parent;)d=d.parent;return d}static get current(){return b.zone}static get currentTask(){return ft}static __load_patch(d,_,f=!1){if(D.hasOwnProperty(d)){let C=Ut[Rt("forceDuplicateZoneCheck")]===!0;if(!f&&C)throw Error("Already loaded patch: "+d)}else if(!Ut["__Zone_disable_"+d]){let C="Zone:"+d;e(C),D[d]=_(Ut,Po,H),r(C,C)}}get parent(){return this._parent}get name(){return this._name}get(d){let _=this.getZoneWith(d);if(_)return _._properties[d]}getZoneWith(d){let _=this;for(;_;){if(_._properties.hasOwnProperty(d))return _;_=_._parent}return null}fork(d){if(!d)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,d)}wrap(d,_){if(typeof d!="function")throw new Error("Expecting function got: "+d);let f=this._zoneDelegate.intercept(this,d,_),C=this;return function(){return C.runGuarded(f,this,arguments,_)}}run(d,_,f,C){b={parent:b,zone:this};try{return this._zoneDelegate.invoke(this,d,_,f,C)}finally{b=b.parent}}runGuarded(d,_=null,f,C){b={parent:b,zone:this};try{try{return this._zoneDelegate.invoke(this,d,_,f,C)}catch(X){if(this._zoneDelegate.handleError(this,X))throw X}}finally{b=b.parent}}runTask(d,_,f){if(d.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(d.zone||Z).name+"; Execution: "+this.name+")");let C=d,{type:X,data:{isPeriodic:$=!1,isRefreshable:Lt=!1}={}}=d;if(d.state===E&&(X===w||X===et))return;let Ft=d.state!=v;Ft&&C._transitionTo(v,x);let jt=ft;ft=C,b={parent:b,zone:this};try{X==et&&d.data&&!$&&!Lt&&(d.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,C,_,f)}catch(Ot){if(this._zoneDelegate.handleError(this,Ot))throw Ot}}finally{let Ot=d.state;if(Ot!==E&&Ot!==W)if(X==w||$||Lt&&Ot===T)Ft&&C._transitionTo(x,v,T);else{let R=C._zoneDelegates;this._updateTaskCount(C,-1),Ft&&C._transitionTo(E,v,E),Lt&&(C._zoneDelegates=R)}b=b.parent,ft=jt}}scheduleTask(d){if(d.zone&&d.zone!==this){let f=this;for(;f;){if(f===d.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${d.zone.name}`);f=f.parent}}d._transitionTo(T,E);let _=[];d._zoneDelegates=_,d._zone=this;try{d=this._zoneDelegate.scheduleTask(this,d)}catch(f){throw d._transitionTo(W,T,E),this._zoneDelegate.handleError(this,f),f}return d._zoneDelegates===_&&this._updateTaskCount(d,1),d.state==T&&d._transitionTo(x,T),d}scheduleMicroTask(d,_,f,C){return this.scheduleTask(new a(N,d,_,f,C,void 0))}scheduleMacroTask(d,_,f,C,X){return this.scheduleTask(new a(et,d,_,f,C,X))}scheduleEventTask(d,_,f,C,X){return this.scheduleTask(new a(w,d,_,f,C,X))}cancelTask(d){if(d.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(d.zone||Z).name+"; Execution: "+this.name+")");if(!(d.state!==x&&d.state!==v)){d._transitionTo(K,x,v);try{this._zoneDelegate.cancelTask(this,d)}catch(_){throw d._transitionTo(W,K),this._zoneDelegate.handleError(this,_),_}return this._updateTaskCount(d,-1),d._transitionTo(E,K),d.runCount=-1,d}}_updateTaskCount(d,_){let f=d._zoneDelegates;_==-1&&(d._zoneDelegates=null);for(let C=0;C<f.length;C++)f[C]._updateTaskCount(d.type,_)}};B(n,"__symbol__",Rt);let o=n,i={name:"",onHasTask:(q,d,_,f)=>q.hasTask(_,f),onScheduleTask:(q,d,_,f)=>q.scheduleTask(_,f),onInvokeTask:(q,d,_,f,C,X)=>q.invokeTask(_,f,C,X),onCancelTask:(q,d,_,f)=>q.cancelTask(_,f)};class s{constructor(d,_,f){B(this,"_zone"),B(this,"_taskCounts",{microTask:0,macroTask:0,eventTask:0}),B(this,"_parentDelegate"),B(this,"_forkDlgt"),B(this,"_forkZS"),B(this,"_forkCurrZone"),B(this,"_interceptDlgt"),B(this,"_interceptZS"),B(this,"_interceptCurrZone"),B(this,"_invokeDlgt"),B(this,"_invokeZS"),B(this,"_invokeCurrZone"),B(this,"_handleErrorDlgt"),B(this,"_handleErrorZS"),B(this,"_handleErrorCurrZone"),B(this,"_scheduleTaskDlgt"),B(this,"_scheduleTaskZS"),B(this,"_scheduleTaskCurrZone"),B(this,"_invokeTaskDlgt"),B(this,"_invokeTaskZS"),B(this,"_invokeTaskCurrZone"),B(this,"_cancelTaskDlgt"),B(this,"_cancelTaskZS"),B(this,"_cancelTaskCurrZone"),B(this,"_hasTaskDlgt"),B(this,"_hasTaskDlgtOwner"),B(this,"_hasTaskZS"),B(this,"_hasTaskCurrZone"),this._zone=d,this._parentDelegate=_,this._forkZS=f&&(f&&f.onFork?f:_._forkZS),this._forkDlgt=f&&(f.onFork?_:_._forkDlgt),this._forkCurrZone=f&&(f.onFork?this._zone:_._forkCurrZone),this._interceptZS=f&&(f.onIntercept?f:_._interceptZS),this._interceptDlgt=f&&(f.onIntercept?_:_._interceptDlgt),this._interceptCurrZone=f&&(f.onIntercept?this._zone:_._interceptCurrZone),this._invokeZS=f&&(f.onInvoke?f:_._invokeZS),this._invokeDlgt=f&&(f.onInvoke?_:_._invokeDlgt),this._invokeCurrZone=f&&(f.onInvoke?this._zone:_._invokeCurrZone),this._handleErrorZS=f&&(f.onHandleError?f:_._handleErrorZS),this._handleErrorDlgt=f&&(f.onHandleError?_:_._handleErrorDlgt),this._handleErrorCurrZone=f&&(f.onHandleError?this._zone:_._handleErrorCurrZone),this._scheduleTaskZS=f&&(f.onScheduleTask?f:_._scheduleTaskZS),this._scheduleTaskDlgt=f&&(f.onScheduleTask?_:_._scheduleTaskDlgt),this._scheduleTaskCurrZone=f&&(f.onScheduleTask?this._zone:_._scheduleTaskCurrZone),this._invokeTaskZS=f&&(f.onInvokeTask?f:_._invokeTaskZS),this._invokeTaskDlgt=f&&(f.onInvokeTask?_:_._invokeTaskDlgt),this._invokeTaskCurrZone=f&&(f.onInvokeTask?this._zone:_._invokeTaskCurrZone),this._cancelTaskZS=f&&(f.onCancelTask?f:_._cancelTaskZS),this._cancelTaskDlgt=f&&(f.onCancelTask?_:_._cancelTaskDlgt),this._cancelTaskCurrZone=f&&(f.onCancelTask?this._zone:_._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;let C=f&&f.onHasTask,X=_&&_._hasTaskZS;(C||X)&&(this._hasTaskZS=C?f:i,this._hasTaskDlgt=_,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,f.onScheduleTask||(this._scheduleTaskZS=i,this._scheduleTaskDlgt=_,this._scheduleTaskCurrZone=this._zone),f.onInvokeTask||(this._invokeTaskZS=i,this._invokeTaskDlgt=_,this._invokeTaskCurrZone=this._zone),f.onCancelTask||(this._cancelTaskZS=i,this._cancelTaskDlgt=_,this._cancelTaskCurrZone=this._zone))}get zone(){return this._zone}fork(d,_){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,d,_):new o(d,_)}intercept(d,_,f){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,d,_,f):_}invoke(d,_,f,C,X){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,d,_,f,C,X):_.apply(f,C)}handleError(d,_){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,d,_):!0}scheduleTask(d,_){let f=_;if(this._scheduleTaskZS)this._hasTaskZS&&f._zoneDelegates.push(this._hasTaskDlgtOwner),f=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,d,_),f||(f=_);else if(_.scheduleFn)_.scheduleFn(_);else if(_.type==N)k(_);else throw new Error("Task is missing scheduleFn.");return f}invokeTask(d,_,f,C){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,d,_,f,C):_.callback.apply(f,C)}cancelTask(d,_){let f;if(this._cancelTaskZS)f=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,d,_);else{if(!_.cancelFn)throw Error("Task is not cancelable");f=_.cancelFn(_)}return f}hasTask(d,_){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,d,_)}catch(f){this.handleError(d,f)}}_updateTaskCount(d,_){let f=this._taskCounts,C=f[d],X=f[d]=C+_;if(X<0)throw new Error("More tasks executed then were scheduled.");if(C==0||X==0){let $={microTask:f.microTask>0,macroTask:f.macroTask>0,eventTask:f.eventTask>0,change:d};this.hasTask(this._zone,$)}}}class a{constructor(d,_,f,C,X,$){if(B(this,"type"),B(this,"source"),B(this,"invoke"),B(this,"callback"),B(this,"data"),B(this,"scheduleFn"),B(this,"cancelFn"),B(this,"_zone",null),B(this,"runCount",0),B(this,"_zoneDelegates",null),B(this,"_state","notScheduled"),this.type=d,this.source=_,this.data=C,this.scheduleFn=X,this.cancelFn=$,!f)throw new Error("callback is not defined");this.callback=f;let Lt=this;d===w&&C&&C.useG?this.invoke=a.invokeTask:this.invoke=function(){return a.invokeTask.call(Ut,Lt,this,arguments)}}static invokeTask(d,_,f){d||(d=this),Et++;try{return d.runCount++,d.zone.runTask(d,_,f)}finally{Et==1&&Q(),Et--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(E,T)}_transitionTo(d,_,f){if(this._state===_||this._state===f)this._state=d,d==E&&(this._zoneDelegates=null);else throw new Error(`${this.type} '${this.source}': can not transition to '${d}', expecting state '${_}'${f?" or '"+f+"'":""}, was '${this._state}'.`)}toString(){return this.data&&typeof this.data.handleId!="undefined"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}let c=Rt("setTimeout"),u=Rt("Promise"),p=Rt("then"),m=[],g=!1,y;function I(q){if(y||Ut[u]&&(y=Ut[u].resolve(0)),y){let d=y[p];d||(d=y.then),d.call(y,q)}else Ut[c](q,0)}function k(q){Et===0&&m.length===0&&I(Q),q&&m.push(q)}function Q(){if(!g){for(g=!0;m.length;){let q=m;m=[];for(let d=0;d<q.length;d++){let _=q[d];try{_.zone.runTask(_,null,null)}catch(f){H.onUnhandledError(f)}}}H.microtaskDrainDone(),g=!1}}let Z={name:"NO ZONE"},E="notScheduled",T="scheduling",x="scheduled",v="running",K="canceling",W="unknown",N="microTask",et="macroTask",w="eventTask",D={},H={symbol:Rt,currentZoneFrame:()=>b,onUnhandledError:tt,microtaskDrainDone:tt,scheduleMicroTask:k,showUncaughtError:()=>!o[Rt("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:tt,patchMethod:()=>tt,bindArguments:()=>[],patchThen:()=>tt,patchMacroTask:()=>tt,patchEventPrototype:()=>tt,getGlobalObjects:()=>{},ObjectDefineProperty:()=>tt,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>tt,wrapWithCurrentZone:()=>tt,filterProperties:()=>[],attachOriginToPatched:()=>tt,_redefineProperty:()=>tt,patchCallbacks:()=>tt,nativeScheduleMicroTask:I},b={parent:null,zone:new o(null,null)},ft=null,Et=0;function tt(){}return r("Zone","Zone"),o}function Vl(){var t;let e=globalThis,r=e[Rt("forceDuplicateZoneCheck")]===!0;if(e.Zone&&(r||typeof e.Zone.__symbol__!="function"))throw new Error("Zone already loaded.");return(t=e.Zone)!=null||(e.Zone=Bl()),e.Zone}var ur=Object.getOwnPropertyDescriptor,Co=Object.defineProperty,wo=Object.getPrototypeOf,Fl=Object.create,jl=Array.prototype.slice,Do="addEventListener",Io="removeEventListener",xo=Rt(Do),No=Rt(Io),qt="true",Xt="false",lr=Rt("");function Mo(t,e){return Zone.current.wrap(t,e)}function ko(t,e,r,n,o){return Zone.current.scheduleMacroTask(t,e,r,n,o)}var Y=Rt,vn=typeof window!="undefined",xn=vn?window:void 0,ct=vn&&xn||globalThis,zl="removeAttribute";function Uo(t,e){for(let r=t.length-1;r>=0;r--)typeof t[r]=="function"&&(t[r]=Mo(t[r],e+"_"+r));return t}function Kl(t,e){let r=t.constructor.name;for(let n=0;n<e.length;n++){let o=e[n],i=t[o];if(i){let s=ur(t,o);if(!ea(s))continue;t[o]=(a=>{let c=function(){return a.apply(this,Uo(arguments,r+"."+o))};return Jt(c,a),c})(i)}}}function ea(t){return t?t.writable===!1?!1:!(typeof t.get=="function"&&typeof t.set=="undefined"):!0}var ra=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope,Nn=!("nw"in ct)&&typeof ct.process!="undefined"&&ct.process.toString()==="[object process]",Ho=!Nn&&!ra&&!!(vn&&xn.HTMLElement),na=typeof ct.process!="undefined"&&ct.process.toString()==="[object process]"&&!ra&&!!(vn&&xn.HTMLElement),On={},Zl=Y("enable_beforeunload"),qs=function(t){if(t=t||ct.event,!t)return;let e=On[t.type];e||(e=On[t.type]=Y("ON_PROPERTY"+t.type));let r=this||t.target||ct,n=r[e],o;if(Ho&&r===xn&&t.type==="error"){let i=t;o=n&&n.call(this,i.message,i.filename,i.lineno,i.colno,i.error),o===!0&&t.preventDefault()}else o=n&&n.apply(this,arguments),t.type==="beforeunload"&&ct[Zl]&&typeof o=="string"?t.returnValue=o:o!=null&&!o&&t.preventDefault();return o};function Xs(t,e,r){let n=ur(t,e);if(!n&&r&&ur(r,e)&&(n={enumerable:!0,configurable:!0}),!n||!n.configurable)return;let o=Y("on"+e+"patched");if(t.hasOwnProperty(o)&&t[o])return;delete n.writable,delete n.value;let i=n.get,s=n.set,a=e.slice(2),c=On[a];c||(c=On[a]=Y("ON_PROPERTY"+a)),n.set=function(u){let p=this;if(!p&&t===ct&&(p=ct),!p)return;typeof p[c]=="function"&&p.removeEventListener(a,qs),s==null||s.call(p,null),p[c]=u,typeof u=="function"&&p.addEventListener(a,qs,!1)},n.get=function(){let u=this;if(!u&&t===ct&&(u=ct),!u)return null;let p=u[c];if(p)return p;if(i){let m=i.call(this);if(m)return n.set.call(this,m),typeof u[zl]=="function"&&u.removeAttribute(e),m}return null},Co(t,e,n),t[o]=!0}function oa(t,e,r){if(e)for(let n=0;n<e.length;n++)Xs(t,"on"+e[n],r);else{let n=[];for(let o in t)o.slice(0,2)=="on"&&n.push(o);for(let o=0;o<n.length;o++)Xs(t,n[o],r)}}var bt=Y("originalInstance");function cr(t){let e=ct[t];if(!e)return;ct[Y(t)]=e,ct[t]=function(){let o=Uo(arguments,t);switch(o.length){case 0:this[bt]=new e;break;case 1:this[bt]=new e(o[0]);break;case 2:this[bt]=new e(o[0],o[1]);break;case 3:this[bt]=new e(o[0],o[1],o[2]);break;case 4:this[bt]=new e(o[0],o[1],o[2],o[3]);break;default:throw new Error("Arg list too long.")}},Jt(ct[t],e);let r=new e(function(){}),n;for(n in r)t==="XMLHttpRequest"&&n==="responseBlob"||(function(o){typeof r[o]=="function"?ct[t].prototype[o]=function(){return this[bt][o].apply(this[bt],arguments)}:Co(ct[t].prototype,o,{set:function(i){typeof i=="function"?(this[bt][o]=Mo(i,t+"."+o),Jt(this[bt][o],i)):this[bt][o]=i},get:function(){return this[bt][o]}})})(n);for(n in e)n!=="prototype"&&e.hasOwnProperty(n)&&(ct[t][n]=e[n])}function Wl(t,e){if(typeof Object.getOwnPropertySymbols!="function")return;Object.getOwnPropertySymbols(t).forEach(n=>{let o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,{get:function(){return t[n]},set:function(i){o&&(!o.writable||typeof o.set!="function")||(t[n]=i)},enumerable:o?o.enumerable:!0,configurable:o?o.configurable:!0})})}var $l=!1;function Qt(t,e,r){let n=t;for(;n&&!n.hasOwnProperty(e);)n=wo(n);!n&&t[e]&&(n=t);let o=Y(e),i=null;if(n&&(!(i=n[o])||!n.hasOwnProperty(o))){i=n[o]=n[e];let s=n&&ur(n,e);if(ea(s)){let a=r(i,o,e);n[e]=function(){return a(this,arguments)},Jt(n[e],i),$l&&Wl(i,n[e])}}return i}function Yl(t,e,r){let n=null;function o(i){let s=i.data;return s.args[s.cbIdx]=function(){i.invoke.apply(this,arguments)},n.apply(s.target,s.args),i}n=Qt(t,e,i=>function(s,a){let c=r(s,a);return c.cbIdx>=0&&typeof a[c.cbIdx]=="function"?ko(c.name,a[c.cbIdx],c,o):i.apply(s,a)})}function Jt(t,e){t[Y("OriginalDelegate")]=e}function Qs(t){return typeof t=="function"}function Js(t){return typeof t=="number"}var ql={useG:!0},yt={},ia={},sa=new RegExp("^"+lr+"(\\w+)(true|false)$"),aa=Y("propagationStopped");function ca(t,e){let r=(e?e(t):t)+Xt,n=(e?e(t):t)+qt,o=lr+r,i=lr+n;yt[t]={},yt[t][Xt]=o,yt[t][qt]=i}function Xl(t,e,r,n){let o=n&&n.add||Do,i=n&&n.rm||Io,s=n&&n.listeners||"eventListeners",a=n&&n.rmAll||"removeAllListeners",c=Y(o),u="."+o+":",p="prependListener",m="."+p+":",g=function(E,T,x){if(E.isRemoved)return;let v=E.callback;typeof v=="object"&&v.handleEvent&&(E.callback=N=>v.handleEvent(N),E.originalDelegate=v);let K;try{E.invoke(E,T,[x])}catch(N){K=N}let W=E.options;if(W&&typeof W=="object"&&W.once){let N=E.originalDelegate?E.originalDelegate:E.callback;T[i].call(T,x.type,N,W)}return K};function y(E,T,x){if(T=T||t.event,!T)return;let v=E||T.target||t,K=v[yt[T.type][x?qt:Xt]];if(K){let W=[];if(K.length===1){let N=g(K[0],v,T);N&&W.push(N)}else{let N=K.slice();for(let et=0;et<N.length&&!(T&&T[aa]===!0);et++){let w=g(N[et],v,T);w&&W.push(w)}}if(W.length===1)throw W[0];for(let N=0;N<W.length;N++){let et=W[N];e.nativeScheduleMicroTask(()=>{throw et})}}}let I=function(E){return y(this,E,!1)},k=function(E){return y(this,E,!0)};function Q(E,T){if(!E)return!1;let x=!0;T&&T.useG!==void 0&&(x=T.useG);let v=T&&T.vh,K=!0;T&&T.chkDup!==void 0&&(K=T.chkDup);let W=!1;T&&T.rt!==void 0&&(W=T.rt);let N=E;for(;N&&!N.hasOwnProperty(o);)N=wo(N);if(!N&&E[o]&&(N=E),!N||N[c])return!1;let et=T&&T.eventNameToString,w={},D=N[c]=N[o],H=N[Y(i)]=N[i],b=N[Y(s)]=N[s],ft=N[Y(a)]=N[a],Et;T&&T.prepend&&(Et=N[Y(T.prepend)]=N[T.prepend]);function tt(h,A){return A?typeof h=="boolean"?{capture:h,passive:!0}:h?typeof h=="object"&&h.passive!==!1?Gl(Ys({},h),{passive:!0}):h:{passive:!0}:h}let q=function(h){if(!w.isExisting)return D.call(w.target,w.eventName,w.capture?k:I,w.options)},d=function(h){if(!h.isRemoved){let A=yt[h.eventName],L;A&&(L=A[h.capture?qt:Xt]);let M=L&&h.target[L];if(M){for(let P=0;P<M.length;P++)if(M[P]===h){M.splice(P,1),h.isRemoved=!0,h.removeAbortListener&&(h.removeAbortListener(),h.removeAbortListener=null),M.length===0&&(h.allRemoved=!0,h.target[L]=null);break}}}if(h.allRemoved)return H.call(h.target,h.eventName,h.capture?k:I,h.options)},_=function(h){return D.call(w.target,w.eventName,h.invoke,w.options)},f=function(h){return Et.call(w.target,w.eventName,h.invoke,w.options)},C=function(h){return H.call(h.target,h.eventName,h.invoke,h.options)},X=x?q:_,$=x?d:C,Lt=function(h,A){let L=typeof A;return L==="function"&&h.callback===A||L==="object"&&h.originalDelegate===A},Ft=(T==null?void 0:T.diff)||Lt,jt=Zone[Y("UNPATCHED_EVENTS")],Ot=t[Y("PASSIVE_EVENTS")];function R(h){if(typeof h=="object"&&h!==null){let A=Ys({},h);return h.signal&&(A.signal=h.signal),A}return h}let S=function(h,A,L,M,P=!1,V=!1){return function(){let j=this||t,z=arguments[0];T&&T.transferEventName&&(z=T.transferEventName(z));let rt=arguments[1];if(!rt)return h.apply(this,arguments);if(Nn&&z==="uncaughtException")return h.apply(this,arguments);let nt=!1;if(typeof rt!="function"){if(!rt.handleEvent)return h.apply(this,arguments);nt=!0}if(v&&!v(h,rt,j,arguments))return;let ee=!!Ot&&Ot.indexOf(z)!==-1,vt=R(tt(arguments[2],ee)),le=vt==null?void 0:vt.signal;if(le!=null&&le.aborted)return;if(jt){for(let Ct=0;Ct<jt.length;Ct++)if(z===jt[Ct])return ee?h.call(j,z,rt,vt):h.apply(this,arguments)}let Qn=vt?typeof vt=="boolean"?!0:vt.capture:!1,Pi=vt&&typeof vt=="object"?vt.once:!1,Xc=Zone.current,Jn=yt[z];Jn||(ca(z,et),Jn=yt[z]);let Li=Jn[Qn?qt:Xt],xe=j[Li],Ci=!1;if(xe){if(Ci=!0,K){for(let Ct=0;Ct<xe.length;Ct++)if(Ft(xe[Ct],rt))return}}else xe=j[Li]=[];let Ur,wi=j.constructor.name,Di=ia[wi];Di&&(Ur=Di[z]),Ur||(Ur=wi+A+(et?et(z):z)),w.options=vt,Pi&&(w.options.once=!1),w.target=j,w.capture=Qn,w.eventName=z,w.isExisting=Ci;let je=x?ql:void 0;je&&(je.taskData=w),le&&(w.options.signal=void 0);let xt=Xc.scheduleEventTask(Ur,rt,je,L,M);if(le){w.options.signal=le;let Ct=()=>xt.zone.cancelTask(xt);h.call(le,"abort",Ct,{once:!0}),xt.removeAbortListener=()=>le.removeEventListener("abort",Ct)}if(w.target=null,je&&(je.taskData=null),Pi&&(w.options.once=!0),typeof xt.options!="boolean"&&(xt.options=vt),xt.target=j,xt.capture=Qn,xt.eventName=z,nt&&(xt.originalDelegate=rt),V?xe.unshift(xt):xe.push(xt),P)return j}};return N[o]=S(D,u,X,$,W),Et&&(N[p]=S(Et,m,f,$,W,!0)),N[i]=function(){let h=this||t,A=arguments[0];T&&T.transferEventName&&(A=T.transferEventName(A));let L=arguments[2],M=L?typeof L=="boolean"?!0:L.capture:!1,P=arguments[1];if(!P)return H.apply(this,arguments);if(v&&!v(H,P,h,arguments))return;let V=yt[A],j;V&&(j=V[M?qt:Xt]);let z=j&&h[j];if(z)for(let rt=0;rt<z.length;rt++){let nt=z[rt];if(Ft(nt,P)){if(z.splice(rt,1),nt.isRemoved=!0,z.length===0&&(nt.allRemoved=!0,h[j]=null,!M&&typeof A=="string")){let ee=lr+"ON_PROPERTY"+A;h[ee]=null}return nt.zone.cancelTask(nt),W?h:void 0}}return H.apply(this,arguments)},N[s]=function(){let h=this||t,A=arguments[0];T&&T.transferEventName&&(A=T.transferEventName(A));let L=[],M=ua(h,et?et(A):A);for(let P=0;P<M.length;P++){let V=M[P],j=V.originalDelegate?V.originalDelegate:V.callback;L.push(j)}return L},N[a]=function(){let h=this||t,A=arguments[0];if(A){T&&T.transferEventName&&(A=T.transferEventName(A));let L=yt[A];if(L){let M=L[Xt],P=L[qt],V=h[M],j=h[P];if(V){let z=V.slice();for(let rt=0;rt<z.length;rt++){let nt=z[rt],ee=nt.originalDelegate?nt.originalDelegate:nt.callback;this[i].call(this,A,ee,nt.options)}}if(j){let z=j.slice();for(let rt=0;rt<z.length;rt++){let nt=z[rt],ee=nt.originalDelegate?nt.originalDelegate:nt.callback;this[i].call(this,A,ee,nt.options)}}}}else{let L=Object.keys(h);for(let M=0;M<L.length;M++){let P=L[M],V=sa.exec(P),j=V&&V[1];j&&j!=="removeListener"&&this[a].call(this,j)}this[a].call(this,"removeListener")}if(W)return this},Jt(N[o],D),Jt(N[i],H),ft&&Jt(N[a],ft),b&&Jt(N[s],b),!0}let Z=[];for(let E=0;E<r.length;E++)Z[E]=Q(r[E],n);return Z}function ua(t,e){if(!e){let i=[];for(let s in t){let a=sa.exec(s),c=a&&a[1];if(c&&(!e||c===e)){let u=t[s];if(u)for(let p=0;p<u.length;p++)i.push(u[p])}}return i}let r=yt[e];r||(ca(e),r=yt[e]);let n=t[r[Xt]],o=t[r[qt]];return n?o?n.concat(o):n.slice():o?o.slice():[]}function Ql(t,e){let r=t.Event;r&&r.prototype&&e.patchMethod(r.prototype,"stopImmediatePropagation",n=>function(o,i){o[aa]=!0,n&&n.apply(o,i)})}function Jl(t,e){e.patchMethod(t,"queueMicrotask",r=>function(n,o){Zone.current.scheduleMicroTask("queueMicrotask",o[0])})}var yn=Y("zoneTask");function Me(t,e,r,n){let o=null,i=null;e+=n,r+=n;let s={};function a(u){let p=u.data;p.args[0]=function(){return u.invoke.apply(this,arguments)};let m=o.apply(t,p.args);return Js(m)?p.handleId=m:(p.handle=m,p.isRefreshable=Qs(m.refresh)),u}function c(u){let{handle:p,handleId:m}=u.data;return i.call(t,p!=null?p:m)}o=Qt(t,e,u=>function(p,m){var g;if(Qs(m[0])){let y={isRefreshable:!1,isPeriodic:n==="Interval",delay:n==="Timeout"||n==="Interval"?m[1]||0:void 0,args:m},I=m[0];m[0]=function(){try{return I.apply(this,arguments)}finally{let{handle:v,handleId:K,isPeriodic:W,isRefreshable:N}=y;!W&&!N&&(K?delete s[K]:v&&(v[yn]=null))}};let k=ko(e,m[0],y,a,c);if(!k)return k;let{handleId:Q,handle:Z,isRefreshable:E,isPeriodic:T}=k.data;if(Q)s[Q]=k;else if(Z&&(Z[yn]=k,E&&!T)){let x=Z.refresh;Z.refresh=function(){let{zone:v,state:K}=k;return K==="notScheduled"?(k._state="scheduled",v._updateTaskCount(k,1)):K==="running"&&(k._state="scheduling"),x.call(this)}}return(g=Z!=null?Z:Q)!=null?g:k}else return u.apply(t,m)}),i=Qt(t,r,u=>function(p,m){let g=m[0],y;Js(g)?(y=s[g],delete s[g]):(y=g==null?void 0:g[yn],y?g[yn]=null:y=g),y!=null&&y.type?y.cancelFn&&y.zone.cancelTask(y):u.apply(t,m)})}function tp(t,e){let{isBrowser:r,isMix:n}=e.getGlobalObjects();if(!r&&!n||!t.customElements||!("customElements"in t))return;let o=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"];e.patchCallbacks(e,t.customElements,"customElements","define",o)}function ep(t,e){if(Zone[e.symbol("patchEventTarget")])return;let{eventNames:r,zoneSymbolEventNames:n,TRUE_STR:o,FALSE_STR:i,ZONE_SYMBOL_PREFIX:s}=e.getGlobalObjects();for(let c=0;c<r.length;c++){let u=r[c],p=u+i,m=u+o,g=s+p,y=s+m;n[u]={},n[u][i]=g,n[u][o]=y}let a=t.EventTarget;if(!(!a||!a.prototype))return e.patchEventTarget(t,e,[a&&a.prototype]),!0}function rp(t,e){e.patchEventPrototype(t,e)}function la(t,e,r){if(!r||r.length===0)return e;let n=r.filter(i=>i.target===t);if(n.length===0)return e;let o=n[0].ignoreProperties;return e.filter(i=>o.indexOf(i)===-1)}function ta(t,e,r,n){if(!t)return;let o=la(t,e,r);oa(t,o,n)}function Lo(t){return Object.getOwnPropertyNames(t).filter(e=>e.startsWith("on")&&e.length>2).map(e=>e.substring(2))}function np(t,e){if(Nn&&!na||Zone[t.symbol("patchEvents")])return;let r=e.__Zone_ignore_on_properties,n=[];if(Ho){let o=window;n=n.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]),ta(o,Lo(o),r,wo(o))}n=n.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let o=0;o<n.length;o++){let i=e[n[o]];i!=null&&i.prototype&&ta(i.prototype,Lo(i.prototype),r)}}function op(t){t.__load_patch("timers",e=>{let n="clear";Me(e,"set",n,"Timeout"),Me(e,"set",n,"Interval"),Me(e,"set",n,"Immediate")}),t.__load_patch("requestAnimationFrame",e=>{Me(e,"request","cancel","AnimationFrame"),Me(e,"mozRequest","mozCancel","AnimationFrame"),Me(e,"webkitRequest","webkitCancel","AnimationFrame")}),t.__load_patch("blocking",(e,r)=>{let n=["alert","prompt","confirm"];for(let o=0;o<n.length;o++){let i=n[o];Qt(e,i,(s,a,c)=>function(u,p){return r.current.run(s,e,p,c)})}}),t.__load_patch("EventTarget",(e,r,n)=>{rp(e,n),ep(e,n);let o=e.XMLHttpRequestEventTarget;o&&o.prototype&&n.patchEventTarget(e,n,[o.prototype])}),t.__load_patch("MutationObserver",(e,r,n)=>{cr("MutationObserver"),cr("WebKitMutationObserver")}),t.__load_patch("IntersectionObserver",(e,r,n)=>{cr("IntersectionObserver")}),t.__load_patch("FileReader",(e,r,n)=>{cr("FileReader")}),t.__load_patch("on_property",(e,r,n)=>{np(n,e)}),t.__load_patch("customElements",(e,r,n)=>{tp(e,n)}),t.__load_patch("XHR",(e,r)=>{u(e);let n=Y("xhrTask"),o=Y("xhrSync"),i=Y("xhrListener"),s=Y("xhrScheduled"),a=Y("xhrURL"),c=Y("xhrErrorBeforeScheduled");function u(p){let m=p.XMLHttpRequest;if(!m)return;let g=m.prototype;function y(D){return D[n]}let I=g[xo],k=g[No];if(!I){let D=p.XMLHttpRequestEventTarget;if(D){let H=D.prototype;I=H[xo],k=H[No]}}let Q="readystatechange",Z="scheduled";function E(D){let H=D.data,b=H.target;b[s]=!1,b[c]=!1;let ft=b[i];I||(I=b[xo],k=b[No]),ft&&k.call(b,Q,ft);let Et=b[i]=()=>{if(b.readyState===b.DONE)if(!H.aborted&&b[s]&&D.state===Z){let q=b[r.__symbol__("loadfalse")];if(b.status!==0&&q&&q.length>0){let d=D.invoke;D.invoke=function(){let _=b[r.__symbol__("loadfalse")];for(let f=0;f<_.length;f++)_[f]===D&&_.splice(f,1);!H.aborted&&D.state===Z&&d.call(D)},q.push(D)}else D.invoke()}else!H.aborted&&b[s]===!1&&(b[c]=!0)};return I.call(b,Q,Et),b[n]||(b[n]=D),et.apply(b,H.args),b[s]=!0,D}function T(){}function x(D){let H=D.data;return H.aborted=!0,w.apply(H.target,H.args)}let v=Qt(g,"open",()=>function(D,H){return D[o]=H[2]==!1,D[a]=H[1],v.apply(D,H)}),K="XMLHttpRequest.send",W=Y("fetchTaskAborting"),N=Y("fetchTaskScheduling"),et=Qt(g,"send",()=>function(D,H){if(r.current[N]===!0||D[o])return et.apply(D,H);{let b={target:D,url:D[a],isPeriodic:!1,args:H,aborted:!1},ft=ko(K,T,b,E,x);D&&D[c]===!0&&!b.aborted&&ft.state===Z&&ft.invoke()}}),w=Qt(g,"abort",()=>function(D,H){let b=y(D);if(b&&typeof b.type=="string"){if(b.cancelFn==null||b.data&&b.data.aborted)return;b.zone.cancelTask(b)}else if(r.current[W]===!0)return w.apply(D,H)})}}),t.__load_patch("geolocation",e=>{e.navigator&&e.navigator.geolocation&&Kl(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}),t.__load_patch("PromiseRejectionEvent",(e,r)=>{function n(o){return function(i){ua(e,o).forEach(a=>{let c=e.PromiseRejectionEvent;if(c){let u=new c(o,{promise:i.promise,reason:i.rejection});a.invoke(u)}})}}e.PromiseRejectionEvent&&(r[Y("unhandledPromiseRejectionHandler")]=n("unhandledrejection"),r[Y("rejectionHandledHandler")]=n("rejectionhandled"))}),t.__load_patch("queueMicrotask",(e,r,n)=>{Jl(e,n)})}function ip(t){t.__load_patch("ZoneAwarePromise",(e,r,n)=>{let o=Object.getOwnPropertyDescriptor,i=Object.defineProperty;function s(R){if(R&&R.toString===Object.prototype.toString){let S=R.constructor&&R.constructor.name;return(S||"")+": "+JSON.stringify(R)}return R?R.toString():Object.prototype.toString.call(R)}let a=n.symbol,c=[],u=e[a("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")]!==!1,p=a("Promise"),m=a("then"),g="__creationTrace__";n.onUnhandledError=R=>{if(n.showUncaughtError()){let S=R&&R.rejection;S?console.error("Unhandled Promise rejection:",S instanceof Error?S.message:S,"; Zone:",R.zone.name,"; Task:",R.task&&R.task.source,"; Value:",S,S instanceof Error?S.stack:void 0):console.error(R)}},n.microtaskDrainDone=()=>{for(;c.length;){let R=c.shift();try{R.zone.runGuarded(()=>{throw R.throwOriginal?R.rejection:R})}catch(S){I(S)}}};let y=a("unhandledPromiseRejectionHandler");function I(R){n.onUnhandledError(R);try{let S=r[y];typeof S=="function"&&S.call(this,R)}catch(S){}}function k(R){return R&&typeof R.then=="function"}function Q(R){return R}function Z(R){return $.reject(R)}let E=a("state"),T=a("value"),x=a("finally"),v=a("parentPromiseValue"),K=a("parentPromiseState"),W="Promise.then",N=null,et=!0,w=!1,D=0;function H(R,S){return h=>{try{tt(R,S,h)}catch(A){tt(R,!1,A)}}}let b=function(){let R=!1;return function(h){return function(){R||(R=!0,h.apply(null,arguments))}}},ft="Promise resolved with itself",Et=a("currentTaskTrace");function tt(R,S,h){let A=b();if(R===h)throw new TypeError(ft);if(R[E]===N){let L=null;try{(typeof h=="object"||typeof h=="function")&&(L=h&&h.then)}catch(M){return A(()=>{tt(R,!1,M)})(),R}if(S!==w&&h instanceof $&&h.hasOwnProperty(E)&&h.hasOwnProperty(T)&&h[E]!==N)d(h),tt(R,h[E],h[T]);else if(S!==w&&typeof L=="function")try{L.call(h,A(H(R,S)),A(H(R,!1)))}catch(M){A(()=>{tt(R,!1,M)})()}else{R[E]=S;let M=R[T];if(R[T]=h,R[x]===x&&S===et&&(R[E]=R[K],R[T]=R[v]),S===w&&h instanceof Error){let P=r.currentTask&&r.currentTask.data&&r.currentTask.data[g];P&&i(h,Et,{configurable:!0,enumerable:!1,writable:!0,value:P})}for(let P=0;P<M.length;)_(R,M[P++],M[P++],M[P++],M[P++]);if(M.length==0&&S==w){R[E]=D;let P=h;try{throw new Error("Uncaught (in promise): "+s(h)+(h&&h.stack?`
`+h.stack:""))}catch(V){P=V}u&&(P.throwOriginal=!0),P.rejection=h,P.promise=R,P.zone=r.current,P.task=r.currentTask,c.push(P),n.scheduleMicroTask()}}}return R}let q=a("rejectionHandledHandler");function d(R){if(R[E]===D){try{let S=r[q];S&&typeof S=="function"&&S.call(this,{rejection:R[T],promise:R})}catch(S){}R[E]=w;for(let S=0;S<c.length;S++)R===c[S].promise&&c.splice(S,1)}}function _(R,S,h,A,L){d(R);let M=R[E],P=M?typeof A=="function"?A:Q:typeof L=="function"?L:Z;S.scheduleMicroTask(W,()=>{try{let V=R[T],j=!!h&&x===h[x];j&&(h[v]=V,h[K]=M);let z=S.run(P,void 0,j&&P!==Z&&P!==Q?[]:[V]);tt(h,!0,z)}catch(V){tt(h,!1,V)}},h)}let f="function ZoneAwarePromise() { [native code] }",C=function(){},X=e.AggregateError;class ${static toString(){return f}static resolve(S){return S instanceof $?S:tt(new this(null),et,S)}static reject(S){return tt(new this(null),w,S)}static withResolvers(){let S={};return S.promise=new $((h,A)=>{S.resolve=h,S.reject=A}),S}static any(S){if(!S||typeof S[Symbol.iterator]!="function")return Promise.reject(new X([],"All promises were rejected"));let h=[],A=0;try{for(let P of S)A++,h.push($.resolve(P))}catch(P){return Promise.reject(new X([],"All promises were rejected"))}if(A===0)return Promise.reject(new X([],"All promises were rejected"));let L=!1,M=[];return new $((P,V)=>{for(let j=0;j<h.length;j++)h[j].then(z=>{L||(L=!0,P(z))},z=>{M.push(z),A--,A===0&&(L=!0,V(new X(M,"All promises were rejected")))})})}static race(S){let h,A,L=new this((V,j)=>{h=V,A=j});function M(V){h(V)}function P(V){A(V)}for(let V of S)k(V)||(V=this.resolve(V)),V.then(M,P);return L}static all(S){return $.allWithCallback(S)}static allSettled(S){return(this&&this.prototype instanceof $?this:$).allWithCallback(S,{thenCallback:A=>({status:"fulfilled",value:A}),errorCallback:A=>({status:"rejected",reason:A})})}static allWithCallback(S,h){let A,L,M=new this((z,rt)=>{A=z,L=rt}),P=2,V=0,j=[];for(let z of S){k(z)||(z=this.resolve(z));let rt=V;try{z.then(nt=>{j[rt]=h?h.thenCallback(nt):nt,P--,P===0&&A(j)},nt=>{h?(j[rt]=h.errorCallback(nt),P--,P===0&&A(j)):L(nt)})}catch(nt){L(nt)}P++,V++}return P-=2,P===0&&A(j),M}constructor(S){let h=this;if(!(h instanceof $))throw new Error("Must be an instanceof Promise.");h[E]=N,h[T]=[];try{let A=b();S&&S(A(H(h,et)),A(H(h,w)))}catch(A){tt(h,!1,A)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return $}then(S,h){var A;let L=(A=this.constructor)==null?void 0:A[Symbol.species];(!L||typeof L!="function")&&(L=this.constructor||$);let M=new L(C),P=r.current;return this[E]==N?this[T].push(P,M,S,h):_(this,P,M,S,h),M}catch(S){return this.then(null,S)}finally(S){var h;let A=(h=this.constructor)==null?void 0:h[Symbol.species];(!A||typeof A!="function")&&(A=$);let L=new A(C);L[x]=x;let M=r.current;return this[E]==N?this[T].push(M,L,S,S):_(this,M,L,S,S),L}}$.resolve=$.resolve,$.reject=$.reject,$.race=$.race,$.all=$.all;let Lt=e[p]=e.Promise;e.Promise=$;let Ft=a("thenPatched");function jt(R){let S=R.prototype,h=o(S,"then");if(h&&(h.writable===!1||!h.configurable))return;let A=S.then;S[m]=A,R.prototype.then=function(L,M){return new $((V,j)=>{A.call(this,V,j)}).then(L,M)},R[Ft]=!0}n.patchThen=jt;function Ot(R){return function(S,h){let A=R.apply(S,h);if(A instanceof $)return A;let L=A.constructor;return L[Ft]||jt(L),A}}return Lt&&(jt(Lt),Qt(e,"fetch",R=>Ot(R))),Promise[r.__symbol__("uncaughtPromiseErrors")]=c,$})}function sp(t){t.__load_patch("toString",e=>{let r=Function.prototype.toString,n=Y("OriginalDelegate"),o=Y("Promise"),i=Y("Error"),s=function(){if(typeof this=="function"){let p=this[n];if(p)return typeof p=="function"?r.call(p):Object.prototype.toString.call(p);if(this===Promise){let m=e[o];if(m)return r.call(m)}if(this===Error){let m=e[i];if(m)return r.call(m)}}return r.call(this)};s[n]=r,Function.prototype.toString=s;let a=Object.prototype.toString,c="[object Promise]";Object.prototype.toString=function(){return typeof Promise=="function"&&this instanceof Promise?c:a.call(this)}})}function ap(t,e,r,n,o){let i=Zone.__symbol__(n);if(e[i])return;let s=e[i]=e[n];e[n]=function(a,c,u){return c&&c.prototype&&o.forEach(function(p){let m=`${r}.${n}::`+p,g=c.prototype;try{if(g.hasOwnProperty(p)){let y=t.ObjectGetOwnPropertyDescriptor(g,p);y&&y.value?(y.value=t.wrapWithCurrentZone(y.value,m),t._redefineProperty(c.prototype,p,y)):g[p]&&(g[p]=t.wrapWithCurrentZone(g[p],m))}else g[p]&&(g[p]=t.wrapWithCurrentZone(g[p],m))}catch(y){}}),s.call(e,a,c,u)},t.attachOriginToPatched(e[n],s)}function cp(t){t.__load_patch("util",(e,r,n)=>{let o=Lo(e);n.patchOnProperties=oa,n.patchMethod=Qt,n.bindArguments=Uo,n.patchMacroTask=Yl;let i=r.__symbol__("BLACK_LISTED_EVENTS"),s=r.__symbol__("UNPATCHED_EVENTS");e[s]&&(e[i]=e[s]),e[i]&&(r[i]=r[s]=e[i]),n.patchEventPrototype=Ql,n.patchEventTarget=Xl,n.ObjectDefineProperty=Co,n.ObjectGetOwnPropertyDescriptor=ur,n.ObjectCreate=Fl,n.ArraySlice=jl,n.patchClass=cr,n.wrapWithCurrentZone=Mo,n.filterProperties=la,n.attachOriginToPatched=Jt,n._redefineProperty=Object.defineProperty,n.patchCallbacks=ap,n.getGlobalObjects=()=>({globalSources:ia,zoneSymbolEventNames:yt,eventNames:o,isBrowser:Ho,isMix:na,isNode:Nn,TRUE_STR:qt,FALSE_STR:Xt,ZONE_SYMBOL_PREFIX:lr,ADD_EVENT_LISTENER_STR:Do,REMOVE_EVENT_LISTENER_STR:Io})})}function up(t){ip(t),sp(t),cp(t)}var pa=Vl();up(pa);op(pa);var pr=class{emit(e){}},fa=new pr;var fr=Symbol.for("io.opentelemetry.js.api.logs"),ke=globalThis;function _a(t,e,r){return n=>n===t?e:r}var Go=1;var Bo=class{getLogger(e,r,n){return new pr}},bn=new Bo;var Pn=class{constructor(e,r,n,o){this._provider=e,this.name=r,this.version=n,this.options=o}emit(e){this._getLogger().emit(e)}_getLogger(){if(this._delegate)return this._delegate;let e=this._provider._getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):fa}};var _r=class{getLogger(e,r,n){var o;return(o=this._getDelegateLogger(e,r,n))!==null&&o!==void 0?o:new Pn(this,e,r,n)}_getDelegate(){var e;return(e=this._delegate)!==null&&e!==void 0?e:bn}_setDelegate(e){this._delegate=e}_getDelegateLogger(e,r,n){var o;return(o=this._delegate)===null||o===void 0?void 0:o.getLogger(e,r,n)}};var Ln=class t{constructor(){this._proxyLoggerProvider=new _r}static getInstance(){return this._instance||(this._instance=new t),this._instance}setGlobalLoggerProvider(e){return ke[fr]?this.getLoggerProvider():(ke[fr]=_a(Go,e,bn),this._proxyLoggerProvider._setDelegate(e),e)}getLoggerProvider(){var e,r;return(r=(e=ke[fr])===null||e===void 0?void 0:e.call(ke,Go))!==null&&r!==void 0?r:this._proxyLoggerProvider}getLogger(e,r,n){return this.getLoggerProvider().getLogger(e,r,n)}disable(){delete ke[fr],this._proxyLoggerProvider=new _r}};var Cn=Ln.getInstance();function da(t,e,r,n){for(let o=0,i=t.length;o<i;o++){let s=t[o];e&&s.setTracerProvider(e),r&&s.setMeterProvider(r),n&&s.setLoggerProvider&&s.setLoggerProvider(n),s.getConfig().enabled||s.enable()}}function ha(t){t.forEach(e=>e.disable())}function Vo(t){var i,s;let e=t.tracerProvider||F.getTracerProvider(),r=t.meterProvider||_e.getMeterProvider(),n=t.loggerProvider||Cn.getLoggerProvider(),o=(s=(i=t.instrumentations)==null?void 0:i.flat())!=null?s:[];return da(o,e,r,n),()=>{ha(o)}}var mt=console.error.bind(console);function dr(t,e,r){let n=!!t[e]&&Object.prototype.propertyIsEnumerable.call(t,e);Object.defineProperty(t,e,{configurable:!0,enumerable:n,writable:!0,value:r})}var wn=(t,e,r)=>{if(!t||!t[e]){mt("no original function "+String(e)+" to wrap");return}if(!r){mt("no wrapper function"),mt(new Error().stack);return}let n=t[e];if(typeof n!="function"||typeof r!="function"){mt("original object and wrapper must be functions");return}let o=r(n,e);return dr(o,"__original",n),dr(o,"__unwrap",()=>{t[e]===o&&dr(t,e,n)}),dr(o,"__wrapped",!0),dr(t,e,o),o},Fo=(t,e,r)=>{if(t)Array.isArray(t)||(t=[t]);else{mt("must provide one or more modules to patch"),mt(new Error().stack);return}if(!(e&&Array.isArray(e))){mt("must provide one or more functions to wrap on modules");return}t.forEach(n=>{e.forEach(o=>{wn(n,o,r)})})},Dn=(t,e)=>{if(!t||!t[e]){mt("no function to unwrap."),mt(new Error().stack);return}let r=t[e];if(!r.__unwrap)mt("no original to unwrap to -- has "+String(e)+" already been unwrapped?");else{r.__unwrap();return}},jo=(t,e)=>{if(t)Array.isArray(t)||(t=[t]);else{mt("must provide one or more modules to patch"),mt(new Error().stack);return}if(!(e&&Array.isArray(e))){mt("must provide one or more functions to unwrap on modules");return}t.forEach(r=>{e.forEach(n=>{Dn(r,n)})})};function hr(t){t&&t.logger&&(typeof t.logger!="function"?mt("new logger isn't a function, not replacing"):mt=t.logger)}hr.wrap=wn;hr.massWrap=Fo;hr.unwrap=Dn;hr.massUnwrap=jo;var In=class{constructor(e,r,n){l(this,"_config",{});l(this,"_tracer");l(this,"_meter");l(this,"_logger");l(this,"_diag");l(this,"instrumentationName");l(this,"instrumentationVersion");l(this,"_wrap",wn);l(this,"_unwrap",Dn);l(this,"_massWrap",Fo);l(this,"_massUnwrap",jo);this.instrumentationName=e,this.instrumentationVersion=r,this.setConfig(n),this._diag=O.createComponentLogger({namespace:e}),this._tracer=F.getTracer(e,r),this._meter=_e.getMeter(e,r),this._logger=Cn.getLogger(e,r),this._updateMetricInstruments()}get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()}get logger(){return this._logger}setLoggerProvider(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)}getModuleDefinitions(){var r;let e=(r=this.init())!=null?r:[];return Array.isArray(e)?e:[e]}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(e){this._config={enabled:!0,...e}}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}_runSpanCustomizationHook(e,r,n,o){if(e)try{e(n,o)}catch(i){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:r},i)}}};var Ht=class extends In{constructor(e,r,n){super(e,r,n),this._config.enabled&&this.enable()}};function Ue(t,e,r){let n,o;try{o=t()}catch(i){n=i}finally{if(e(n,o),n&&!r)throw n;return o}}function st(t){return typeof t=="function"&&typeof t.__original=="function"&&typeof t.__unwrap=="function"&&t.__wrapped===!0}var ot;(function(t){t[t.STABLE=1]="STABLE",t[t.OLD=2]="OLD",t[t.DUPLICATE=3]="DUPLICATE"})(ot||(ot={}));function mr(t,e){let r=ot.OLD,n=e==null?void 0:e.split(",").map(o=>o.trim()).filter(o=>o!=="");for(let o of n!=null?n:[])if(o.toLowerCase()===t+"/dup"){r=ot.DUPLICATE;break}else o.toLowerCase()===t&&(r=ot.STABLE);return r}var ye;(function(t){t.DOCUMENT_LOAD="documentLoad",t.DOCUMENT_FETCH="documentFetch",t.RESOURCE_FETCH="resourceFetch"})(ye||(ye={}));var ma="0.56.0",Ta="@opentelemetry/instrumentation-document-load";var Mn="http.url",Ea="http.user_agent";var Tr;(function(t){t.FIRST_PAINT="firstPaint",t.FIRST_CONTENTFUL_PAINT="firstContentfulPaint"})(Tr||(Tr={}));var Sa=()=>{var r,n;let t={},e=(n=(r=lt).getEntriesByType)==null?void 0:n.call(r,"navigation")[0];if(e)Object.values(U).forEach(i=>{if(Yt(e,i)){let s=e[i];typeof s=="number"&&(t[i]=s)}});else{let i=lt.timing;i&&Object.values(U).forEach(a=>{if(Yt(i,a)){let c=i[a];typeof c=="number"&&(t[a]=c)}})}return t},ga={"first-paint":Tr.FIRST_PAINT,"first-contentful-paint":Tr.FIRST_CONTENTFUL_PAINT},Aa=t=>{var r,n;let e=(n=(r=lt).getEntriesByType)==null?void 0:n.call(r,"paint");e&&e.forEach(({name:o,startTime:i})=>{Yt(ga,o)&&t.addEvent(ga[o],i)})};var Er=class extends Ht{constructor(r={}){super(Ta,ma,r);l(this,"component","document-load");l(this,"version","1");l(this,"moduleName",this.component);l(this,"_semconvStability");this._semconvStability=mr("http",r==null?void 0:r.semconvStabilityOptIn)}init(){}_onDocumentLoaded(){window.setTimeout(()=>{this._collectPerformance()})}_addResourcesSpans(r){var o,i;let n=(i=(o=lt).getEntriesByType)==null?void 0:i.call(o,"resource");n&&n.forEach(s=>{this._initResourceSpan(s,r)})}_collectPerformance(){let r=Array.from(document.getElementsByTagName("meta")).find(i=>i.getAttribute("name")===Pe),n=Sa(),o=r&&r.content||"";G.with(at.extract(dt,{traceparent:o}),()=>{var s;let i=this._startSpan(ye.DOCUMENT_LOAD,U.FETCH_START,n);i&&(G.with(F.setSpan(G.active(),i),()=>{let a=this._startSpan(ye.DOCUMENT_FETCH,U.FETCH_START,n);a&&(this._semconvStability&ot.OLD&&a.setAttribute(Mn,location.href),this._semconvStability&ot.STABLE&&a.setAttribute(oe,location.href),G.with(F.setSpan(G.active(),a),()=>{var u;let c=!(this._semconvStability&ot.OLD);Re(a,n,this.getConfig().ignoreNetworkEvents,void 0,c),this._addCustomAttributesOnSpan(a,(u=this.getConfig().applyCustomAttributesOnSpan)==null?void 0:u.documentFetch),this._endSpan(a,U.RESPONSE_END,n)}))}),this._semconvStability&ot.OLD&&(i.setAttribute(Mn,location.href),i.setAttribute(Ea,navigator.userAgent)),this._semconvStability&ot.STABLE&&(i.setAttribute(oe,location.href),i.setAttribute(ms,navigator.userAgent)),this._addResourcesSpans(i),this.getConfig().ignoreNetworkEvents||(it(i,U.FETCH_START,n),it(i,U.UNLOAD_EVENT_START,n),it(i,U.UNLOAD_EVENT_END,n),it(i,U.DOM_INTERACTIVE,n),it(i,U.DOM_CONTENT_LOADED_EVENT_START,n),it(i,U.DOM_CONTENT_LOADED_EVENT_END,n),it(i,U.DOM_COMPLETE,n),it(i,U.LOAD_EVENT_START,n),it(i,U.LOAD_EVENT_END,n)),this.getConfig().ignorePerformancePaintEvents||Aa(i),this._addCustomAttributesOnSpan(i,(s=this.getConfig().applyCustomAttributesOnSpan)==null?void 0:s.documentLoad),this._endSpan(i,U.LOAD_EVENT_END,n))})}_endSpan(r,n,o){r&&(Yt(o,n)?r.end(o[n]):r.end())}_initResourceSpan(r,n){var i;let o=this._startSpan(ye.RESOURCE_FETCH,U.FETCH_START,r,n);if(o){this._semconvStability&ot.OLD&&o.setAttribute(Mn,r.name),this._semconvStability&ot.STABLE&&o.setAttribute(oe,r.name);let s=!(this._semconvStability&ot.OLD);Re(o,r,this.getConfig().ignoreNetworkEvents,void 0,s),this._addCustomAttributesOnResourceSpan(o,r,(i=this.getConfig().applyCustomAttributesOnSpan)==null?void 0:i.resourceFetch),this._endSpan(o,U.RESPONSE_END,r)}}_startSpan(r,n,o,i){if(Yt(o,n)&&typeof o[n]=="number")return this.tracer.startSpan(r,{startTime:o[n]},i?F.setSpan(G.active(),i):void 0)}_waitForPageLoad(){window.document.readyState==="complete"?this._onDocumentLoaded():(this._onDocumentLoaded=this._onDocumentLoaded.bind(this),window.addEventListener("load",this._onDocumentLoaded))}_addCustomAttributesOnSpan(r,n){n&&Ue(()=>n(r),o=>{o&&this._diag.error("addCustomAttributesOnSpan",o)},!0)}_addCustomAttributesOnResourceSpan(r,n,o){o&&Ue(()=>o(r,n),i=>{i&&this._diag.error("addCustomAttributesOnResourceSpan",i)},!0)}enable(){window.removeEventListener("load",this._onDocumentLoaded),this._waitForPageLoad()}disable(){window.removeEventListener("load",this._onDocumentLoaded)}};var Oe;(function(t){t.EVENT_TYPE="event_type",t.TARGET_ELEMENT="target_element",t.TARGET_XPATH="target_xpath",t.HTTP_URL="http.url"})(Oe||(Oe={}));var zo="0.55.0",Ra="@opentelemetry/instrumentation-user-interaction";var pp="OT_ZONE_CONTEXT",fp="Navigation:",_p=["click"];function dp(){return!1}var gr=class extends Ht{constructor(r={}){var n;super(Ra,zo,r);l(this,"version",zo);l(this,"moduleName","user-interaction");l(this,"_spansData",new WeakMap);l(this,"_wrappedListeners",new WeakMap);l(this,"_eventsSpanMap",new WeakMap);l(this,"_eventNames");l(this,"_shouldPreventSpanCreation");this._eventNames=new Set((n=r==null?void 0:r.eventNames)!=null?n:_p),this._shouldPreventSpanCreation=typeof(r==null?void 0:r.shouldPreventSpanCreation)=="function"?r.shouldPreventSpanCreation:dp}init(){}_checkForTimeout(r,n){let o=this._spansData.get(n);o&&(r.source==="setTimeout"?o.hrTimeLastTimeout=Wt():r.source!=="Promise.then"&&r.source!=="setTimeout"&&(o.hrTimeLastTimeout=void 0))}_allowEventName(r){return this._eventNames.has(r)}_createSpan(r,n,o){if(!(r instanceof HTMLElement)||!r.getAttribute||r.hasAttribute("disabled")||!this._allowEventName(n))return;let i=Rn(r,!0);try{let s=this.tracer.startSpan(n,{attributes:{[Oe.EVENT_TYPE]:n,[Oe.TARGET_ELEMENT]:r.tagName,[Oe.TARGET_XPATH]:i,[Oe.HTTP_URL]:window.location.href}},o?F.setSpan(G.active(),o):void 0);return this._shouldPreventSpanCreation(n,r,s)===!0?void 0:(this._spansData.set(s,{taskCount:0}),s)}catch(s){this._diag.error("failed to start create new user interaction span",s)}}_decrementTask(r){let n=this._spansData.get(r);n&&(n.taskCount--,n.taskCount===0&&this._tryToEndSpan(r,n.hrTimeLastTimeout))}_getCurrentSpan(r){let n=r.get(pp);return n&&F.getSpan(n)}_incrementTask(r){let n=this._spansData.get(r);n&&n.taskCount++}addPatchedListener(r,n,o,i){let s=this._wrappedListeners.get(o);s||(s=new Map,this._wrappedListeners.set(o,s));let a=s.get(n);return a||(a=new Map,s.set(n,a)),a.has(r)?!1:(a.set(r,i),!0)}removePatchedListener(r,n,o){let i=this._wrappedListeners.get(o);if(!i)return;let s=i.get(n);if(!s)return;let a=s.get(r);return a&&(s.delete(r),s.size===0&&(i.delete(n),i.size===0&&this._wrappedListeners.delete(o))),a}_invokeListener(r,n,o){return typeof r=="function"?r.apply(n,o):r.handleEvent(o[0])}_patchAddEventListener(){let r=this;return n=>function(i,s,a){if(!s)return n.call(this,i,s,a);let c=a&&typeof a=="object"&&a.once,u=function(...p){let m,g=p[0],y=g==null?void 0:g.target;g&&(m=r._eventsSpanMap.get(g)),c&&r.removePatchedListener(this,i,s);let I=r._createSpan(y,i,m);return I?(g&&r._eventsSpanMap.set(g,I),G.with(F.setSpan(G.active(),I),()=>{let k=r._invokeListener(s,this,p);return I.end(),k})):r._invokeListener(s,this,p)};if(r.addPatchedListener(this,i,s,u))return n.call(this,i,u,a)}}_patchRemoveEventListener(){let r=this;return n=>function(i,s,a){let c=r.removePatchedListener(this,i,s);return c?n.call(this,i,c,a):n.call(this,i,s,a)}}_getPatchableEventTargets(){return window.EventTarget?[EventTarget.prototype]:[Node.prototype,Window.prototype]}_patchHistoryApi(){this._unpatchHistoryApi(),this._wrap(history,"replaceState",this._patchHistoryMethod()),this._wrap(history,"pushState",this._patchHistoryMethod()),this._wrap(history,"back",this._patchHistoryMethod()),this._wrap(history,"forward",this._patchHistoryMethod()),this._wrap(history,"go",this._patchHistoryMethod())}_patchHistoryMethod(){let r=this;return n=>function(...i){let s=`${location.pathname}${location.hash}${location.search}`,a=n.apply(this,i),c=`${location.pathname}${location.hash}${location.search}`;return s!==c&&r._updateInteractionName(c),a}}_unpatchHistoryApi(){st(history.replaceState)&&this._unwrap(history,"replaceState"),st(history.pushState)&&this._unwrap(history,"pushState"),st(history.back)&&this._unwrap(history,"back"),st(history.forward)&&this._unwrap(history,"forward"),st(history.go)&&this._unwrap(history,"go")}_updateInteractionName(r){let n=F.getSpan(G.active());n&&typeof n.updateName=="function"&&n.updateName(`${fp} ${r}`)}_patchZoneCancelTask(){let r=this;return n=>function(i){let s=Zone.current,a=r._getCurrentSpan(s);return a&&r._shouldCountTask(i,s)&&r._decrementTask(a),n.call(this,i)}}_patchZoneScheduleTask(){let r=this;return n=>function(i){let s=Zone.current,a=r._getCurrentSpan(s);return a&&r._shouldCountTask(i,s)&&(r._incrementTask(a),r._checkForTimeout(i,a)),n.call(this,i)}}_patchZoneRunTask(){let r=this;return n=>function(i,s,a){let c=Array.isArray(a)&&a[0]instanceof Event?a[0]:void 0,u=c==null?void 0:c.target,p,m=this;if(u){if(p=r._createSpan(u,i.eventName),p)return r._incrementTask(p),m.run(()=>{try{return G.with(F.setSpan(G.active(),p),()=>{let g=Zone.current;return i._zone=g,n.call(g,i,s,a)})}finally{r._decrementTask(p)}})}else p=r._getCurrentSpan(m);try{return n.call(m,i,s,a)}finally{p&&r._shouldCountTask(i,m)&&r._decrementTask(p)}}}_shouldCountTask(r,n){if(r._zone&&(n=r._zone),!n||!r.data||r.data.isPeriodic)return!1;let o=this._getCurrentSpan(n);return!o||!this._spansData.get(o)?!1:r.type==="macroTask"||r.type==="microTask"}_tryToEndSpan(r,n){r&&this._spansData.get(r)&&(r.end(n),this._spansData.delete(r))}enable(){let r=this._getZoneWithPrototype();this._diag.debug("applying patch to",this.moduleName,this.version,"zone:",!!r),r?(st(r.prototype.runTask)&&(this._unwrap(r.prototype,"runTask"),this._diag.debug("removing previous patch from method runTask")),st(r.prototype.scheduleTask)&&(this._unwrap(r.prototype,"scheduleTask"),this._diag.debug("removing previous patch from method scheduleTask")),st(r.prototype.cancelTask)&&(this._unwrap(r.prototype,"cancelTask"),this._diag.debug("removing previous patch from method cancelTask")),this._zonePatched=!0,this._wrap(r.prototype,"runTask",this._patchZoneRunTask()),this._wrap(r.prototype,"scheduleTask",this._patchZoneScheduleTask()),this._wrap(r.prototype,"cancelTask",this._patchZoneCancelTask())):(this._zonePatched=!1,this._getPatchableEventTargets().forEach(o=>{st(o.addEventListener)&&(this._unwrap(o,"addEventListener"),this._diag.debug("removing previous patch from method addEventListener")),st(o.removeEventListener)&&(this._unwrap(o,"removeEventListener"),this._diag.debug("removing previous patch from method removeEventListener")),this._wrap(o,"addEventListener",this._patchAddEventListener()),this._wrap(o,"removeEventListener",this._patchRemoveEventListener())})),this._patchHistoryApi()}disable(){let r=this._getZoneWithPrototype();this._diag.debug("removing patch from",this.moduleName,this.version,"zone:",!!r),r&&this._zonePatched?(st(r.prototype.runTask)&&this._unwrap(r.prototype,"runTask"),st(r.prototype.scheduleTask)&&this._unwrap(r.prototype,"scheduleTask"),st(r.prototype.cancelTask)&&this._unwrap(r.prototype,"cancelTask")):this._getPatchableEventTargets().forEach(o=>{st(o.addEventListener)&&this._unwrap(o,"addEventListener"),st(o.removeEventListener)&&this._unwrap(o,"removeEventListener")}),this._unpatchHistoryApi()}_getZoneWithPrototype(){return window.Zone}};var se=performance;var hp=9,mp=6,Tp=Math.pow(10,mp),Ko=Math.pow(10,hp);function Sr(t){let e=t/1e3,r=Math.trunc(e),n=Math.round(t%1e3*Tp);return[r,n]}function Ar(t){let e=Sr(se.timeOrigin),r=Sr(typeof t=="number"?t:se.now());return Oa(e,r)}function ve(t){if(ya(t))return t;if(typeof t=="number")return t<se.timeOrigin?Ar(t):Sr(t);if(t instanceof Date)return Sr(t.getTime());throw TypeError("Invalid input type")}function Gt(t){return t[0]*Ko+t[1]}function ya(t){return Array.isArray(t)&&t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"}function Oa(t,e){let r=[t[0]+e[0],t[1]+e[1]];return r[1]>=Ko&&(r[1]-=Ko,r[0]+=1),r}function kn(t,e){return typeof e=="string"?t===e:!!t.match(e)}function Zo(t,e){if(!e)return!1;for(let r of e)if(kn(t,r))return!0;return!1}var J;(function(t){t.CONNECT_END="connectEnd",t.CONNECT_START="connectStart",t.DECODED_BODY_SIZE="decodedBodySize",t.DOM_COMPLETE="domComplete",t.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",t.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",t.DOM_INTERACTIVE="domInteractive",t.DOMAIN_LOOKUP_END="domainLookupEnd",t.DOMAIN_LOOKUP_START="domainLookupStart",t.ENCODED_BODY_SIZE="encodedBodySize",t.FETCH_START="fetchStart",t.LOAD_EVENT_END="loadEventEnd",t.LOAD_EVENT_START="loadEventStart",t.NAVIGATION_START="navigationStart",t.REDIRECT_END="redirectEnd",t.REDIRECT_START="redirectStart",t.REQUEST_START="requestStart",t.RESPONSE_END="responseEnd",t.RESPONSE_START="responseStart",t.SECURE_CONNECTION_START="secureConnectionStart",t.START_TIME="startTime",t.UNLOAD_EVENT_END="unloadEventEnd",t.UNLOAD_EVENT_START="unloadEventStart"})(J||(J={}));var va="http.response_content_length",xa="http.response_content_length_uncompressed";var Wo;function Ep(){return Wo||(Wo=document.createElement("a")),Wo}function Na(t,e){return e in t}function Bt(t,e,r,n=!0){if(Na(r,e)&&typeof r[e]=="number"&&!(n&&r[e]===0))return t.addEvent(e,r[e])}function Un(t,e,r=!1,n,o){if(n===void 0&&(n=e[J.START_TIME]!==0),r||(Bt(t,J.FETCH_START,e,n),Bt(t,J.DOMAIN_LOOKUP_START,e,n),Bt(t,J.DOMAIN_LOOKUP_END,e,n),Bt(t,J.CONNECT_START,e,n),Bt(t,J.SECURE_CONNECTION_START,e,n),Bt(t,J.CONNECT_END,e,n),Bt(t,J.REQUEST_START,e,n),Bt(t,J.RESPONSE_START,e,n),Bt(t,J.RESPONSE_END,e,n)),!o){let i=e[J.ENCODED_BODY_SIZE];i!==void 0&&t.setAttribute(va,i);let s=e[J.DECODED_BODY_SIZE];s!==void 0&&i!==s&&t.setAttribute(xa,s)}}function ba(t){return t.slice().sort((e,r)=>{let n=e[J.FETCH_START],o=r[J.FETCH_START];return n>o?1:n<o?-1:0})}function Pa(){return typeof location!="undefined"?location.origin:void 0}function $o(t,e,r,n,o=new WeakSet,i){let s=te(t);t=s.toString();let a=Sp(t,e,r,n,o,i);if(a.length===0)return{mainRequest:void 0};if(a.length===1)return{mainRequest:a[0]};let c=ba(a);if(s.origin!==Pa()&&c.length>1){let u=c[0],p=gp(c,u[J.RESPONSE_END],r),m=u[J.RESPONSE_END];return p[J.FETCH_START]<m&&(p=u,u=void 0),{corsPreFlightRequest:u,mainRequest:p}}else return{mainRequest:a[0]}}function gp(t,e,r){let n=Gt(r),o=Gt(ve(e)),i=t[1],s,a=t.length;for(let c=1;c<a;c++){let u=t[c],p=Gt(ve(u[J.FETCH_START])),m=Gt(ve(u[J.RESPONSE_END])),g=n-m;p>=o&&(!s||g<s)&&(s=g,i=u)}return i}function Sp(t,e,r,n,o,i){let s=Gt(e),a=Gt(r),c=n.filter(u=>{let p=Gt(ve(u[J.FETCH_START])),m=Gt(ve(u[J.RESPONSE_END]));return u.initiatorType.toLowerCase()===(i||"xmlhttprequest")&&u.name===t&&p>=s&&m<=a});return c.length>0&&(c=c.filter(u=>!o.has(u))),c}function te(t){if(typeof URL=="function")return new URL(t,typeof document!="undefined"?document.baseURI:typeof location!="undefined"?location.href:void 0);let e=Ep();return e.href=t,e}function Yo(t,e){let r=e||[];return(typeof r=="string"||r instanceof RegExp)&&(r=[r]),te(t).origin===Pa()?!0:r.some(o=>kn(t,o))}var La="http.host",Ca="http.method",wa="http.request.body.size",Da="http.request_content_length_uncompressed";var Ia="http.scheme",Ma="http.status_code",ka="http.url",Ua="http.user_agent";var Vt;(function(t){t.METHOD_OPEN="open",t.METHOD_SEND="send",t.EVENT_ABORT="abort",t.EVENT_ERROR="error",t.EVENT_LOAD="loaded",t.EVENT_TIMEOUT="timeout"})(Vt||(Vt={}));var Ap=O.createComponentLogger({namespace:"@opentelemetry/opentelemetry-instrumentation-xml-http-request/utils"});function Rp(t){return typeof Document!="undefined"&&t instanceof Document}function Ga(t){if(Rp(t))return new XMLSerializer().serializeToString(document).length;if(typeof t=="string")return Ha(t);if(t instanceof Blob)return t.size;if(t instanceof FormData)return Op(t);if(t instanceof URLSearchParams)return Ha(t.toString());if(t.byteLength!==void 0)return t.byteLength;Ap.warn("unknown body type")}var yp=new TextEncoder;function Ha(t){return yp.encode(t).byteLength}function Op(t){let e=0;for(let[r,n]of t.entries())e+=r.length,n instanceof Blob?e+=n.size:e+=n.length;return e}function Ba(t){let e=xp(),r=t.toUpperCase();return r in e?r:"_OTHER"}var vp={CONNECT:!0,DELETE:!0,GET:!0,HEAD:!0,OPTIONS:!0,PATCH:!0,POST:!0,PUT:!0,TRACE:!0,QUERY:!0},Rr;function xp(){if(Rr===void 0){let t=void 0;t&&t.length>0?(Rr={},t.forEach(e=>{Rr[e]=!0})):Rr=vp}return Rr}var Np={"https:":"443","http:":"80"};function Va(t){let e=Number(t.port||Np[t.protocol]);if(e&&!isNaN(e))return e}var qo="0.211.0";var Hn;(function(t){t.HTTP_STATUS_TEXT="http.status_text"})(Hn||(Hn={}));var bp=300,yr=class extends Ht{constructor(r={}){super("@opentelemetry/instrumentation-xml-http-request",qo,r);l(this,"component","xml-http-request");l(this,"version",qo);l(this,"moduleName",this.component);l(this,"_tasksCount",0);l(this,"_xhrMem",new WeakMap);l(this,"_usedResources",new WeakSet);l(this,"_semconvStability");this._semconvStability=mr("http",r==null?void 0:r.semconvStabilityOptIn)}init(){}_addHeaders(r,n){let o=te(n).href;if(!Yo(o,this.getConfig().propagateTraceHeaderCorsUrls)){let s={};at.inject(G.active(),s),Object.keys(s).length>0&&this._diag.debug("headers inject skipped due to CORS policy");return}let i={};at.inject(G.active(),i),Object.keys(i).forEach(s=>{r.setRequestHeader(s,String(i[s]))})}_addChildSpan(r,n){G.with(F.setSpan(G.active(),r),()=>{let o=this.tracer.startSpan("CORS Preflight",{startTime:n[J.FETCH_START]}),i=!(this._semconvStability&ot.OLD);Un(o,n,this.getConfig().ignoreNetworkEvents,void 0,i),o.end(n[J.RESPONSE_END])})}_addFinalSpanAttributes(r,n,o){if(this._semconvStability&ot.OLD){if(n.status!==void 0&&r.setAttribute(Ma,n.status),n.statusText!==void 0&&r.setAttribute(Hn.HTTP_STATUS_TEXT,n.statusText),typeof o=="string"){let i=te(o);r.setAttribute(La,i.host),r.setAttribute(Ia,i.protocol.replace(":",""))}r.setAttribute(Ua,navigator.userAgent)}this._semconvStability&ot.STABLE&&n.status&&r.setAttribute(Qr,n.status)}_applyAttributesAfterXHR(r,n){let o=this.getConfig().applyCustomAttributesOnSpan;typeof o=="function"&&Ue(()=>o(r,n),i=>{i&&this._diag.error("applyCustomAttributesOnSpan",i)},!0)}_addResourceObserver(r,n){let o=this._xhrMem.get(r);!o||typeof PerformanceObserver!="function"||typeof PerformanceResourceTiming!="function"||(o.createdResources={observer:new PerformanceObserver(i=>{let s=i.getEntries(),a=te(n);s.forEach(c=>{c.initiatorType==="xmlhttprequest"&&c.name===a.href&&o.createdResources&&o.createdResources.entries.push(c)})}),entries:[]},o.createdResources.observer.observe({entryTypes:["resource"]}))}_clearResources(){this._tasksCount===0&&this.getConfig().clearTimingResources&&(se.clearResourceTimings(),this._xhrMem=new WeakMap,this._usedResources=new WeakSet)}_findResourceAndAddNetworkEvents(r,n,o,i,s){if(!o||!i||!s||!r.createdResources)return;let a=r.createdResources.entries;(!a||!a.length)&&(a=se.getEntriesByType("resource"));let c=$o(te(o).href,i,s,a,this._usedResources);if(c.mainRequest){let u=c.mainRequest;this._markResourceAsUsed(u);let p=c.corsPreFlightRequest;p&&(this._addChildSpan(n,p),this._markResourceAsUsed(p));let m=!(this._semconvStability&ot.OLD);Un(n,u,this.getConfig().ignoreNetworkEvents,void 0,m)}}_cleanPreviousSpanInformation(r){let n=this._xhrMem.get(r);if(n){let o=n.callbackToRemoveEvents;o&&o(),this._xhrMem.delete(r)}}_createSpan(r,n,o){if(Zo(n,this.getConfig().ignoreUrls)){this._diag.debug("ignoring span as url matches ignored url");return}let i="",s=te(n),a={};if(this._semconvStability&ot.OLD&&(i=o.toUpperCase(),a[Ca]=o,a[ka]=s.toString()),this._semconvStability&ot.STABLE){let u=o,p=Ba(o);i||(i=p),a[qr]=p,p!==u&&(a[Xr]=u),a[oe]=s.toString(),a[Jr]=s.hostname;let m=Va(s);m&&(a[tn]=m)}let c=this.tracer.startSpan(i,{kind:Zt.CLIENT,attributes:a});return c.addEvent(Vt.METHOD_OPEN),this._cleanPreviousSpanInformation(r),this._xhrMem.set(r,{span:c,spanUrl:n}),c}_markResourceAsUsed(r){this._usedResources.add(r)}_patchOpen(){return r=>{let n=this;return function(...i){let s=i[0],a=i[1];return n._createSpan(this,a,s),r.apply(this,i)}}}_patchSend(){let r=this;function n(p,m,g,y){let I=m.callbackToRemoveEvents;typeof I=="function"&&I();let{span:k,spanUrl:Q,sendStartTime:Z}=m;k&&(r._findResourceAndAddNetworkEvents(m,k,Q,Z,g),k.addEvent(p,y),r._addFinalSpanAttributes(k,m,Q),k.end(y),r._tasksCount--),r._clearResources()}function o(p,m,g,y){let I=r._xhrMem.get(m);if(!I)return;if(I.status=m.status,I.statusText=m.statusText,r._xhrMem.delete(m),I.span){let Z=I.span;r._applyAttributesAfterXHR(Z,m),r._semconvStability&ot.STABLE&&(g?y&&(Z.setStatus({code:St.ERROR,message:y}),Z.setAttribute(qe,y)):I.status&&I.status>=400&&(Z.setStatus({code:St.ERROR}),Z.setAttribute(qe,String(I.status))))}let k=Ar(),Q=Date.now();setTimeout(()=>{n(p,I,k,Q)},bp)}function i(){o(Vt.EVENT_ERROR,this,!0,"error")}function s(){o(Vt.EVENT_ABORT,this,!1)}function a(){o(Vt.EVENT_TIMEOUT,this,!0,"timeout")}function c(){this.status<299?o(Vt.EVENT_LOAD,this,!1):o(Vt.EVENT_ERROR,this,!1)}function u(p){p.removeEventListener("abort",s),p.removeEventListener("error",i),p.removeEventListener("load",c),p.removeEventListener("timeout",a);let m=r._xhrMem.get(p);m&&(m.callbackToRemoveEvents=void 0)}return p=>function(...g){let y=r._xhrMem.get(this);if(!y)return p.apply(this,g);let I=y.span,k=y.spanUrl;if(I&&k){if(r.getConfig().measureRequestSize&&(g!=null&&g[0])){let Q=g[0],Z=Ga(Q);Z!==void 0&&(r._semconvStability&ot.OLD&&I.setAttribute(Da,Z),r._semconvStability&ot.STABLE&&I.setAttribute(wa,Z))}G.with(F.setSpan(G.active(),I),()=>{r._tasksCount++,y.sendStartTime=Ar(),I.addEvent(Vt.METHOD_SEND),this.addEventListener("abort",s),this.addEventListener("error",i),this.addEventListener("load",c),this.addEventListener("timeout",a),y.callbackToRemoveEvents=()=>{u(this),y.createdResources&&y.createdResources.observer.disconnect()},r._addHeaders(this,k),r._addResourceObserver(this,k)})}return p.apply(this,g)}}enable(){this._diag.debug("applying patch to",this.moduleName,this.version),st(XMLHttpRequest.prototype.open)&&(this._unwrap(XMLHttpRequest.prototype,"open"),this._diag.debug("removing previous patch from method open")),st(XMLHttpRequest.prototype.send)&&(this._unwrap(XMLHttpRequest.prototype,"send"),this._diag.debug("removing previous patch from method send")),this._wrap(XMLHttpRequest.prototype,"open",this._patchOpen()),this._wrap(XMLHttpRequest.prototype,"send",this._patchSend())}disable(){this._diag.debug("removing patch from",this.moduleName,this.version),this._unwrap(XMLHttpRequest.prototype,"open"),this._unwrap(XMLHttpRequest.prototype,"send"),this._tasksCount=0,this._xhrMem=new WeakMap,this._usedResources=new WeakSet}};var Or=class{constructor(e){l(this,"_delegate");this._delegate=e}export(e,r){this._delegate.export(e,r)}forceFlush(){return this._delegate.forceFlush()}shutdown(){return this._delegate.shutdown()}};var vr=class extends Error{constructor(r,n,o){super(r);l(this,"code");l(this,"name","OTLPExporterError");l(this,"data");this.data=o,this.code=n}};function Pp(t){if(Number.isFinite(t)&&t>0)return t;throw new Error(`Configuration: timeoutMillis is invalid, expected number greater than 0 (actual: '${t}')`)}function Fa(t){if(t!=null)return async()=>t}function ja(t,e,r){var n,o,i,s,a,c;return{timeoutMillis:Pp((o=(n=t.timeoutMillis)!=null?n:e.timeoutMillis)!=null?o:r.timeoutMillis),concurrencyLimit:(s=(i=t.concurrencyLimit)!=null?i:e.concurrencyLimit)!=null?s:r.concurrencyLimit,compression:(c=(a=t.compression)!=null?a:e.compression)!=null?c:r.compression}}function za(){return{timeoutMillis:1e4,concurrencyLimit:30,compression:"none"}}var Xo=class{constructor(e){l(this,"_concurrencyLimit");l(this,"_sendingPromises",[]);this._concurrencyLimit=e}pushPromise(e){if(this.hasReachedLimit())throw new Error("Concurrency Limit reached");this._sendingPromises.push(e);let r=()=>{let n=this._sendingPromises.indexOf(e);this._sendingPromises.splice(n,1)};e.then(r,r)}hasReachedLimit(){return this._sendingPromises.length>=this._concurrencyLimit}async awaitAll(){await Promise.all(this._sendingPromises)}};function Ka(t){return new Xo(t.concurrencyLimit)}var Pt;(function(t){t[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED"})(Pt||(Pt={}));function Lp(t){return Object.prototype.hasOwnProperty.call(t,"partialSuccess")}function Za(){return{handleResponse(t){t==null||!Lp(t)||t.partialSuccess==null||Object.keys(t.partialSuccess).length===0||O.warn("Received Partial Success response:",JSON.stringify(t.partialSuccess))}}}var Qo=class{constructor(e,r,n,o,i){l(this,"_diagLogger");l(this,"_transport");l(this,"_serializer");l(this,"_responseHandler");l(this,"_promiseQueue");l(this,"_timeout");this._transport=e,this._serializer=r,this._responseHandler=n,this._promiseQueue=o,this._timeout=i,this._diagLogger=O.createComponentLogger({namespace:"OTLPExportDelegate"})}export(e,r){if(this._diagLogger.debug("items to be sent",e),this._promiseQueue.hasReachedLimit()){r({code:Pt.FAILED,error:new Error("Concurrent export limit reached")});return}let n=this._serializer.serializeRequest(e);if(n==null){r({code:Pt.FAILED,error:new Error("Nothing to send")});return}this._promiseQueue.pushPromise(this._transport.send(n,this._timeout).then(o=>{var i;if(o.status==="success"){if(o.data!=null)try{this._responseHandler.handleResponse(this._serializer.deserializeResponse(o.data))}catch(s){this._diagLogger.warn("Export succeeded but could not deserialize response - is the response specification compliant?",s,o.data)}r({code:Pt.SUCCESS});return}else if(o.status==="failure"&&o.error){r({code:Pt.FAILED,error:o.error});return}else o.status==="retryable"?r({code:Pt.FAILED,error:(i=o.error)!=null?i:new vr("Export failed with retryable status")}):r({code:Pt.FAILED,error:new vr("Export failed with unknown error")})},o=>r({code:Pt.FAILED,error:o})))}forceFlush(){return this._promiseQueue.awaitAll()}async shutdown(){this._diagLogger.debug("shutdown started"),await this.forceFlush(),this._transport.shutdown()}};function Wa(t,e){return new Qo(t.transport,t.serializer,Za(),t.promiseHandler,e.timeout)}function Jo(t,e,r){return Wa({transport:r,serializer:e,promiseHandler:Ka(t)},{timeout:t.timeoutMillis})}var Cp=9,wp=6,uS=Math.pow(10,wp),Dp=Math.pow(10,Cp);function ti(t){return t[0]*Dp+t[1]}function $a(t){return t>=48&&t<=57?t-48:t>=97&&t<=102?t-87:t-55}function Gn(t){let e=new Uint8Array(t.length/2),r=0;for(let n=0;n<t.length;n+=2){let o=$a(t.charCodeAt(n)),i=$a(t.charCodeAt(n+1));e[r++]=o<<4|i}return e}function qa(t){let e=BigInt(1e9);return BigInt(Math.trunc(t[0]))*e+BigInt(Math.trunc(t[1]))}function Ip(t){let e=Number(BigInt.asUintN(32,t)),r=Number(BigInt.asUintN(32,t>>BigInt(32)));return{low:e,high:r}}function Xa(t){let e=qa(t);return Ip(e)}function Mp(t){return qa(t).toString()}var kp=typeof BigInt!="undefined"?Mp:ti;function Ya(t){return t}function Qa(t){if(t!==void 0)return Gn(t)}var Up={encodeHrTime:Xa,encodeSpanContext:Gn,encodeOptionalSpanContext:Qa};function Ja(t){var n,o;if(t===void 0)return Up;let e=(n=t.useLongBits)!=null?n:!0,r=(o=t.useHex)!=null?o:!1;return{encodeHrTime:e?Xa:kp,encodeSpanContext:r?Ya:Gn,encodeOptionalSpanContext:r?Ya:Qa}}function tc(t){let e={attributes:xr(t.attributes),droppedAttributesCount:0},r=t.schemaUrl;return r&&r!==""&&(e.schemaUrl=r),e}function ec(t){return{name:t.name,version:t.version}}function xr(t){return Object.keys(t).map(e=>rc(e,t[e]))}function rc(t,e){return{key:t,value:nc(e)}}function nc(t){let e=typeof t;return e==="string"?{stringValue:t}:e==="number"?Number.isInteger(t)?{intValue:t}:{doubleValue:t}:e==="boolean"?{boolValue:t}:t instanceof Uint8Array?{bytesValue:t}:Array.isArray(t)?{arrayValue:{values:t.map(nc)}}:e==="object"&&t!=null?{kvlistValue:{values:Object.entries(t).map(([r,n])=>rc(r,n))}}:{}}var Hp=256,Gp=512;function oc(t,e){let r=t&255|Hp;return e&&(r|=Gp),r}function Bp(t,e){var i,s,a,c;let r=t.spanContext(),n=t.status,o=(i=t.parentSpanContext)!=null&&i.spanId?e.encodeSpanContext((s=t.parentSpanContext)==null?void 0:s.spanId):void 0;return{traceId:e.encodeSpanContext(r.traceId),spanId:e.encodeSpanContext(r.spanId),parentSpanId:o,traceState:(a=r.traceState)==null?void 0:a.serialize(),name:t.name,kind:t.kind==null?0:t.kind+1,startTimeUnixNano:e.encodeHrTime(t.startTime),endTimeUnixNano:e.encodeHrTime(t.endTime),attributes:xr(t.attributes),droppedAttributesCount:t.droppedAttributesCount,events:t.events.map(u=>Fp(u,e)),droppedEventsCount:t.droppedEventsCount,status:{code:n.code,message:n.message},links:t.links.map(u=>Vp(u,e)),droppedLinksCount:t.droppedLinksCount,flags:oc(r.traceFlags,(c=t.parentSpanContext)==null?void 0:c.isRemote)}}function Vp(t,e){var r;return{attributes:t.attributes?xr(t.attributes):[],spanId:e.encodeSpanContext(t.context.spanId),traceId:e.encodeSpanContext(t.context.traceId),traceState:(r=t.context.traceState)==null?void 0:r.serialize(),droppedAttributesCount:t.droppedAttributesCount||0,flags:oc(t.context.traceFlags,t.context.isRemote)}}function Fp(t,e){return{attributes:t.attributes?xr(t.attributes):[],name:t.name,timeUnixNano:e.encodeHrTime(t.time),droppedAttributesCount:t.droppedAttributesCount||0}}function ic(t,e){let r=Ja(e);return{resourceSpans:zp(t,r)}}function jp(t){let e=new Map;for(let r of t){let n=e.get(r.resource);n||(n=new Map,e.set(r.resource,n));let o=`${r.instrumentationScope.name}@${r.instrumentationScope.version||""}:${r.instrumentationScope.schemaUrl||""}`,i=n.get(o);i||(i=[],n.set(o,i)),i.push(r)}return e}function zp(t,e){let r=jp(t),n=[],o=r.entries(),i=o.next();for(;!i.done;){let[s,a]=i.value,c=[],u=a.values(),p=u.next();for(;!p.done;){let y=p.value;if(y.length>0){let I=y.map(k=>Bp(k,e));c.push({scope:ec(y[0].instrumentationScope),spans:I,schemaUrl:y[0].instrumentationScope.schemaUrl})}p=u.next()}let m=tc(s),g={resource:m,scopeSpans:c,schemaUrl:m.schemaUrl};n.push(g),i=o.next()}return n}var Bn={serializeRequest:t=>{let e=ic(t,{useHex:!0,useLongBits:!1});return new TextEncoder().encode(JSON.stringify(e))},deserializeResponse:t=>{if(t.length===0)return{};let e=new TextDecoder;return JSON.parse(e.decode(t))}};var ei=5,Kp=1e3,Zp=5e3,Wp=1.5,sc=.2;function $p(){return Math.random()*(2*sc)-sc}var ri=class{constructor(e){l(this,"_transport");this._transport=e}retry(e,r,n){return new Promise((o,i)=>{setTimeout(()=>{this._transport.send(e,r).then(o,i)},n)})}async send(e,r){var a;let n=ei,o=Kp,i=Date.now()+r,s=await this._transport.send(e,r);for(;s.status==="retryable"&&n>0;){n--;let c=Math.max(Math.min(o*(1+$p()),Zp),0);o=o*Wp;let u=(a=s.retryInMillis)!=null?a:c,p=i-Date.now();if(u>p)return O.info(`Export retry time ${Math.round(u)}ms exceeds remaining timeout ${Math.round(p)}ms, not retrying further.`),s;O.verbose(`Scheduling export retry in ${Math.round(u)}ms`),s=await this.retry(e,p,u)}return s.status==="success"?O.verbose(`Export succeeded after ${ei-n} retry attempts.`):s.status==="retryable"?O.info(`Export failed after maximum retry attempts (${ei}).`):O.info(`Export failed with non-retryable error: ${s.error}`),s}shutdown(){return this._transport.shutdown()}};function ni(t){return new ri(t.transport)}var oi=class{constructor(e){l(this,"_params");this._params=e}async send(e){let r=(await this._params.headers())["Content-Type"];return new Promise(n=>{navigator.sendBeacon(this._params.url,new Blob([e],{type:r}))?(O.debug("SendBeacon success"),n({status:"success"})):n({status:"failure",error:new Error("SendBeacon failed")})})}shutdown(){}};function ac(t){return new oi(t)}function cc(t){return t===429||t===502||t===503||t===504}function uc(t){if(t==null)return;let e=Number.parseInt(t,10);if(Number.isInteger(e))return e>0?e*1e3:-1;let r=new Date(t).getTime()-Date.now();return r>=0?r:0}var ii=class{constructor(e){l(this,"_parameters");this._parameters=e}async send(e,r){var i;let n=new AbortController,o=setTimeout(()=>n.abort(),r);try{let s=!!globalThis.location,a=new URL(this._parameters.url),c=await fetch(a.href,{method:"POST",headers:await this._parameters.headers(),body:e,signal:n.signal,keepalive:s,mode:s?((i=globalThis.location)==null?void 0:i.origin)===a.origin?"same-origin":"cors":"no-cors"});if(c.status>=200&&c.status<=299)return O.debug("response success"),{status:"success"};if(cc(c.status)){let u=c.headers.get("Retry-After");return{status:"retryable",retryInMillis:uc(u)}}return{status:"failure",error:new Error("Fetch request failed with non-retryable status")}}catch(s){return Yp(s)?{status:"retryable",error:new Error("Fetch request encountered a network error",{cause:s})}:{status:"failure",error:new Error("Fetch request errored",{cause:s})}}finally{clearTimeout(o)}}shutdown(){}};function lc(t){return new ii(t)}function Yp(t){return t instanceof TypeError&&!t.cause}function pc(t,e){return Jo(t,e,ni({transport:lc(t)}))}function fc(t,e){return Jo(t,e,ni({transport:ac({url:t.url,headers:t.headers})}))}function _c(t){let e={};return Object.entries(t!=null?t:{}).forEach(([r,n])=>{typeof n!="undefined"?e[r]=String(n):O.warn(`Header "${r}" has invalid value (${n}) and will be ignored`)}),e}function qp(t,e,r){return async()=>{let n={...await r()},o={};return e!=null&&Object.assign(o,await e()),t!=null&&Object.assign(o,_c(await t())),Object.assign(o,n)}}function Xp(t){var e;if(t!=null)try{let r=(e=globalThis.location)==null?void 0:e.href;return new URL(t,r).href}catch(r){throw new Error(`Configuration: Could not parse user-provided export URL: '${t}'`)}}function dc(t,e,r){var n,o;return{...ja(t,e,r),headers:qp(t.headers,e.headers,r.headers),url:(o=(n=Xp(t.url))!=null?n:e.url)!=null?o:r.url}}function hc(t,e){return{...za(),headers:async()=>t,url:"http://localhost:4318/"+e}}function mc(t){return typeof t.headers=="function"?t.headers:Fa(t.headers)}function Tc(t,e,r){return dc({url:t.url,timeoutMillis:t.timeoutMillis,headers:mc(t),concurrencyLimit:t.concurrencyLimit},{},hc(r,e))}function si(t,e,r,n){let o=Qp(t.headers),i=Tc(t,r,n);return o(i,e)}function Qp(t){return!t&&typeof navigator.sendBeacon=="function"?fc:pc}var He=class extends Or{constructor(e={}){super(si(e,Bn,"v1/traces",{"Content-Type":"application/json"}))}};var Ge=t=>t!==null&&typeof t=="object"&&typeof t.then=="function";var ai=class t{constructor(e,r){l(this,"_rawAttributes");l(this,"_asyncAttributesPending",!1);l(this,"_schemaUrl");l(this,"_memoizedAttributes");var o;let n=(o=e.attributes)!=null?o:{};this._rawAttributes=Object.entries(n).map(([i,s])=>(Ge(s)&&(this._asyncAttributesPending=!0),[i,s])),this._rawAttributes=Ec(this._rawAttributes),this._schemaUrl=Jp(r==null?void 0:r.schemaUrl)}static FromAttributeList(e,r){let n=new t({},r);return n._rawAttributes=Ec(e),n._asyncAttributesPending=e.filter(([o,i])=>Ge(i)).length>0,n}get asyncAttributesPending(){return this._asyncAttributesPending}async waitForAsyncAttributes(){if(this.asyncAttributesPending){for(let e=0;e<this._rawAttributes.length;e++){let[r,n]=this._rawAttributes[e];this._rawAttributes[e]=[r,Ge(n)?await n:n]}this._asyncAttributesPending=!1}}get attributes(){var r;if(this.asyncAttributesPending&&O.error("Accessing resource attributes before async attributes settled"),this._memoizedAttributes)return this._memoizedAttributes;let e={};for(let[n,o]of this._rawAttributes){if(Ge(o)){O.debug(`Unsettled resource attribute ${n} skipped`);continue}o!=null&&((r=e[n])!=null||(e[n]=o))}return this._asyncAttributesPending||(this._memoizedAttributes=e),e}getRawAttributes(){return this._rawAttributes}get schemaUrl(){return this._schemaUrl}merge(e){if(e==null)return this;let r=tf(this,e),n=r?{schemaUrl:r}:void 0;return t.FromAttributeList([...e.getRawAttributes(),...this.getRawAttributes()],n)}};function gc(t,e){return ai.FromAttributeList(Object.entries(t),e)}function Vn(){return gc({})}function Ec(t){return t.map(([e,r])=>Ge(r)?[e,r.catch(n=>{O.debug("promise rejection for resource attribute: %s - %s",e,n)})]:[e,r])}function Jp(t){if(typeof t=="string"||t===void 0)return t;O.warn("Schema URL must be string or undefined, got %s. Schema URL will be ignored.",t)}function tf(t,e){let r=t==null?void 0:t.schemaUrl,n=e==null?void 0:e.schemaUrl,o=r===void 0||r==="",i=n===void 0||n==="";if(o)return n;if(i||r===n)return r;O.warn('Schema URL merge conflict: old resource has "%s", updating resource has "%s". Resulting resource will have undefined Schema URL.',r,n)}var ae={PLATFORM:"browser.platform",BRANDS:"browser.brands",MOBILE:"browser.mobile",LANGUAGE:"browser.language",USER_AGENT:"browser.user_agent"};var ci=class{detect(e){if(!(typeof window!="undefined"&&typeof document!="undefined"))return Vn();let n=ef();return this._getResourceAttributes(n,e)}_getResourceAttributes(e,r){return!e[ae.USER_AGENT]&&!e[ae.PLATFORM]?(O.debug("BrowserDetector failed: Unable to find required browser resources. "),Vn()):{attributes:e}}};function ef(){let t={},e=navigator.userAgentData;return e?(t[ae.PLATFORM]=e.platform,t[ae.BRANDS]=e.brands.map(r=>`${r.brand} ${r.version}`),t[ae.MOBILE]=e.mobile):t[ae.USER_AGENT]=navigator.userAgent,t[ae.LANGUAGE]=navigator.language,t}var ui=new ci;var Nc=-1,Nr=t=>{addEventListener("pageshow",(e=>{e.persisted&&(Nc=e.timeStamp,t(e))}),!0)},ce=(t,e,r,n)=>{let o,i;return s=>{e.value>=0&&(s||n)&&(i=e.value-(o!=null?o:0),(i||o===void 0)&&(o=e.value,e.delta=i,e.rating=((a,c)=>a>c[1]?"poor":a>c[0]?"needs-improvement":"good")(e.value,r),t(e)))}},Ti=t=>{requestAnimationFrame((()=>requestAnimationFrame((()=>t()))))},bc=()=>{let t=performance.getEntriesByType("navigation")[0];if(t&&t.responseStart>0&&t.responseStart<performance.now())return t},jn=()=>{var e;let t=bc();return(e=t==null?void 0:t.activationStart)!=null?e:0},ue=(t,e=-1)=>{let r=bc(),n="navigate";return Nc>=0?n="back-forward-cache":r&&(document.prerendering||jn()>0?n="prerender":document.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-"))),{name:t,value:e,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:n}},li=new WeakMap;function Ei(t,e){return li.get(t)||li.set(t,new e),li.get(t)}var fi=class{constructor(){l(this,"t");l(this,"i",0);l(this,"o",[])}h(e){var o;if(e.hadRecentInput)return;let r=this.o[0],n=this.o.at(-1);this.i&&r&&n&&e.startTime-n.startTime<1e3&&e.startTime-r.startTime<5e3?(this.i+=e.value,this.o.push(e)):(this.i=e.value,this.o=[e]),(o=this.t)==null||o.call(this,e)}},br=(t,e,r={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){let n=new PerformanceObserver((o=>{Promise.resolve().then((()=>{e(o.getEntries())}))}));return n.observe({type:t,buffered:!0,...r}),n}}catch(n){}},gi=t=>{let e=!1;return()=>{e||(t(),e=!0)}},Be=-1,Pc=new Set,Sc=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,_i=t=>{if(document.visibilityState==="hidden"){if(t.type==="visibilitychange")for(let e of Pc)e();isFinite(Be)||(Be=t.type==="visibilitychange"?t.timeStamp:0,removeEventListener("prerenderingchange",_i,!0))}},zn=()=>{var t;if(Be<0){let e=jn(),r=document.prerendering||(t=globalThis.performance.getEntriesByType("visibility-state").filter((n=>n.name==="hidden"&&n.startTime>e))[0])==null?void 0:t.startTime;Be=r!=null?r:Sc(),addEventListener("visibilitychange",_i,!0),addEventListener("prerenderingchange",_i,!0),Nr((()=>{setTimeout((()=>{Be=Sc()}))}))}return{get firstHiddenTime(){return Be},onHidden(e){Pc.add(e)}}},Si=t=>{document.prerendering?addEventListener("prerenderingchange",(()=>t()),!0):t()},Ac=[1800,3e3],rf=(t,e={})=>{Si((()=>{let r=zn(),n,o=ue("FCP"),i=br("paint",(s=>{for(let a of s)a.name==="first-contentful-paint"&&(i.disconnect(),a.startTime<r.firstHiddenTime&&(o.value=Math.max(a.startTime-jn(),0),o.entries.push(a),n(!0)))}));i&&(n=ce(t,o,Ac,e.reportAllChanges),Nr((s=>{o=ue("FCP"),n=ce(t,o,Ac,e.reportAllChanges),Ti((()=>{o.value=performance.now()-s.timeStamp,n(!0)}))})))}))},Rc=[.1,.25],Lc=(t,e={})=>{let r=zn();rf(gi((()=>{let n,o=ue("CLS",0),i=Ei(e,fi),s=c=>{for(let u of c)i.h(u);i.i>o.value&&(o.value=i.i,o.entries=i.o,n())},a=br("layout-shift",s);a&&(n=ce(t,o,Rc,e.reportAllChanges),r.onHidden((()=>{s(a.takeRecords()),n(!0)})),Nr((()=>{i.i=0,o=ue("CLS",0),n=ce(t,o,Rc,e.reportAllChanges),Ti((()=>n()))})),setTimeout(n))})))},Cc=0,pi=1/0,Fn=0,nf=t=>{for(let e of t)e.interactionId&&(pi=Math.min(pi,e.interactionId),Fn=Math.max(Fn,e.interactionId),Cc=Fn?(Fn-pi)/7+1:0)},di,yc=()=>{var t;return di?Cc:(t=performance.interactionCount)!=null?t:0},of=()=>{"interactionCount"in performance||di||(di=br("event",nf,{type:"event",buffered:!0,durationThreshold:0}))},Oc=0,hi=class{constructor(){l(this,"u",[]);l(this,"l",new Map);l(this,"m");l(this,"p")}v(){Oc=yc(),this.u.length=0,this.l.clear()}L(){let e=Math.min(this.u.length-1,Math.floor((yc()-Oc)/50));return this.u[e]}h(e){var o,i;if((o=this.m)==null||o.call(this,e),!e.interactionId&&e.entryType!=="first-input")return;let r=this.u.at(-1),n=this.l.get(e.interactionId);if(n||this.u.length<10||e.duration>r.P){if(n?e.duration>n.P?(n.entries=[e],n.P=e.duration):e.duration===n.P&&e.startTime===n.entries[0].startTime&&n.entries.push(e):(n={id:e.interactionId,entries:[e],P:e.duration},this.l.set(n.id,n),this.u.push(n)),this.u.sort(((s,a)=>a.P-s.P)),this.u.length>10){let s=this.u.splice(10);for(let a of s)this.l.delete(a.id)}(i=this.p)==null||i.call(this,n)}}},wc=t=>{let e=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?t():(t=gi(t),addEventListener("visibilitychange",t,{once:!0,capture:!0}),e((()=>{t(),removeEventListener("visibilitychange",t,{capture:!0})})))},vc=[200,500],Dc=(t,e={})=>{if(!globalThis.PerformanceEventTiming||!("interactionId"in PerformanceEventTiming.prototype))return;let r=zn();Si((()=>{var c;of();let n,o=ue("INP"),i=Ei(e,hi),s=u=>{wc((()=>{for(let m of u)i.h(m);let p=i.L();p&&p.P!==o.value&&(o.value=p.P,o.entries=p.entries,n())}))},a=br("event",s,{durationThreshold:(c=e.durationThreshold)!=null?c:40});n=ce(t,o,vc,e.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),r.onHidden((()=>{s(a.takeRecords()),n(!0)})),Nr((()=>{i.v(),o=ue("INP"),n=ce(t,o,vc,e.reportAllChanges)})))}))},mi=class{constructor(){l(this,"m")}h(e){var r;(r=this.m)==null||r.call(this,e)}},xc=[2500,4e3],Ic=(t,e={})=>{Si((()=>{let r=zn(),n,o=ue("LCP"),i=Ei(e,mi),s=c=>{e.reportAllChanges||(c=c.slice(-1));for(let u of c)i.h(u),u.startTime<r.firstHiddenTime&&(o.value=Math.max(u.startTime-jn(),0),o.entries=[u],n())},a=br("largest-contentful-paint",s);if(a){n=ce(t,o,xc,e.reportAllChanges);let c=gi((()=>{s(a.takeRecords()),a.disconnect(),n(!0)})),u=p=>{p.isTrusted&&(wc(c),removeEventListener(p.type,u,{capture:!0}))};for(let p of["keydown","click","visibilitychange"])addEventListener(p,u,{capture:!0});Nr((p=>{o=ue("LCP"),n=ce(t,o,xc,e.reportAllChanges),Ti((()=>{o.value=performance.now()-p.timeStamp,n(!0)}))}))}}))};var Pr=class{emit(e){}},Mc=new Pr;var Lr=Symbol.for("io.opentelemetry.js.api.logs"),Ve=globalThis;function kc(t,e,r){return n=>n===t?e:r}var Ai=1;var Ri=class{getLogger(e,r,n){return new Pr}},Kn=new Ri;var Zn=class{constructor(e,r,n,o){this._provider=e,this.name=r,this.version=n,this.options=o}emit(e){this._getLogger().emit(e)}_getLogger(){if(this._delegate)return this._delegate;let e=this._provider._getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):Mc}};var Cr=class{getLogger(e,r,n){var o;return(o=this._getDelegateLogger(e,r,n))!==null&&o!==void 0?o:new Zn(this,e,r,n)}_getDelegate(){var e;return(e=this._delegate)!==null&&e!==void 0?e:Kn}_setDelegate(e){this._delegate=e}_getDelegateLogger(e,r,n){var o;return(o=this._delegate)===null||o===void 0?void 0:o.getLogger(e,r,n)}};var Wn=class t{constructor(){this._proxyLoggerProvider=new Cr}static getInstance(){return this._instance||(this._instance=new t),this._instance}setGlobalLoggerProvider(e){return Ve[Lr]?this.getLoggerProvider():(Ve[Lr]=kc(Ai,e,Kn),this._proxyLoggerProvider._setDelegate(e),e)}getLoggerProvider(){var e,r;return(r=(e=Ve[Lr])===null||e===void 0?void 0:e.call(Ve,Ai))!==null&&r!==void 0?r:this._proxyLoggerProvider}getLogger(e,r,n){return this.getLoggerProvider().getLogger(e,r,n)}disable(){delete Ve[Lr],this._proxyLoggerProvider=new Cr}};var Uc=Wn.getInstance();var Tt=console.error.bind(console);function wr(t,e,r){let n=!!t[e]&&Object.prototype.propertyIsEnumerable.call(t,e);Object.defineProperty(t,e,{configurable:!0,enumerable:n,writable:!0,value:r})}var $n=(t,e,r)=>{if(!t||!t[e]){Tt("no original function "+String(e)+" to wrap");return}if(!r){Tt("no wrapper function"),Tt(new Error().stack);return}let n=t[e];if(typeof n!="function"||typeof r!="function"){Tt("original object and wrapper must be functions");return}let o=r(n,e);return wr(o,"__original",n),wr(o,"__unwrap",()=>{t[e]===o&&wr(t,e,n)}),wr(o,"__wrapped",!0),wr(t,e,o),o},yi=(t,e,r)=>{if(t)Array.isArray(t)||(t=[t]);else{Tt("must provide one or more modules to patch"),Tt(new Error().stack);return}if(!(e&&Array.isArray(e))){Tt("must provide one or more functions to wrap on modules");return}t.forEach(n=>{e.forEach(o=>{$n(n,o,r)})})},Yn=(t,e)=>{if(!t||!t[e]){Tt("no function to unwrap."),Tt(new Error().stack);return}let r=t[e];if(!r.__unwrap)Tt("no original to unwrap to -- has "+String(e)+" already been unwrapped?");else{r.__unwrap();return}},Oi=(t,e)=>{if(t)Array.isArray(t)||(t=[t]);else{Tt("must provide one or more modules to patch"),Tt(new Error().stack);return}if(!(e&&Array.isArray(e))){Tt("must provide one or more functions to unwrap on modules");return}t.forEach(r=>{e.forEach(n=>{Yn(r,n)})})};function Dr(t){t&&t.logger&&(typeof t.logger!="function"?Tt("new logger isn't a function, not replacing"):Tt=t.logger)}Dr.wrap=$n;Dr.massWrap=yi;Dr.unwrap=Yn;Dr.massUnwrap=Oi;var qn=class{constructor(e,r,n){l(this,"_config",{});l(this,"_tracer");l(this,"_meter");l(this,"_logger");l(this,"_diag");l(this,"instrumentationName");l(this,"instrumentationVersion");l(this,"_wrap",$n);l(this,"_unwrap",Yn);l(this,"_massWrap",yi);l(this,"_massUnwrap",Oi);this.instrumentationName=e,this.instrumentationVersion=r,this.setConfig(n),this._diag=O.createComponentLogger({namespace:e}),this._tracer=F.getTracer(e,r),this._meter=_e.getMeter(e,r),this._logger=Uc.getLogger(e,r),this._updateMetricInstruments()}get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()}get logger(){return this._logger}setLoggerProvider(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)}getModuleDefinitions(){var r;let e=(r=this.init())!=null?r:[];return Array.isArray(e)?e:[e]}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(e){this._config={enabled:!0,...e}}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}_runSpanCustomizationHook(e,r,n,o){if(e)try{e(n,o)}catch(i){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:r},i)}}};var Fe=class extends qn{constructor(e,r,n){super(e,r,n),this._config.enabled&&this.enable()}};function Xn(t,e,r){let n,o;try{o=t()}catch(i){n=i}finally{if(e(n,o),n&&!r)throw n;return o}}function vi(t){return typeof t=="function"&&typeof t.__original=="function"&&typeof t.__unwrap=="function"&&t.__wrapped===!0}var pt;(function(t){t[t.STABLE=1]="STABLE",t[t.OLD=2]="OLD",t[t.DUPLICATE=3]="DUPLICATE"})(pt||(pt={}));function xi(t,e){let r=pt.OLD,n=e==null?void 0:e.split(",").map(o=>o.trim()).filter(o=>o!=="");for(let o of n!=null?n:[])if(o.toLowerCase()===t+"/dup"){r=pt.DUPLICATE;break}else o.toLowerCase()===t&&(r=pt.STABLE);return r}var Ir;(function(t){t.COMPONENT="component",t.HTTP_STATUS_TEXT="http.status_text"})(Ir||(Ir={}));var Hc="http.host",Gc="http.method",Bc="http.request.body.size",Vc="http.request_content_length_uncompressed";var Fc="http.scheme",jc="http.status_code",zc="http.url",Kc="http.user_agent";var Zc=O.createComponentLogger({namespace:"@opentelemetry/opentelemetry-instrumentation-fetch/utils"});function Wc(...t){if(t[0]instanceof URL||typeof t[0]=="string"){let e=t[1];if(!(e!=null&&e.body))return Promise.resolve();if(e.body instanceof ReadableStream){let{body:r,length:n}=af(e.body);return e.body=r,n}else return Promise.resolve(uf(e.body))}else{let e=t[0];return e!=null&&e.body?e.clone().text().then(r=>Ni(r)):Promise.resolve()}}function af(t){if(!t.pipeThrough)return Zc.warn("Platform has ReadableStream but not pipeThrough!"),{body:t,length:Promise.resolve(void 0)};let e=0,r,n=new Promise(i=>{r=i}),o=new TransformStream({start(){},async transform(i,s){let a=await i;e+=a.byteLength,s.enqueue(i)},flush(){r(e)}});return{body:t.pipeThrough(o),length:n}}function cf(t){return typeof Document!="undefined"&&t instanceof Document}function uf(t){if(cf(t))return new XMLSerializer().serializeToString(document).length;if(typeof t=="string")return Ni(t);if(t instanceof Blob)return t.size;if(t instanceof FormData)return pf(t);if(t instanceof URLSearchParams)return Ni(t.toString());if(t.byteLength!==void 0)return t.byteLength;Zc.warn("unknown body type")}var lf=new TextEncoder;function Ni(t){return lf.encode(t).byteLength}function pf(t){let e=0;for(let[r,n]of t.entries())e+=r.length,n instanceof Blob?e+=n.size:e+=n.length;return e}function $c(t){let e=_f(),r=t.toUpperCase();return r in e?r:"_OTHER"}var ff={CONNECT:!0,DELETE:!0,GET:!0,HEAD:!0,OPTIONS:!0,PATCH:!0,POST:!0,PUT:!0,TRACE:!0,QUERY:!0},Mr;function _f(){if(Mr===void 0){let t=void 0;t&&t.length>0?(Mr={},t.forEach(e=>{Mr[e]=!0})):Mr=ff}return Mr}var df={"https:":"443","http:":"80"};function Yc(t){let e=Number(t.port||df[t.protocol]);if(e&&!isNaN(e))return e}var bi="0.212.0";var hf=300,qc=typeof PerformanceObserver!="undefined",kr=class extends Fe{constructor(r={}){super("@opentelemetry/instrumentation-fetch",bi,r);l(this,"component","fetch");l(this,"version",bi);l(this,"moduleName",this.component);l(this,"_usedResources",new WeakSet);l(this,"_tasksCount",0);l(this,"_semconvStability");this._semconvStability=xi("http",r==null?void 0:r.semconvStabilityOptIn)}init(){}_addChildSpan(r,n){let o=this.tracer.startSpan("CORS Preflight",{startTime:n[U.FETCH_START]},F.setSpan(G.active(),r)),i=!(this._semconvStability&pt.OLD);Re(o,n,this.getConfig().ignoreNetworkEvents,void 0,i),o.end(n[U.RESPONSE_END])}_addFinalSpanAttributes(r,n){let o=De(n.url);if(this._semconvStability&pt.OLD&&(r.setAttribute(jc,n.status),n.statusText!=null&&r.setAttribute(Ir.HTTP_STATUS_TEXT,n.statusText),r.setAttribute(Hc,o.host),r.setAttribute(Fc,o.protocol.replace(":","")),typeof navigator!="undefined"&&r.setAttribute(Kc,navigator.userAgent)),this._semconvStability&pt.STABLE){r.setAttribute(Qr,n.status),r.setAttribute(Jr,o.hostname);let i=Yc(o);i&&r.setAttribute(tn,i)}}_addHeaders(r,n){if(!vo(n,this.getConfig().propagateTraceHeaderCorsUrls)){let o={};at.inject(G.active(),o),Object.keys(o).length>0&&this._diag.debug("headers inject skipped due to CORS policy");return}if(r instanceof Request)at.inject(G.active(),r.headers,{set:(o,i,s)=>o.set(i,typeof s=="string"?s:String(s))});else if(r.headers instanceof Headers)at.inject(G.active(),r.headers,{set:(o,i,s)=>o.set(i,typeof s=="string"?s:String(s))});else if(r.headers instanceof Map)at.inject(G.active(),r.headers,{set:(o,i,s)=>o.set(i,typeof s=="string"?s:String(s))});else{let o={};at.inject(G.active(),o),r.headers=Object.assign({},o,r.headers||{})}}_clearResources(){this._tasksCount===0&&this.getConfig().clearTimingResources&&(performance.clearResourceTimings(),this._usedResources=new WeakSet)}_createSpan(r,n={}){if(go(r,this.getConfig().ignoreUrls)){this._diag.debug("ignoring span as url matches ignored url");return}let o="",i={};if(this._semconvStability&pt.OLD){let s=(n.method||"GET").toUpperCase();o=`HTTP ${s}`,i[Ir.COMPONENT]=this.moduleName,i[Gc]=s,i[zc]=r}if(this._semconvStability&pt.STABLE){let s=n.method,a=$c(n.method||"GET");o||(o=a),i[qr]=a,a!==s&&(i[Xr]=s),i[oe]=r}return this.tracer.startSpan(o,{kind:Zt.CLIENT,attributes:i})}_findResourceAndAddNetworkEvents(r,n,o){let i=n.entries;if(!i.length){if(!performance.getEntriesByType)return;i=performance.getEntriesByType("resource")}let s=Oo(n.spanUrl,n.startTime,o,i,this._usedResources,"fetch");if(s.mainRequest){let a=s.mainRequest;this._markResourceAsUsed(a);let c=s.corsPreFlightRequest;c&&(this._addChildSpan(r,c),this._markResourceAsUsed(c));let u=!(this._semconvStability&pt.OLD);Re(r,a,this.getConfig().ignoreNetworkEvents,void 0,u)}}_markResourceAsUsed(r){this._usedResources.add(r)}_endSpan(r,n,o){let i=At(Date.now()),s=Wt();this._addFinalSpanAttributes(r,o),this._semconvStability&pt.STABLE&&o.status>=400&&(r.setStatus({code:St.ERROR}),r.setAttribute(qe,String(o.status))),setTimeout(()=>{var a;(a=n.observer)==null||a.disconnect(),this._findResourceAndAddNetworkEvents(r,n,s),this._tasksCount--,this._clearResources(),r.end(i)},hf)}_patchConstructor(){return r=>{let n=this,o=new Set(["url","type","redirected"]);function i(s,a){return new Proxy(s,{get(c,u,p){if(typeof u=="string"&&o.has(u))return Reflect.get(a,u);if(u==="clone")return function(){return i(c.clone(),a)};let m=Reflect.get(c,u,c);return typeof m=="function"?m.bind(c):m}})}return function(...a){let c=this,u=De(a[0]instanceof Request?a[0].url:String(a[0])).href,p=a[0]instanceof Request?a[0]:a[1]||{},m=n._createSpan(u,p);if(!m)return r.apply(this,a);let g=n._prepareSpanData(u);n.getConfig().measureRequestSize&&Wc(...a).then(E=>{E&&(n._semconvStability&pt.OLD&&m.setAttribute(Vc,E),n._semconvStability&pt.STABLE&&m.setAttribute(Bc,E))}).catch(E=>{n._diag.warn("getFetchBodyLength",E)});function y(E,T){n._applyAttributesAfterFetch(E,p,T),n._endSpan(E,g,{status:T.status||0,statusText:T.message,url:u})}function I(E,T){n._applyAttributesAfterFetch(E,p,T),T.status>=200&&T.status<400?n._endSpan(E,g,T):n._endSpan(E,g,{status:T.status,statusText:T.statusText,url:u})}function k(E,T){if(!E)return null;let x=E.getReader();return new ReadableStream({async pull(v){try{let{value:K,done:W}=await x.read();W?(x.releaseLock(),v.close()):v.enqueue(K)}catch(K){v.error(K),x.cancel(K).catch(W=>{});try{x.releaseLock()}catch(W){}}},cancel(v){return T.cancel(v).catch(K=>{}),x.cancel(v)}})}function Q(E,T,x){let v=null;try{let W=x.clone().body;if(W){let N=W.getReader(),w=x.status===204||x.status===205||x.status===304?null:k(x.body,N),D=new Response(w,{status:x.status,statusText:x.statusText,headers:x.headers});v=i(D,x);let H=()=>{N.read().then(({done:b})=>{b?I(E,x):H()},b=>{y(E,b)})};H()}else I(E,x)}finally{T(v!=null?v:x)}}function Z(E,T,x){try{y(E,x)}finally{T(x)}}return new Promise((E,T)=>G.with(F.setSpan(G.active(),m),()=>(n._addHeaders(p,u),n._callRequestHook(m,p),n._tasksCount++,r.apply(c,p instanceof Request?[p]:[u,p]).then(Q.bind(c,m,E),Z.bind(c,m,T)))))}}}_applyAttributesAfterFetch(r,n,o){let i=this.getConfig().applyCustomAttributesOnSpan;i&&Xn(()=>i(r,n,o),s=>{s&&this._diag.error("applyCustomAttributesOnSpan",s)},!0)}_callRequestHook(r,n){let o=this.getConfig().requestHook;o&&Xn(()=>o(r,n),i=>{i&&this._diag.error("requestHook",i)},!0)}_prepareSpanData(r){let n=Wt(),o=[];if(typeof PerformanceObserver!="function")return{entries:o,startTime:n,spanUrl:r};let i=new PerformanceObserver(s=>{s.getEntries().forEach(c=>{c.initiatorType==="fetch"&&c.name===r&&o.push(c)})});return i.observe({entryTypes:["resource"]}),{entries:o,observer:i,startTime:n,spanUrl:r}}enable(){if(!qc){this._diag.warn("this instrumentation is intended for web usage only, it does not instrument server-side fetch()");return}vi(fetch)&&(this._unwrap(globalThis,"fetch"),this._diag.debug("removing previous patch for constructor")),this._wrap(globalThis,"fetch",this._patchConstructor())}disable(){qc&&(this._unwrap(globalThis,"fetch"),this._usedResources=new WeakSet)}};(function(){var k,Q,Z;let e=window.MatomoOpenTelemetry||{};if(!e.enabled)return;let r=(k=e.traceUrl)!=null?k:"",n=(Q=e.serviceName)!=null?Q:"matomo-frontend",o=Ao({detectors:[ui]}),i=g(e.resourceAttributes),s=or({[en]:n,...i});s=s.merge(o);let a=new ar({resource:s,spanProcessors:[new Ce(new He({url:r}))]});a.register({contextManager:new Ie,propagator:new Te({propagators:[new Ee]})});let c=[];e.enableDocumentLoadMonitoring&&c.push(new Er),e.enableUserInteractionMonitoring&&c.push(new gr),e.enableXMLHttpRequestMonitoring&&(c.push(new yr({propagateTraceHeaderCorsUrls:[/.*/]})),c.push(new kr({propagateTraceHeaderCorsUrls:[/.*/]}))),c.length>0&&Vo({instrumentations:c});let u=F.getTracer(n),p=null,m=G.active();if(e.enableUxMonitoring){let E=function(){p&&p.end(),p=u.startSpan("ui.page",{attributes:{"http.url":window.location.href,"http.path":window.location.pathname,"http.title":document.title}}),m=F.setSpan(G.active(),p)};E(),window.addEventListener("hashchange",()=>{E()}),window.addEventListener("beforeunload",()=>{p&&p.end()})}function g(E){return!E||typeof E!="string"?{}:E.split(",").map(T=>T.trim()).filter(Boolean).reduce((T,x)=>{let[v,...K]=x.split("=");return!v||K.length===0||(T[v.trim()]=K.join("=").trim()),T},{})}function y(E,T){var x;try{let v=u.startSpan(E,{},m);v.recordException(T),v.setStatus({code:St.ERROR}),v.setAttribute("error.message",T.message),v.setAttribute("error.name",T.name),v.setAttribute("error.stack",(x=T.stack)!=null?x:""),v.setAttribute("http.url",window.location.href),v.setAttribute("http.path",window.location.pathname),v.setAttribute("http.title",document.title),v.end(),a.forceFlush()}catch(v){console.warn("OpenTelemetry: failed to record error span",v)}}window.addEventListener("error",E=>{y("js.error",E.error||new Error(E.message))}),window.addEventListener("unhandledrejection",E=>{y("js.unhandled_promise",E.reason instanceof Error?E.reason:new Error(String(E.reason)))});function I(){let E=document.getElementById("ajaxError");if(!E)return;new MutationObserver(x=>{var v,K,W,N;for(let et of x)for(let w of et.addedNodes){if(!(w instanceof HTMLElement))continue;let D=(v=w.matches)!=null&&v.call(w,".notification-error")?w:(K=w.querySelector)==null?void 0:K.call(w,".notification-error");if(!D)continue;let H=(N=(W=D.querySelector(".notification-body div"))==null?void 0:W.innerText)==null?void 0:N.trim();if(!H)continue;let b=u.startSpan("ui.notification.error",{attributes:{"ui.notification.type":"error","ui.notification.message":H,"http.url":window.location.href,"http.path":window.location.pathname}},m);b.setStatus({code:St.ERROR}),b.end()}}).observe(E,{childList:!0,subtree:!0})}if(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",I):I(),e.enableWebVitals){let E=function(T){let x=u.startSpan("browser.web_vital",{attributes:{"http.url":window.location.href,"http.path":window.location.pathname}},m);x.addEvent("browser.web_vital",{name:T.name,value:T.value,delta:T.delta,id:T.id}),x.end()};Lc(E),Ic(E),Dc(E)}e.enableUxMonitoring&&"PerformanceObserver"in window&&((Z=PerformanceObserver.supportedEntryTypes)!=null&&Z.includes("longtask"))&&new PerformanceObserver(T=>{for(let x of T.getEntries()){let v=u.startSpan("ux.long_task",{attributes:{"http.url":window.location.href,"http.path":window.location.pathname}},m);v.addEvent("ux.long_task",{duration:x.duration,startTime:x.startTime}),v.end()}}).observe({entryTypes:["longtask"]})})();})();
/*! Bundled license information:

zone.js/fesm2015/zone.js:
  (**
   * @license Angular
   * (c) 2010-2025 Google LLC. https://angular.dev/
   * License: MIT
   *)
*/
