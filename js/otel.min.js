(()=>{var wa=Object.defineProperty;var Ia=(t,e,r)=>e in t?wa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var l=(t,e,r)=>Ia(t,typeof e!="symbol"?e+"":e,r);var Uo=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{};var Gt="1.9.0";var Ho=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function Da(t){var e=new Set([t]),r=new Set,n=t.match(Ho);if(!n)return function(){return!1};var o={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(o.prerelease!=null)return function(c){return c===t};function i(a){return r.add(a),!1}function s(a){return e.add(a),!0}return function(c){if(e.has(c))return!0;if(r.has(c))return!1;var u=c.match(Ho);if(!u)return i(c);var p={major:+u[1],minor:+u[2],patch:+u[3],prerelease:u[4]};return p.prerelease!=null||o.major!==p.major?i(c):o.major===0?o.minor===p.minor&&o.patch<=p.patch?s(c):i(c):o.minor<=p.minor?s(c):i(c)}}var Go=Da(Gt);var Ma=Gt.split(".")[0],De=Symbol.for("opentelemetry.js.api."+Ma),Me=Uo;function Pt(t,e,r,n){var o;n===void 0&&(n=!1);var i=Me[De]=(o=Me[De])!==null&&o!==void 0?o:{version:Gt};if(!n&&i[t]){var s=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+t);return r.error(s.stack||s.message),!1}if(i.version!==Gt){var s=new Error("@opentelemetry/api: Registration of version v"+i.version+" for "+t+" does not match previously registered API v"+Gt);return r.error(s.stack||s.message),!1}return i[t]=e,r.debug("@opentelemetry/api: Registered a global for "+t+" v"+Gt+"."),!0}function mt(t){var e,r,n=(e=Me[De])===null||e===void 0?void 0:e.version;if(!(!n||!Go(n)))return(r=Me[De])===null||r===void 0?void 0:r[t]}function Lt(t,e){e.debug("@opentelemetry/api: Unregistering a global for "+t+" v"+Gt+".");var r=Me[De];r&&delete r[t]}var ka=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},Ua=function(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))},Bo=(function(){function t(e){this._namespace=e.namespace||"DiagComponentLogger"}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return ke("debug",this._namespace,e)},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return ke("error",this._namespace,e)},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return ke("info",this._namespace,e)},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return ke("warn",this._namespace,e)},t.prototype.verbose=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return ke("verbose",this._namespace,e)},t})();function ke(t,e,r){var n=mt("diag");if(n)return r.unshift(e),n[t].apply(n,Ua([],ka(r),!1))}var pt;(function(t){t[t.NONE=0]="NONE",t[t.ERROR=30]="ERROR",t[t.WARN=50]="WARN",t[t.INFO=60]="INFO",t[t.DEBUG=70]="DEBUG",t[t.VERBOSE=80]="VERBOSE",t[t.ALL=9999]="ALL"})(pt||(pt={}));function Vo(t,e){t<pt.NONE?t=pt.NONE:t>pt.ALL&&(t=pt.ALL),e=e||{};function r(n,o){var i=e[n];return typeof i=="function"&&t>=o?i.bind(e):function(){}}return{error:r("error",pt.ERROR),warn:r("warn",pt.WARN),info:r("info",pt.INFO),debug:r("debug",pt.DEBUG),verbose:r("verbose",pt.VERBOSE)}}var Ha=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},Ga=function(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))},Ba="diag",ct=(function(){function t(){function e(o){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var a=mt("diag");if(a)return a[o].apply(a,Ga([],Ha(i),!1))}}var r=this,n=function(o,i){var s,a,c;if(i===void 0&&(i={logLevel:pt.INFO}),o===r){var u=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((s=u.stack)!==null&&s!==void 0?s:u.message),!1}typeof i=="number"&&(i={logLevel:i});var p=mt("diag"),m=Vo((a=i.logLevel)!==null&&a!==void 0?a:pt.INFO,o);if(p&&!i.suppressOverrideMessage){var S=(c=new Error().stack)!==null&&c!==void 0?c:"<failed to generate stacktrace>";p.warn("Current logger will be overwritten from "+S),m.warn("Current logger will overwrite one already registered from "+S)}return Pt("diag",m,r,!0)};r.setLogger=n,r.disable=function(){Lt(Ba,r)},r.createComponentLogger=function(o){return new Bo(o)},r.verbose=e("verbose"),r.debug=e("debug"),r.info=e("info"),r.warn=e("warn"),r.error=e("error")}return t.instance=function(){return this._instance||(this._instance=new t),this._instance},t})();var Va=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},Fa=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fo=(function(){function t(e){this._entries=e?new Map(e):new Map}return t.prototype.getEntry=function(e){var r=this._entries.get(e);if(r)return Object.assign({},r)},t.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var r=Va(e,2),n=r[0],o=r[1];return[n,o]})},t.prototype.setEntry=function(e,r){var n=new t(this._entries);return n._entries.set(e,r),n},t.prototype.removeEntry=function(e){var r=new t(this._entries);return r._entries.delete(e),r},t.prototype.removeEntries=function(){for(var e,r,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=new t(this._entries);try{for(var s=Fa(n),a=s.next();!a.done;a=s.next()){var c=a.value;i._entries.delete(c)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return i},t.prototype.clear=function(){return new t},t})();var jo=Symbol("BaggageEntryMetadata");var ja=ct.instance();function Zo(t){return t===void 0&&(t={}),new Fo(new Map(Object.entries(t)))}function Tn(t){return typeof t!="string"&&(ja.error("Cannot create baggage metadata from unknown type: "+typeof t),t=""),{__TYPE__:jo,toString:function(){return t}}}function ne(t){return Symbol.for(t)}var Za=(function(){function t(e){var r=this;r._currentContext=e?new Map(e):new Map,r.getValue=function(n){return r._currentContext.get(n)},r.setValue=function(n,o){var i=new t(r._currentContext);return i._currentContext.set(n,o),i},r.deleteValue=function(n){var o=new t(r._currentContext);return o._currentContext.delete(n),o}}return t})(),ft=new Za;var oe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),za=(function(){function t(){}return t.prototype.createGauge=function(e,r){return tc},t.prototype.createHistogram=function(e,r){return ec},t.prototype.createCounter=function(e,r){return Ja},t.prototype.createUpDownCounter=function(e,r){return rc},t.prototype.createObservableGauge=function(e,r){return oc},t.prototype.createObservableCounter=function(e,r){return nc},t.prototype.createObservableUpDownCounter=function(e,r){return ic},t.prototype.addBatchObservableCallback=function(e,r){},t.prototype.removeBatchObservableCallback=function(e){},t})();var mr=(function(){function t(){}return t})();var Ka=(function(t){oe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.add=function(r,n){},e})(mr);var $a=(function(t){oe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.add=function(r,n){},e})(mr);var Wa=(function(t){oe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.record=function(r,n){},e})(mr);var Ya=(function(t){oe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.record=function(r,n){},e})(mr);var En=(function(){function t(){}return t.prototype.addCallback=function(e){},t.prototype.removeCallback=function(e){},t})();var Xa=(function(t){oe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(En);var qa=(function(t){oe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(En);var Qa=(function(t){oe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(En);var zo=new za,Ja=new Ka,tc=new Wa,ec=new Ya,rc=new $a,nc=new Xa,oc=new qa,ic=new Qa;var Ko={get:function(t,e){if(t!=null)return t[e]},keys:function(t){return t==null?[]:Object.keys(t)}},$o={set:function(t,e,r){t!=null&&(t[e]=r)}};var sc=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},ac=function(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))},Wo=(function(){function t(){}return t.prototype.active=function(){return ft},t.prototype.with=function(e,r,n){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];return r.call.apply(r,ac([n],sc(o),!1))},t.prototype.bind=function(e,r){return r},t.prototype.enable=function(){return this},t.prototype.disable=function(){return this},t})();var cc=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},uc=function(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))},gn="context",lc=new Wo,Xt=(function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalContextManager=function(e){return Pt(gn,e,ct.instance())},t.prototype.active=function(){return this._getContextManager().active()},t.prototype.with=function(e,r,n){for(var o,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];return(o=this._getContextManager()).with.apply(o,uc([e,r,n],cc(i),!1))},t.prototype.bind=function(e,r){return this._getContextManager().bind(e,r)},t.prototype._getContextManager=function(){return mt(gn)||lc},t.prototype.disable=function(){this._getContextManager().disable(),Lt(gn,ct.instance())},t})();var _t;(function(t){t[t.NONE=0]="NONE",t[t.SAMPLED=1]="SAMPLED"})(_t||(_t={}));var Tr="0000000000000000",Er="00000000000000000000000000000000",Ue={traceId:Er,spanId:Tr,traceFlags:_t.NONE};var qt=(function(){function t(e){e===void 0&&(e=Ue),this._spanContext=e}return t.prototype.spanContext=function(){return this._spanContext},t.prototype.setAttribute=function(e,r){return this},t.prototype.setAttributes=function(e){return this},t.prototype.addEvent=function(e,r){return this},t.prototype.addLink=function(e){return this},t.prototype.addLinks=function(e){return this},t.prototype.setStatus=function(e){return this},t.prototype.updateName=function(e){return this},t.prototype.end=function(e){},t.prototype.isRecording=function(){return!1},t.prototype.recordException=function(e,r){},t})();var Sn=ne("OpenTelemetry Context Key SPAN");function gr(t){return t.getValue(Sn)||void 0}function Yo(){return gr(Xt.getInstance().active())}function He(t,e){return t.setValue(Sn,e)}function Xo(t){return t.deleteValue(Sn)}function qo(t,e){return He(t,new qt(e))}function Sr(t){var e;return(e=gr(t))===null||e===void 0?void 0:e.spanContext()}var pc=/^([0-9a-f]{32})$/i,fc=/^[0-9a-f]{16}$/i;function Ar(t){return pc.test(t)&&t!==Er}function Qo(t){return fc.test(t)&&t!==Tr}function Bt(t){return Ar(t.traceId)&&Qo(t.spanId)}function Jo(t){return new qt(t)}var An=Xt.getInstance(),Rr=(function(){function t(){}return t.prototype.startSpan=function(e,r,n){n===void 0&&(n=An.active());var o=!!(r!=null&&r.root);if(o)return new qt;var i=n&&Sr(n);return _c(i)&&Bt(i)?new qt(i):new qt},t.prototype.startActiveSpan=function(e,r,n,o){var i,s,a;if(!(arguments.length<2)){arguments.length===2?a=r:arguments.length===3?(i=r,a=n):(i=r,s=n,a=o);var c=s!=null?s:An.active(),u=this.startSpan(e,i,c),p=He(c,u);return An.with(p,a,void 0,u)}},t})();function _c(t){return typeof t=="object"&&typeof t.spanId=="string"&&typeof t.traceId=="string"&&typeof t.traceFlags=="number"}var dc=new Rr,ti=(function(){function t(e,r,n,o){this._provider=e,this.name=r,this.version=n,this.options=o}return t.prototype.startSpan=function(e,r,n){return this._getTracer().startSpan(e,r,n)},t.prototype.startActiveSpan=function(e,r,n,o){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},t.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):dc},t})();var ei=(function(){function t(){}return t.prototype.getTracer=function(e,r,n){return new Rr},t})();var hc=new ei,Rn=(function(){function t(){}return t.prototype.getTracer=function(e,r,n){var o;return(o=this.getDelegateTracer(e,r,n))!==null&&o!==void 0?o:new ti(this,e,r,n)},t.prototype.getDelegate=function(){var e;return(e=this._delegate)!==null&&e!==void 0?e:hc},t.prototype.setDelegate=function(e){this._delegate=e},t.prototype.getDelegateTracer=function(e,r,n){var o;return(o=this._delegate)===null||o===void 0?void 0:o.getTracer(e,r,n)},t})();var Se;(function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Se||(Se={}));var ie;(function(t){t[t.INTERNAL=0]="INTERNAL",t[t.SERVER=1]="SERVER",t[t.CLIENT=2]="CLIENT",t[t.PRODUCER=3]="PRODUCER",t[t.CONSUMER=4]="CONSUMER"})(ie||(ie={}));var vt;(function(t){t[t.UNSET=0]="UNSET",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR"})(vt||(vt={}));var j=Xt.getInstance();var v=ct.instance();var mc=(function(){function t(){}return t.prototype.getMeter=function(e,r,n){return zo},t})();var ri=new mc;var yn="metrics",ni=(function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalMeterProvider=function(e){return Pt(yn,e,ct.instance())},t.prototype.getMeterProvider=function(){return mt(yn)||ri},t.prototype.getMeter=function(e,r,n){return this.getMeterProvider().getMeter(e,r,n)},t.prototype.disable=function(){Lt(yn,ct.instance())},t})();var Ge=ni.getInstance();var oi=(function(){function t(){}return t.prototype.inject=function(e,r){},t.prototype.extract=function(e,r){return e},t.prototype.fields=function(){return[]},t})();var vn=ne("OpenTelemetry Baggage Key");function On(t){return t.getValue(vn)||void 0}function ii(){return On(Xt.getInstance().active())}function si(t,e){return t.setValue(vn,e)}function ai(t){return t.deleteValue(vn)}var bn="propagation",Tc=new oi,ci=(function(){function t(){this.createBaggage=Zo,this.getBaggage=On,this.getActiveBaggage=ii,this.setBaggage=si,this.deleteBaggage=ai}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalPropagator=function(e){return Pt(bn,e,ct.instance())},t.prototype.inject=function(e,r,n){return n===void 0&&(n=$o),this._getGlobalPropagator().inject(e,r,n)},t.prototype.extract=function(e,r,n){return n===void 0&&(n=Ko),this._getGlobalPropagator().extract(e,r,n)},t.prototype.fields=function(){return this._getGlobalPropagator().fields()},t.prototype.disable=function(){Lt(bn,ct.instance())},t.prototype._getGlobalPropagator=function(){return mt(bn)||Tc},t})();var ut=ci.getInstance();var xn="trace",ui=(function(){function t(){this._proxyTracerProvider=new Rn,this.wrapSpanContext=Jo,this.isSpanContextValid=Bt,this.deleteSpan=Xo,this.getSpan=gr,this.getActiveSpan=Yo,this.getSpanContext=Sr,this.setSpan=He,this.setSpanContext=qo}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalTracerProvider=function(e){var r=Pt(xn,this._proxyTracerProvider,ct.instance());return r&&this._proxyTracerProvider.setDelegate(e),r},t.prototype.getTracerProvider=function(){return mt(xn)||this._proxyTracerProvider},t.prototype.getTracer=function(e,r){return this.getTracerProvider().getTracer(e,r)},t.prototype.disable=function(){Lt(xn,ct.instance()),this._proxyTracerProvider=new Rn},t})();var K=ui.getInstance();var li=ne("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function Nn(t){return t.setValue(li,!0)}function se(t){return t.getValue(li)===!0}var vr="baggage";function pi(t){return t.reduce((e,r)=>{let n=`${e}${e!==""?",":""}${r}`;return n.length>8192?e:n},"")}function fi(t){return t.getAllEntries().map(([e,r])=>{let n=`${encodeURIComponent(e)}=${encodeURIComponent(r.value)}`;return r.metadata!==void 0&&(n+=";"+r.metadata.toString()),n})}function _i(t){if(!t)return;let e=t.indexOf(";"),r=e===-1?t:t.substring(0,e),n=r.indexOf("=");if(n<=0)return;let o=r.substring(0,n).trim(),i=r.substring(n+1).trim();if(!o||!i)return;let s,a;try{s=decodeURIComponent(o),a=decodeURIComponent(i)}catch(u){return}let c;if(e!==-1&&e<t.length-1){let u=t.substring(e+1);c=Tn(u)}return{key:s,value:a,metadata:c}}var ae=class{inject(e,r,n){let o=ut.getBaggage(e);if(!o||se(e))return;let i=fi(o).filter(a=>a.length<=4096).slice(0,180),s=pi(i);s.length>0&&n.set(r,vr,s)}extract(e,r,n){let o=n.get(r,vr),i=Array.isArray(o)?o.join(","):o;if(!i)return e;let s={};return i.length===0||(i.split(",").forEach(c=>{let u=_i(c);if(u){let p={value:u.value};u.metadata&&(p.metadata=u.metadata),s[u.key]=p}}),Object.entries(s).length===0)?e:ut.setBaggage(e,ut.createBaggage(s))}fields(){return[vr]}};function ce(t){let e={};if(typeof t!="object"||t==null)return e;for(let r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;if(!Ac(r)){v.warn(`Invalid attribute key: ${r}`);continue}let n=t[r];if(!Or(n)){v.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(n)?e[r]=n.slice():e[r]=n}return e}function Ac(t){return typeof t=="string"&&t!==""}function Or(t){return t==null?!0:Array.isArray(t)?Rc(t):di(typeof t)}function Rc(t){let e;for(let r of t){if(r==null)continue;let n=typeof r;if(n!==e){if(!e){if(di(n)){e=n;continue}return!1}return!1}}return!0}function di(t){switch(t){case"number":case"boolean":case"string":return!0}return!1}function hi(){return t=>{v.error(yc(t))}}function yc(t){return typeof t=="string"?t:JSON.stringify(vc(t))}function vc(t){let e={},r=t;for(;r!==null;)Object.getOwnPropertyNames(r).forEach(n=>{if(e[n])return;let o=r[n];o&&(e[n]=String(o))}),r=Object.getPrototypeOf(r);return e}var Oc=hi();function Ot(t){try{Oc(t)}catch(e){}}var mi="2.5.0";var Ln="error.type";var br="exception.message",Ti="exception.stacktrace",xr="exception.type";var Ei="http.request.method";var gi="http.request.method_original";var Si="http.response.status_code";var Ai="server.address",Ri="server.port",Nr="service.name";var Be="telemetry.sdk.language";var yi="webjs",Ve="telemetry.sdk.name",Fe="telemetry.sdk.version";var Ae="url.full";var vi="user_agent.original";var Oi="process.runtime.name";var Re={[Ve]:"opentelemetry",[Oi]:"browser",[Be]:yi,[Fe]:mi};var st=performance;var bc=9,xc=6,Nc=Math.pow(10,xc),Pr=Math.pow(10,bc);function Ct(t){let e=t/1e3,r=Math.trunc(e),n=Math.round(t%1e3*Nc);return[r,n]}function Vt(t){let e=Ct(st.timeOrigin),r=Ct(typeof t=="number"?t:st.now());return Cr(e,r)}function ue(t){if(je(t))return t;if(typeof t=="number")return t<st.timeOrigin?Vt(t):Ct(t);if(t instanceof Date)return Ct(t.getTime());throw TypeError("Invalid input type")}function Cn(t,e){let r=e[0]-t[0],n=e[1]-t[1];return n<0&&(r-=1,n+=Pr),[r,n]}function Et(t){return t[0]*Pr+t[1]}function je(t){return Array.isArray(t)&&t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"}function Lr(t){return je(t)||typeof t=="number"||t instanceof Date}function Cr(t,e){let r=[t[0]+e[0],t[1]+e[1]];return r[1]>=Pr&&(r[1]-=Pr,r[0]+=1),r}var Tt;(function(t){t[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED"})(Tt||(Tt={}));var le=class{constructor(e={}){l(this,"_propagators");l(this,"_fields");var r;this._propagators=(r=e.propagators)!=null?r:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,o)=>n.concat(o),[])))}inject(e,r,n){for(let o of this._propagators)try{o.inject(e,r,n)}catch(i){v.warn(`Failed to inject with ${o.constructor.name}. Err: ${i.message}`)}}extract(e,r,n){return this._propagators.reduce((o,i)=>{try{return i.extract(o,r,n)}catch(s){v.warn(`Failed to extract with ${i.constructor.name}. Err: ${s.message}`)}return o},e)}fields(){return this._fields.slice()}};var wn="[_0-9a-z-*/]",Pc=`[a-z]${wn}{0,255}`,Lc=`[a-z0-9]${wn}{0,240}@[a-z]${wn}{0,13}`,Cc=new RegExp(`^(?:${Pc}|${Lc})$`),wc=/^[ -~]{0,255}[!-~]$/,Ic=/,|=/;function bi(t){return Cc.test(t)}function xi(t){return wc.test(t)&&!Ic.test(t)}var Ni=32,Dc=512,Pi=",",Li="=",wr=class t{constructor(e){l(this,"_internalState",new Map);e&&this._parse(e)}set(e,r){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,r),n}unset(e){let r=this._clone();return r._internalState.delete(e),r}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,r)=>(e.push(r+Li+this.get(r)),e),[]).join(Pi)}_parse(e){e.length>Dc||(this._internalState=e.split(Pi).reverse().reduce((r,n)=>{let o=n.trim(),i=o.indexOf(Li);if(i!==-1){let s=o.slice(0,i),a=o.slice(i+1,n.length);bi(s)&&xi(a)&&r.set(s,a)}return r},new Map),this._internalState.size>Ni&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Ni))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new t;return e._internalState=new Map(this._internalState),e}};var ye="traceparent",Ir="tracestate",Mc="00",kc="(?!ff)[\\da-f]{2}",Uc="(?![0]{32})[\\da-f]{32}",Hc="(?![0]{16})[\\da-f]{16}",Gc="[\\da-f]{2}",Bc=new RegExp(`^\\s?(${kc})-(${Uc})-(${Hc})-(${Gc})(-.*)?\\s?$`);function Ci(t){let e=Bc.exec(t);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}var pe=class{inject(e,r,n){let o=K.getSpanContext(e);if(!o||se(e)||!Bt(o))return;let i=`${Mc}-${o.traceId}-${o.spanId}-0${Number(o.traceFlags||_t.NONE).toString(16)}`;n.set(r,ye,i),o.traceState&&n.set(r,Ir,o.traceState.serialize())}extract(e,r,n){let o=n.get(r,ye);if(!o)return e;let i=Array.isArray(o)?o[0]:o;if(typeof i!="string")return e;let s=Ci(i);if(!s)return e;s.isRemote=!0;let a=n.get(r,Ir);if(a){let c=Array.isArray(a)?a.join(","):a;s.traceState=new wr(typeof c=="string"?c:void 0)}return K.setSpanContext(e,s)}fields(){return[ye,Ir]}};var Vc="[object Object]",Fc="[object Null]",jc="[object Undefined]",Zc=Function.prototype,wi=Zc.toString,zc=wi.call(Object),Kc=Object.getPrototypeOf,Ii=Object.prototype,Di=Ii.hasOwnProperty,fe=Symbol?Symbol.toStringTag:void 0,Mi=Ii.toString;function In(t){if(!$c(t)||Wc(t)!==Vc)return!1;let e=Kc(t);if(e===null)return!0;let r=Di.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&wi.call(r)===zc}function $c(t){return t!=null&&typeof t=="object"}function Wc(t){return t==null?t===void 0?jc:Fc:fe&&fe in Object(t)?Yc(t):Xc(t)}function Yc(t){let e=Di.call(t,fe),r=t[fe],n=!1;try{t[fe]=void 0,n=!0}catch(i){}let o=Mi.call(t);return n&&(e?t[fe]=r:delete t[fe]),o}function Xc(t){return Mi.call(t)}var qc=20;function Mn(...t){let e=t.shift(),r=new WeakMap;for(;t.length>0;)e=Ui(e,t.shift(),0,r);return e}function Dn(t){return Mr(t)?t.slice():t}function Ui(t,e,r=0,n){let o;if(!(r>qc)){if(r++,Dr(t)||Dr(e)||Hi(e))o=Dn(e);else if(Mr(t)){if(o=t.slice(),Mr(e))for(let i=0,s=e.length;i<s;i++)o.push(Dn(e[i]));else if(Ze(e)){let i=Object.keys(e);for(let s=0,a=i.length;s<a;s++){let c=i[s];o[c]=Dn(e[c])}}}else if(Ze(t))if(Ze(e)){if(!Qc(t,e))return e;o=Object.assign({},t);let i=Object.keys(e);for(let s=0,a=i.length;s<a;s++){let c=i[s],u=e[c];if(Dr(u))typeof u=="undefined"?delete o[c]:o[c]=u;else{let p=o[c],m=u;if(ki(t,c,n)||ki(e,c,n))delete o[c];else{if(Ze(p)&&Ze(m)){let S=n.get(p)||[],y=n.get(m)||[];S.push({obj:t,key:c}),y.push({obj:e,key:c}),n.set(p,S),n.set(m,y)}o[c]=Ui(o[c],u,r,n)}}}}else o=e;return o}}function ki(t,e,r){let n=r.get(t[e])||[];for(let o=0,i=n.length;o<i;o++){let s=n[o];if(s.key===e&&s.obj===t)return!0}return!1}function Mr(t){return Array.isArray(t)}function Hi(t){return typeof t=="function"}function Ze(t){return!Dr(t)&&!Mr(t)&&!Hi(t)&&typeof t=="object"}function Dr(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="undefined"||t instanceof Date||t instanceof RegExp||t===null}function Qc(t,e){return!(!In(t)||!In(e))}function kr(t,e){return typeof e=="string"?t===e:!!t.match(e)}function kn(t,e){if(!e)return!1;for(let r of e)if(kr(t,r))return!0;return!1}var Ur=class{constructor(){l(this,"_promise");l(this,"_resolve");l(this,"_reject");this._promise=new Promise((e,r)=>{this._resolve=e,this._reject=r})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}};var ze=class{constructor(e,r){l(this,"_isCalled",!1);l(this,"_deferred",new Ur);l(this,"_callback");l(this,"_that");this._callback=e,this._that=r}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(r=>this._deferred.resolve(r),r=>this._deferred.reject(r))}catch(r){this._deferred.reject(r)}}return this._deferred.promise}};var Hr;function Gi(){if(Hr===void 0)try{let t=globalThis.process.argv0;Hr=t?`unknown_service:${t}`:"unknown_service"}catch(t){Hr="unknown_service"}return Hr}var ve=t=>t!==null&&typeof t=="object"&&typeof t.then=="function";var Gr=class t{constructor(e,r){l(this,"_rawAttributes");l(this,"_asyncAttributesPending",!1);l(this,"_schemaUrl");l(this,"_memoizedAttributes");var o;let n=(o=e.attributes)!=null?o:{};this._rawAttributes=Object.entries(n).map(([i,s])=>(ve(s)&&(this._asyncAttributesPending=!0),[i,s])),this._rawAttributes=Bi(this._rawAttributes),this._schemaUrl=tu(r==null?void 0:r.schemaUrl)}static FromAttributeList(e,r){let n=new t({},r);return n._rawAttributes=Bi(e),n._asyncAttributesPending=e.filter(([o,i])=>ve(i)).length>0,n}get asyncAttributesPending(){return this._asyncAttributesPending}async waitForAsyncAttributes(){if(this.asyncAttributesPending){for(let e=0;e<this._rawAttributes.length;e++){let[r,n]=this._rawAttributes[e];this._rawAttributes[e]=[r,ve(n)?await n:n]}this._asyncAttributesPending=!1}}get attributes(){var r;if(this.asyncAttributesPending&&v.error("Accessing resource attributes before async attributes settled"),this._memoizedAttributes)return this._memoizedAttributes;let e={};for(let[n,o]of this._rawAttributes){if(ve(o)){v.debug(`Unsettled resource attribute ${n} skipped`);continue}o!=null&&((r=e[n])!=null||(e[n]=o))}return this._asyncAttributesPending||(this._memoizedAttributes=e),e}getRawAttributes(){return this._rawAttributes}get schemaUrl(){return this._schemaUrl}merge(e){if(e==null)return this;let r=eu(this,e),n=r?{schemaUrl:r}:void 0;return t.FromAttributeList([...e.getRawAttributes(),...this.getRawAttributes()],n)}};function Ke(t,e){return Gr.FromAttributeList(Object.entries(t),e)}function Vi(t,e){return new Gr(t,e)}function _e(){return Ke({})}function Un(){return Ke({[Nr]:Gi(),[Be]:Re[Be],[Ve]:Re[Ve],[Fe]:Re[Fe]})}function Bi(t){return t.map(([e,r])=>ve(r)?[e,r.catch(n=>{v.debug("promise rejection for resource attribute: %s - %s",e,n)})]:[e,r])}function tu(t){if(typeof t=="string"||t===void 0)return t;v.warn("Schema URL must be string or undefined, got %s. Schema URL will be ignored.",t)}function eu(t,e){let r=t==null?void 0:t.schemaUrl,n=e==null?void 0:e.schemaUrl,o=r===void 0||r==="",i=n===void 0||n==="";if(o)return n;if(i||r===n)return r;v.warn('Schema URL merge conflict: old resource has "%s", updating resource has "%s". Resulting resource will have undefined Schema URL.',r,n)}var Hn=(t={})=>(t.detectors||[]).map(r=>{try{let n=Vi(r.detect(t));return v.debug(`${r.constructor.name} found resource.`,n),n}catch(n){return v.debug(`${r.constructor.name} failed: ${n.message}`),_e()}}).reduce((r,n)=>r.merge(n),_e());var Fi="exception";var Br=class{constructor(e){l(this,"_spanContext");l(this,"kind");l(this,"parentSpanContext");l(this,"attributes",{});l(this,"links",[]);l(this,"events",[]);l(this,"startTime");l(this,"resource");l(this,"instrumentationScope");l(this,"_droppedAttributesCount",0);l(this,"_droppedEventsCount",0);l(this,"_droppedLinksCount",0);l(this,"name");l(this,"status",{code:vt.UNSET});l(this,"endTime",[0,0]);l(this,"_ended",!1);l(this,"_duration",[-1,-1]);l(this,"_spanProcessor");l(this,"_spanLimits");l(this,"_attributeValueLengthLimit");l(this,"_performanceStartTime");l(this,"_performanceOffset");l(this,"_startTimeProvided");var n;let r=Date.now();this._spanContext=e.spanContext,this._performanceStartTime=st.now(),this._performanceOffset=r-(this._performanceStartTime+st.timeOrigin),this._startTimeProvided=e.startTime!=null,this._spanLimits=e.spanLimits,this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,this._spanProcessor=e.spanProcessor,this.name=e.name,this.parentSpanContext=e.parentSpanContext,this.kind=e.kind,this.links=e.links||[],this.startTime=this._getTime((n=e.startTime)!=null?n:r),this.resource=e.resource,this.instrumentationScope=e.scope,e.attributes!=null&&this.setAttributes(e.attributes),this._spanProcessor.onStart(this,e.context)}spanContext(){return this._spanContext}setAttribute(e,r){if(r==null||this._isSpanEnded())return this;if(e.length===0)return v.warn(`Invalid attribute key: ${e}`),this;if(!Or(r))return v.warn(`Invalid attribute value set for key: ${e}`),this;let{attributeCountLimit:n}=this._spanLimits;return n!==void 0&&Object.keys(this.attributes).length>=n&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this._droppedAttributesCount++,this):(this.attributes[e]=this._truncateToSize(r),this)}setAttributes(e){for(let[r,n]of Object.entries(e))this.setAttribute(r,n);return this}addEvent(e,r,n){if(this._isSpanEnded())return this;let{eventCountLimit:o}=this._spanLimits;if(o===0)return v.warn("No events allowed."),this._droppedEventsCount++,this;o!==void 0&&this.events.length>=o&&(this._droppedEventsCount===0&&v.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),Lr(r)&&(Lr(n)||(n=r),r=void 0);let i=ce(r);return this.events.push({name:e,attributes:i,time:this._getTime(n),droppedAttributesCount:0}),this}addLink(e){return this.links.push(e),this}addLinks(e){return this.links.push(...e),this}setStatus(e){return this._isSpanEnded()?this:(this.status={...e},this.status.message!=null&&typeof e.message!="string"&&(v.warn(`Dropping invalid status.message of type '${typeof e.message}', expected 'string'`),delete this.status.message),this)}updateName(e){return this._isSpanEnded()?this:(this.name=e,this)}end(e){if(this._isSpanEnded()){v.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);return}this.endTime=this._getTime(e),this._duration=Cn(this.startTime,this.endTime),this._duration[0]<0&&(v.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&v.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`),this._spanProcessor.onEnding&&this._spanProcessor.onEnding(this),this._ended=!0,this._spanProcessor.onEnd(this)}_getTime(e){if(typeof e=="number"&&e<=st.now())return Vt(e+this._performanceOffset);if(typeof e=="number")return Ct(e);if(e instanceof Date)return Ct(e.getTime());if(je(e))return e;if(this._startTimeProvided)return Ct(Date.now());let r=st.now()-this._performanceStartTime;return Cr(this.startTime,Ct(r))}isRecording(){return this._ended===!1}recordException(e,r){let n={};typeof e=="string"?n[br]=e:e&&(e.code?n[xr]=e.code.toString():e.name&&(n[xr]=e.name),e.message&&(n[br]=e.message),e.stack&&(n[Ti]=e.stack)),n[xr]||n[br]?this.addEvent(Fi,n,r):v.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){if(this._ended){let e=new Error(`Operation attempted on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`);v.warn(`Cannot execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`,e)}return this._ended}_truncateToLimitUtil(e,r){return e.length<=r?e:e.substring(0,r)}_truncateToSize(e){let r=this._attributeValueLengthLimit;return r<=0?(v.warn(`Attribute value limit must be positive, got ${r}`),e):typeof e=="string"?this._truncateToLimitUtil(e,r):Array.isArray(e)?e.map(n=>typeof n=="string"?this._truncateToLimitUtil(n,r):n):e}};var Ft;(function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Ft||(Ft={}));var Qt=class{shouldSample(){return{decision:Ft.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};var wt=class{shouldSample(){return{decision:Ft.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};var de=class{constructor(e){l(this,"_root");l(this,"_remoteParentSampled");l(this,"_remoteParentNotSampled");l(this,"_localParentSampled");l(this,"_localParentNotSampled");var r,n,o,i;this._root=e.root,this._root||(Ot(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new wt),this._remoteParentSampled=(r=e.remoteParentSampled)!=null?r:new wt,this._remoteParentNotSampled=(n=e.remoteParentNotSampled)!=null?n:new Qt,this._localParentSampled=(o=e.localParentSampled)!=null?o:new wt,this._localParentNotSampled=(i=e.localParentNotSampled)!=null?i:new Qt}shouldSample(e,r,n,o,i,s){let a=K.getSpanContext(e);return!a||!Bt(a)?this._root.shouldSample(e,r,n,o,i,s):a.isRemote?a.traceFlags&_t.SAMPLED?this._remoteParentSampled.shouldSample(e,r,n,o,i,s):this._remoteParentNotSampled.shouldSample(e,r,n,o,i,s):a.traceFlags&_t.SAMPLED?this._localParentSampled.shouldSample(e,r,n,o,i,s):this._localParentNotSampled.shouldSample(e,r,n,o,i,s)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};var $e=class{constructor(e=0){l(this,"_ratio");l(this,"_upperBound");this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,r){return{decision:Ar(r)&&this._accumulate(r)<this._upperBound?Ft.RECORD_AND_SAMPLED:Ft.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let r=0;for(let n=0;n<e.length/8;n++){let o=n*8,i=parseInt(e.slice(o,o+8),16);r=(r^i)>>>0}return r}};var It;(function(t){t.AlwaysOff="always_off",t.AlwaysOn="always_on",t.ParentBasedAlwaysOff="parentbased_always_off",t.ParentBasedAlwaysOn="parentbased_always_on",t.ParentBasedTraceIdRatio="parentbased_traceidratio",t.TraceIdRatio="traceidratio"})(It||(It={}));var Vr=1;function Fr(){var t,e,r,n,o,i,s,a;return{sampler:Gn(),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(t=void 0)!=null?t:1/0,attributeCountLimit:(e=void 0)!=null?e:128},spanLimits:{attributeValueLengthLimit:(r=void 0)!=null?r:1/0,attributeCountLimit:(n=void 0)!=null?n:128,linkCountLimit:(o=void 0)!=null?o:128,eventCountLimit:(i=void 0)!=null?i:128,attributePerEventCountLimit:(s=void 0)!=null?s:128,attributePerLinkCountLimit:(a=void 0)!=null?a:128}}}function Gn(){var e;let t=(e=void 0)!=null?e:It.ParentBasedAlwaysOn;switch(t){case It.AlwaysOn:return new wt;case It.AlwaysOff:return new Qt;case It.ParentBasedAlwaysOn:return new de({root:new wt});case It.ParentBasedAlwaysOff:return new de({root:new Qt});case It.TraceIdRatio:return new $e(ji());case It.ParentBasedTraceIdRatio:return new de({root:new $e(ji())});default:return v.error(`OTEL_TRACES_SAMPLER value "${t}" invalid, defaulting to "${It.ParentBasedAlwaysOn}".`),new de({root:new wt})}}function ji(){let t=void 0;return t==null?(v.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${Vr}.`),Vr):t<0||t>1?(v.error(`OTEL_TRACES_SAMPLER_ARG=${t} was given, but it is out of range ([0..1]), defaulting to ${Vr}.`),Vr):t}var ru=128,nu=1/0;function Zi(t){let e={sampler:Gn()},r=Fr(),n=Object.assign({},r,e,t);return n.generalLimits=Object.assign({},r.generalLimits,t.generalLimits||{}),n.spanLimits=Object.assign({},r.spanLimits,t.spanLimits||{}),n}function zi(t){var r,n,o,i,s,a,c,u,p,m,S,y;let e=Object.assign({},t.spanLimits);return e.attributeCountLimit=(a=(s=(i=(o=(r=t.spanLimits)==null?void 0:r.attributeCountLimit)!=null?o:(n=t.generalLimits)==null?void 0:n.attributeCountLimit)!=null?i:void 0)!=null?s:void 0)!=null?a:ru,e.attributeValueLengthLimit=(y=(S=(m=(p=(c=t.spanLimits)==null?void 0:c.attributeValueLengthLimit)!=null?p:(u=t.generalLimits)==null?void 0:u.attributeValueLengthLimit)!=null?m:void 0)!=null?S:void 0)!=null?y:nu,Object.assign({},t,{spanLimits:e})}var jr=class{constructor(e,r){l(this,"_maxExportBatchSize");l(this,"_maxQueueSize");l(this,"_scheduledDelayMillis");l(this,"_exportTimeoutMillis");l(this,"_exporter");l(this,"_isExporting",!1);l(this,"_finishedSpans",[]);l(this,"_timer");l(this,"_shutdownOnce");l(this,"_droppedSpansCount",0);var n,o,i,s;this._exporter=e,this._maxExportBatchSize=typeof(r==null?void 0:r.maxExportBatchSize)=="number"?r.maxExportBatchSize:(n=void 0)!=null?n:512,this._maxQueueSize=typeof(r==null?void 0:r.maxQueueSize)=="number"?r.maxQueueSize:(o=void 0)!=null?o:2048,this._scheduledDelayMillis=typeof(r==null?void 0:r.scheduledDelayMillis)=="number"?r.scheduledDelayMillis:(i=void 0)!=null?i:5e3,this._exportTimeoutMillis=typeof(r==null?void 0:r.exportTimeoutMillis)=="number"?r.exportTimeoutMillis:(s=void 0)!=null?s:3e4,this._shutdownOnce=new ze(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(v.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(e,r){}onEnd(e){this._shutdownOnce.isCalled||(e.spanContext().traceFlags&_t.SAMPLED)!==0&&this._addToBuffer(e)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(e){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&v.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(v.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()}_flushAll(){return new Promise((e,r)=>{let n=[],o=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let i=0,s=o;i<s;i++)n.push(this._flushOneBatch());Promise.all(n).then(()=>{e()}).catch(r)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((e,r)=>{let n=setTimeout(()=>{r(new Error("Timeout"))},this._exportTimeoutMillis);j.with(Nn(j.active()),()=>{let o;this._finishedSpans.length<=this._maxExportBatchSize?(o=this._finishedSpans,this._finishedSpans=[]):o=this._finishedSpans.splice(0,this._maxExportBatchSize);let i=()=>this._exporter.export(o,a=>{var c;clearTimeout(n),a.code===Tt.SUCCESS?e():r((c=a.error)!=null?c:new Error("BatchSpanProcessor: span export failed"))}),s=null;for(let a=0,c=o.length;a<c;a++){let u=o[a];u.resource.asyncAttributesPending&&u.resource.waitForAsyncAttributes&&(s!=null||(s=[]),s.push(u.resource.waitForAsyncAttributes()))}s===null?i():Promise.all(s).then(i,a=>{Ot(a),r(a)})})})}_maybeStartTimer(){if(this._isExporting)return;let e=()=>{this._isExporting=!0,this._flushOneBatch().finally(()=>{this._isExporting=!1,this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(r=>{this._isExporting=!1,Ot(r)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return e();this._timer===void 0&&(this._timer=setTimeout(()=>e(),this._scheduledDelayMillis),typeof this._timer!="number"&&this._timer.unref())}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};var Oe=class extends jr{constructor(r,n){super(r,n);l(this,"_visibilityChangeListener");l(this,"_pageHideListener");this.onInit(n)}onInit(r){(r==null?void 0:r.disableAutoFlushOnDocumentHide)!==!0&&typeof document!="undefined"&&(this._visibilityChangeListener=()=>{document.visibilityState==="hidden"&&this.forceFlush().catch(n=>{Ot(n)})},this._pageHideListener=()=>{this.forceFlush().catch(n=>{Ot(n)})},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))}onShutdown(){typeof document!="undefined"&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))}};var be=class{constructor(){l(this,"generateTraceId",Ki(16));l(this,"generateSpanId",Ki(8))}},Zr=Array(32);function Ki(t){return function(){for(let r=0;r<t*2;r++)Zr[r]=Math.floor(Math.random()*16)+48,Zr[r]>=58&&(Zr[r]+=39);return String.fromCharCode.apply(null,Zr.slice(0,t*2))}}var zr=class{constructor(e,r,n,o){l(this,"_sampler");l(this,"_generalLimits");l(this,"_spanLimits");l(this,"_idGenerator");l(this,"instrumentationScope");l(this,"_resource");l(this,"_spanProcessor");let i=Zi(r);this._sampler=i.sampler,this._generalLimits=i.generalLimits,this._spanLimits=i.spanLimits,this._idGenerator=r.idGenerator||new be,this._resource=n,this._spanProcessor=o,this.instrumentationScope=e}startSpan(e,r={},n=j.active()){var A,T,H;r.root&&(n=K.deleteSpan(n));let o=K.getSpan(n);if(se(n))return v.debug("Instrumentation suppressed, returning Noop Span"),K.wrapSpanContext(Ue);let i=o==null?void 0:o.spanContext(),s=this._idGenerator.generateSpanId(),a,c,u;!i||!K.isSpanContextValid(i)?c=this._idGenerator.generateTraceId():(c=i.traceId,u=i.traceState,a=i);let p=(A=r.kind)!=null?A:ie.INTERNAL,m=((T=r.links)!=null?T:[]).map(P=>({context:P.context,attributes:ce(P.attributes)})),S=ce(r.attributes),y=this._sampler.shouldSample(n,c,e,p,S,m);u=(H=y.traceState)!=null?H:u;let M=y.decision===Se.RECORD_AND_SAMPLED?_t.SAMPLED:_t.NONE,k={traceId:c,spanId:s,traceFlags:M,traceState:u};if(y.decision===Se.NOT_RECORD)return v.debug("Recording is off, propagating context in a non-recording span"),K.wrapSpanContext(k);let J=ce(Object.assign(S,y.attributes));return new Br({resource:this._resource,scope:this.instrumentationScope,context:n,spanContext:k,name:e,kind:p,links:m,parentSpanContext:a,attributes:J,startTime:r.startTime,spanProcessor:this._spanProcessor,spanLimits:this._spanLimits})}startActiveSpan(e,r,n,o){let i,s,a;if(arguments.length<2)return;arguments.length===2?a=r:arguments.length===3?(i=r,a=n):(i=r,s=n,a=o);let c=s!=null?s:j.active(),u=this.startSpan(e,i,c),p=K.setSpan(c,u);return j.with(p,a,void 0,u)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}};var Kr=class{constructor(e){l(this,"_spanProcessors");this._spanProcessors=e}forceFlush(){let e=[];for(let r of this._spanProcessors)e.push(r.forceFlush());return new Promise(r=>{Promise.all(e).then(()=>{r()}).catch(n=>{Ot(n||new Error("MultiSpanProcessor: forceFlush failed")),r()})})}onStart(e,r){for(let n of this._spanProcessors)n.onStart(e,r)}onEnding(e){for(let r of this._spanProcessors)r.onEnding&&r.onEnding(e)}onEnd(e){for(let r of this._spanProcessors)r.onEnd(e)}shutdown(){let e=[];for(let r of this._spanProcessors)e.push(r.shutdown());return new Promise((r,n)=>{Promise.all(e).then(()=>{r()},n)})}};var he;(function(t){t[t.resolved=0]="resolved",t[t.timeout=1]="timeout",t[t.error=2]="error",t[t.unresolved=3]="unresolved"})(he||(he={}));var We=class{constructor(e={}){l(this,"_config");l(this,"_tracers",new Map);l(this,"_resource");l(this,"_activeSpanProcessor");var o,i;let r=Mn({},Fr(),zi(e));this._resource=(o=r.resource)!=null?o:Un(),this._config=Object.assign({},r,{resource:this._resource});let n=[];(i=e.spanProcessors)!=null&&i.length&&n.push(...e.spanProcessors),this._activeSpanProcessor=new Kr(n)}getTracer(e,r,n){let o=`${e}@${r||""}:${(n==null?void 0:n.schemaUrl)||""}`;return this._tracers.has(o)||this._tracers.set(o,new zr({name:e,version:r,schemaUrl:n==null?void 0:n.schemaUrl},this._config,this._resource,this._activeSpanProcessor)),this._tracers.get(o)}forceFlush(){let e=this._config.forceFlushTimeoutMillis,r=this._activeSpanProcessor._spanProcessors.map(n=>new Promise(o=>{let i,s=setTimeout(()=>{o(new Error(`Span processor did not completed within timeout period of ${e} ms`)),i=he.timeout},e);n.forceFlush().then(()=>{clearTimeout(s),i!==he.timeout&&(i=he.resolved,o(i))}).catch(a=>{clearTimeout(s),i=he.error,o(a)})}));return new Promise((n,o)=>{Promise.all(r).then(i=>{let s=i.filter(a=>a!==he.resolved);s.length>0?o(s):n()}).catch(i=>o([i]))})}shutdown(){return this._activeSpanProcessor.shutdown()}};var $r=class{constructor(){l(this,"_enabled",!1);l(this,"_currentContext",ft)}_bindFunction(e=ft,r){let n=this,o=function(...i){return n.with(e,()=>r.apply(this,i))};return Object.defineProperty(o,"length",{enumerable:!1,configurable:!0,writable:!1,value:r.length}),o}active(){return this._currentContext}bind(e,r){return e===void 0&&(e=this.active()),typeof r=="function"?this._bindFunction(e,r):r}disable(){return this._currentContext=ft,this._enabled=!1,this}enable(){return this._enabled?this:(this._enabled=!0,this._currentContext=ft,this)}with(e,r,n,...o){let i=this._currentContext;this._currentContext=e||ft;try{return r.call(n,...o)}finally{this._currentContext=i}}};function ou(t){if(t!==null){if(t===void 0){let e=new $r;e.enable(),j.setGlobalContextManager(e);return}t.enable(),j.setGlobalContextManager(t)}}function iu(t){if(t!==null){if(t===void 0){ut.setGlobalPropagator(new le({propagators:[new pe,new ae]}));return}ut.setGlobalPropagator(t)}}var Ye=class extends We{constructor(e={}){super(e)}register(e={}){K.setGlobalTracerProvider(this),iu(e.propagator),ou(e.contextManager)}};var D;(function(t){t.CONNECT_END="connectEnd",t.CONNECT_START="connectStart",t.DECODED_BODY_SIZE="decodedBodySize",t.DOM_COMPLETE="domComplete",t.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",t.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",t.DOM_INTERACTIVE="domInteractive",t.DOMAIN_LOOKUP_END="domainLookupEnd",t.DOMAIN_LOOKUP_START="domainLookupStart",t.ENCODED_BODY_SIZE="encodedBodySize",t.FETCH_START="fetchStart",t.LOAD_EVENT_END="loadEventEnd",t.LOAD_EVENT_START="loadEventStart",t.NAVIGATION_START="navigationStart",t.REDIRECT_END="redirectEnd",t.REDIRECT_START="redirectStart",t.REQUEST_START="requestStart",t.RESPONSE_END="responseEnd",t.RESPONSE_START="responseStart",t.SECURE_CONNECTION_START="secureConnectionStart",t.START_TIME="startTime",t.UNLOAD_EVENT_END="unloadEventEnd",t.UNLOAD_EVENT_START="unloadEventStart"})(D||(D={}));var $i="http.response_content_length",Wi="http.response_content_length_uncompressed";var Bn;function su(){return Bn||(Bn=document.createElement("a")),Bn}function jt(t,e){return e in t}function ot(t,e,r,n=!0){if(jt(r,e)&&typeof r[e]=="number"&&!(n&&r[e]===0))return t.addEvent(e,r[e])}function me(t,e,r=!1,n,o){if(n===void 0&&(n=e[D.START_TIME]!==0),r||(ot(t,D.FETCH_START,e,n),ot(t,D.DOMAIN_LOOKUP_START,e,n),ot(t,D.DOMAIN_LOOKUP_END,e,n),ot(t,D.CONNECT_START,e,n),ot(t,D.SECURE_CONNECTION_START,e,n),ot(t,D.CONNECT_END,e,n),ot(t,D.REQUEST_START,e,n),ot(t,D.RESPONSE_START,e,n),ot(t,D.RESPONSE_END,e,n)),!o){let i=e[D.ENCODED_BODY_SIZE];i!==void 0&&t.setAttribute($i,i);let s=e[D.DECODED_BODY_SIZE];s!==void 0&&i!==s&&t.setAttribute(Wi,s)}}function Yi(t){return t.slice().sort((e,r)=>{let n=e[D.FETCH_START],o=r[D.FETCH_START];return n>o?1:n<o?-1:0})}function Xi(){return typeof location!="undefined"?location.origin:void 0}function Vn(t,e,r,n,o=new WeakSet,i){let s=Zt(t);t=s.toString();let a=cu(t,e,r,n,o,i);if(a.length===0)return{mainRequest:void 0};if(a.length===1)return{mainRequest:a[0]};let c=Yi(a);if(s.origin!==Xi()&&c.length>1){let u=c[0],p=au(c,u[D.RESPONSE_END],r),m=u[D.RESPONSE_END];return p[D.FETCH_START]<m&&(p=u,u=void 0),{corsPreFlightRequest:u,mainRequest:p}}else return{mainRequest:a[0]}}function au(t,e,r){let n=Et(r),o=Et(ue(e)),i=t[1],s,a=t.length;for(let c=1;c<a;c++){let u=t[c],p=Et(ue(u[D.FETCH_START])),m=Et(ue(u[D.RESPONSE_END])),S=n-m;p>=o&&(!s||S<s)&&(s=S,i=u)}return i}function cu(t,e,r,n,o,i){let s=Et(e),a=Et(r),c=n.filter(u=>{let p=Et(ue(u[D.FETCH_START])),m=Et(ue(u[D.RESPONSE_END]));return u.initiatorType.toLowerCase()===(i||"xmlhttprequest")&&u.name===t&&p>=s&&m<=a});return c.length>0&&(c=c.filter(u=>!o.has(u))),c}function Zt(t){if(typeof URL=="function")return new URL(t,typeof document!="undefined"?document.baseURI:typeof location!="undefined"?location.href:void 0);let e=su();return e.href=t,e}function Wr(t,e){if(t.nodeType===Node.DOCUMENT_NODE)return"/";let r=lu(t,e);if(e&&r.indexOf("@id")>0)return r;let n="";return t.parentNode&&(n+=Wr(t.parentNode,!1)),n+=r,n}function uu(t){if(!t.parentNode)return 0;let e=[t.nodeType];t.nodeType===Node.CDATA_SECTION_NODE&&e.push(Node.TEXT_NODE);let r=Array.from(t.parentNode.childNodes);return r=r.filter(n=>{let o=n.localName;return e.indexOf(n.nodeType)>=0&&o===t.localName}),r.length>=1?r.indexOf(t)+1:0}function lu(t,e){let r=t.nodeType,n=uu(t),o="";if(r===Node.ELEMENT_NODE){let i=t.getAttribute("id");if(e&&i)return`//*[@id="${i}"]`;o=t.localName}else if(r===Node.TEXT_NODE||r===Node.CDATA_SECTION_NODE)o="text()";else if(r===Node.COMMENT_NODE)o="comment()";else return"";return o&&n>1?`/${o}[${n}]`:`/${o}`}function Fn(t,e){let r=e||[];return(typeof r=="string"||r instanceof RegExp)&&(r=[r]),Zt(t).origin===Xi()?!0:r.some(o=>kr(t,o))}function qi(t){return typeof t=="object"&&t!==null&&"addEventListener"in t&&typeof t.addEventListener=="function"&&"removeEventListener"in t&&typeof t.removeEventListener=="function"}var Qi="OT_ZONE_CONTEXT",xe=class{constructor(){l(this,"_enabled",!1);l(this,"_zoneCounter",0)}_activeContextFromZone(e){return e&&e.get(Qi)||ft}_bindFunction(e,r){let n=this,o=function(...i){return n.with(e,()=>r.apply(this,i))};return Object.defineProperty(o,"length",{enumerable:!1,configurable:!0,writable:!1,value:r.length}),o}_bindListener(e,r){let n=r;return n.__ot_listeners!==void 0||(n.__ot_listeners={},typeof n.addEventListener=="function"&&(n.addEventListener=this._patchAddEventListener(n,n.addEventListener,e)),typeof n.removeEventListener=="function"&&(n.removeEventListener=this._patchRemoveEventListener(n,n.removeEventListener))),r}_createZoneName(){this._zoneCounter++;let e=Math.random();return`${this._zoneCounter}-${e}`}_createZone(e,r){return Zone.current.fork({name:e,properties:{[Qi]:r}})}_getActiveZone(){return Zone.current}_patchAddEventListener(e,r,n){let o=this;return function(i,s,a){e.__ot_listeners===void 0&&(e.__ot_listeners={});let c=e.__ot_listeners[i];c===void 0&&(c=new WeakMap,e.__ot_listeners[i]=c);let u=o.bind(n,s);return c.set(s,u),r.call(this,i,u,a)}}_patchRemoveEventListener(e,r){return function(n,o){if(e.__ot_listeners===void 0||e.__ot_listeners[n]===void 0)return r.call(this,n,o);let i=e.__ot_listeners[n],s=i.get(o);return i.delete(o),r.call(this,n,s||o)}}active(){if(!this._enabled)return ft;let e=this._getActiveZone(),r=this._activeContextFromZone(e);return r||ft}bind(e,r){return e===void 0&&(e=this.active()),typeof r=="function"?this._bindFunction(e,r):(qi(r)&&this._bindListener(e,r),r)}disable(){return this._enabled=!1,this}enable(){return this._enabled=!0,this}with(e,r,n,...o){let i=this._createZoneName();return this._createZone(i,e).run(r,n,o)}};var pu=Object.defineProperty,fu=Object.defineProperties,_u=Object.getOwnPropertyDescriptors,Ji=Object.getOwnPropertySymbols,du=Object.prototype.hasOwnProperty,hu=Object.prototype.propertyIsEnumerable,zn=(t,e,r)=>e in t?pu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ts=(t,e)=>{for(var r in e||(e={}))du.call(e,r)&&zn(t,r,e[r]);if(Ji)for(var r of Ji(e))hu.call(e,r)&&zn(t,r,e[r]);return t},mu=(t,e)=>fu(t,_u(e)),U=(t,e,r)=>(zn(t,typeof e!="symbol"?e+"":e,r),r),Dt=globalThis;function gt(t){return(Dt.__Zone_symbol_prefix||"__zone_symbol__")+t}function Tu(){let t=Dt.performance;function e(Y){t&&t.mark&&t.mark(Y)}function r(Y,d){t&&t.measure&&t.measure(Y,d)}e("Zone");let n=class Kn{constructor(d,_){U(this,"_parent"),U(this,"_name"),U(this,"_properties"),U(this,"_zoneDelegate"),this._parent=d,this._name=_?_.name||"unnamed":"<root>",this._properties=_&&_.properties||{},this._zoneDelegate=new s(this,this._parent&&this._parent._zoneDelegate,_)}static assertZonePatched(){if(Dt.Promise!==I.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let d=Kn.current;for(;d.parent;)d=d.parent;return d}static get current(){return x.zone}static get currentTask(){return lt}static __load_patch(d,_,f=!1){if(I.hasOwnProperty(d)){let L=Dt[gt("forceDuplicateZoneCheck")]===!0;if(!f&&L)throw Error("Already loaded patch: "+d)}else if(!Dt["__Zone_disable_"+d]){let L="Zone:"+d;e(L),I[d]=_(Dt,Kn,G),r(L,L)}}get parent(){return this._parent}get name(){return this._name}get(d){let _=this.getZoneWith(d);if(_)return _._properties[d]}getZoneWith(d){let _=this;for(;_;){if(_._properties.hasOwnProperty(d))return _;_=_._parent}return null}fork(d){if(!d)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,d)}wrap(d,_){if(typeof d!="function")throw new Error("Expecting function got: "+d);let f=this._zoneDelegate.intercept(this,d,_),L=this;return function(){return L.runGuarded(f,this,arguments,_)}}run(d,_,f,L){x={parent:x,zone:this};try{return this._zoneDelegate.invoke(this,d,_,f,L)}finally{x=x.parent}}runGuarded(d,_=null,f,L){x={parent:x,zone:this};try{try{return this._zoneDelegate.invoke(this,d,_,f,L)}catch(X){if(this._zoneDelegate.handleError(this,X))throw X}}finally{x=x.parent}}runTask(d,_,f){if(d.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(d.zone||z).name+"; Execution: "+this.name+")");let L=d,{type:X,data:{isPeriodic:Z=!1,isRefreshable:xt=!1}={}}=d;if(d.state===A&&(X===C||X===rt))return;let Ut=d.state!=P;Ut&&L._transitionTo(P,H);let Ht=lt;lt=L,x={parent:x,zone:this};try{X==rt&&d.data&&!Z&&!xt&&(d.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,L,_,f)}catch(At){if(this._zoneDelegate.handleError(this,At))throw At}}finally{let At=d.state;if(At!==A&&At!==$)if(X==C||Z||xt&&At===T)Ut&&L._transitionTo(H,P,T);else{let R=L._zoneDelegates;this._updateTaskCount(L,-1),Ut&&L._transitionTo(A,P,A),xt&&(L._zoneDelegates=R)}x=x.parent,lt=Ht}}scheduleTask(d){if(d.zone&&d.zone!==this){let f=this;for(;f;){if(f===d.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${d.zone.name}`);f=f.parent}}d._transitionTo(T,A);let _=[];d._zoneDelegates=_,d._zone=this;try{d=this._zoneDelegate.scheduleTask(this,d)}catch(f){throw d._transitionTo($,T,A),this._zoneDelegate.handleError(this,f),f}return d._zoneDelegates===_&&this._updateTaskCount(d,1),d.state==T&&d._transitionTo(H,T),d}scheduleMicroTask(d,_,f,L){return this.scheduleTask(new a(O,d,_,f,L,void 0))}scheduleMacroTask(d,_,f,L,X){return this.scheduleTask(new a(rt,d,_,f,L,X))}scheduleEventTask(d,_,f,L,X){return this.scheduleTask(new a(C,d,_,f,L,X))}cancelTask(d){if(d.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(d.zone||z).name+"; Execution: "+this.name+")");if(!(d.state!==H&&d.state!==P)){d._transitionTo(q,H,P);try{this._zoneDelegate.cancelTask(this,d)}catch(_){throw d._transitionTo($,q),this._zoneDelegate.handleError(this,_),_}return this._updateTaskCount(d,-1),d._transitionTo(A,q),d.runCount=-1,d}}_updateTaskCount(d,_){let f=d._zoneDelegates;_==-1&&(d._zoneDelegates=null);for(let L=0;L<f.length;L++)f[L]._updateTaskCount(d.type,_)}};U(n,"__symbol__",gt);let o=n,i={name:"",onHasTask:(Y,d,_,f)=>Y.hasTask(_,f),onScheduleTask:(Y,d,_,f)=>Y.scheduleTask(_,f),onInvokeTask:(Y,d,_,f,L,X)=>Y.invokeTask(_,f,L,X),onCancelTask:(Y,d,_,f)=>Y.cancelTask(_,f)};class s{constructor(d,_,f){U(this,"_zone"),U(this,"_taskCounts",{microTask:0,macroTask:0,eventTask:0}),U(this,"_parentDelegate"),U(this,"_forkDlgt"),U(this,"_forkZS"),U(this,"_forkCurrZone"),U(this,"_interceptDlgt"),U(this,"_interceptZS"),U(this,"_interceptCurrZone"),U(this,"_invokeDlgt"),U(this,"_invokeZS"),U(this,"_invokeCurrZone"),U(this,"_handleErrorDlgt"),U(this,"_handleErrorZS"),U(this,"_handleErrorCurrZone"),U(this,"_scheduleTaskDlgt"),U(this,"_scheduleTaskZS"),U(this,"_scheduleTaskCurrZone"),U(this,"_invokeTaskDlgt"),U(this,"_invokeTaskZS"),U(this,"_invokeTaskCurrZone"),U(this,"_cancelTaskDlgt"),U(this,"_cancelTaskZS"),U(this,"_cancelTaskCurrZone"),U(this,"_hasTaskDlgt"),U(this,"_hasTaskDlgtOwner"),U(this,"_hasTaskZS"),U(this,"_hasTaskCurrZone"),this._zone=d,this._parentDelegate=_,this._forkZS=f&&(f&&f.onFork?f:_._forkZS),this._forkDlgt=f&&(f.onFork?_:_._forkDlgt),this._forkCurrZone=f&&(f.onFork?this._zone:_._forkCurrZone),this._interceptZS=f&&(f.onIntercept?f:_._interceptZS),this._interceptDlgt=f&&(f.onIntercept?_:_._interceptDlgt),this._interceptCurrZone=f&&(f.onIntercept?this._zone:_._interceptCurrZone),this._invokeZS=f&&(f.onInvoke?f:_._invokeZS),this._invokeDlgt=f&&(f.onInvoke?_:_._invokeDlgt),this._invokeCurrZone=f&&(f.onInvoke?this._zone:_._invokeCurrZone),this._handleErrorZS=f&&(f.onHandleError?f:_._handleErrorZS),this._handleErrorDlgt=f&&(f.onHandleError?_:_._handleErrorDlgt),this._handleErrorCurrZone=f&&(f.onHandleError?this._zone:_._handleErrorCurrZone),this._scheduleTaskZS=f&&(f.onScheduleTask?f:_._scheduleTaskZS),this._scheduleTaskDlgt=f&&(f.onScheduleTask?_:_._scheduleTaskDlgt),this._scheduleTaskCurrZone=f&&(f.onScheduleTask?this._zone:_._scheduleTaskCurrZone),this._invokeTaskZS=f&&(f.onInvokeTask?f:_._invokeTaskZS),this._invokeTaskDlgt=f&&(f.onInvokeTask?_:_._invokeTaskDlgt),this._invokeTaskCurrZone=f&&(f.onInvokeTask?this._zone:_._invokeTaskCurrZone),this._cancelTaskZS=f&&(f.onCancelTask?f:_._cancelTaskZS),this._cancelTaskDlgt=f&&(f.onCancelTask?_:_._cancelTaskDlgt),this._cancelTaskCurrZone=f&&(f.onCancelTask?this._zone:_._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;let L=f&&f.onHasTask,X=_&&_._hasTaskZS;(L||X)&&(this._hasTaskZS=L?f:i,this._hasTaskDlgt=_,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,f.onScheduleTask||(this._scheduleTaskZS=i,this._scheduleTaskDlgt=_,this._scheduleTaskCurrZone=this._zone),f.onInvokeTask||(this._invokeTaskZS=i,this._invokeTaskDlgt=_,this._invokeTaskCurrZone=this._zone),f.onCancelTask||(this._cancelTaskZS=i,this._cancelTaskDlgt=_,this._cancelTaskCurrZone=this._zone))}get zone(){return this._zone}fork(d,_){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,d,_):new o(d,_)}intercept(d,_,f){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,d,_,f):_}invoke(d,_,f,L,X){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,d,_,f,L,X):_.apply(f,L)}handleError(d,_){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,d,_):!0}scheduleTask(d,_){let f=_;if(this._scheduleTaskZS)this._hasTaskZS&&f._zoneDelegates.push(this._hasTaskDlgtOwner),f=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,d,_),f||(f=_);else if(_.scheduleFn)_.scheduleFn(_);else if(_.type==O)k(_);else throw new Error("Task is missing scheduleFn.");return f}invokeTask(d,_,f,L){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,d,_,f,L):_.callback.apply(f,L)}cancelTask(d,_){let f;if(this._cancelTaskZS)f=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,d,_);else{if(!_.cancelFn)throw Error("Task is not cancelable");f=_.cancelFn(_)}return f}hasTask(d,_){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,d,_)}catch(f){this.handleError(d,f)}}_updateTaskCount(d,_){let f=this._taskCounts,L=f[d],X=f[d]=L+_;if(X<0)throw new Error("More tasks executed then were scheduled.");if(L==0||X==0){let Z={microTask:f.microTask>0,macroTask:f.macroTask>0,eventTask:f.eventTask>0,change:d};this.hasTask(this._zone,Z)}}}class a{constructor(d,_,f,L,X,Z){if(U(this,"type"),U(this,"source"),U(this,"invoke"),U(this,"callback"),U(this,"data"),U(this,"scheduleFn"),U(this,"cancelFn"),U(this,"_zone",null),U(this,"runCount",0),U(this,"_zoneDelegates",null),U(this,"_state","notScheduled"),this.type=d,this.source=_,this.data=L,this.scheduleFn=X,this.cancelFn=Z,!f)throw new Error("callback is not defined");this.callback=f;let xt=this;d===C&&L&&L.useG?this.invoke=a.invokeTask:this.invoke=function(){return a.invokeTask.call(Dt,xt,this,arguments)}}static invokeTask(d,_,f){d||(d=this),ht++;try{return d.runCount++,d.zone.runTask(d,_,f)}finally{ht==1&&J(),ht--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(A,T)}_transitionTo(d,_,f){if(this._state===_||this._state===f)this._state=d,d==A&&(this._zoneDelegates=null);else throw new Error(`${this.type} '${this.source}': can not transition to '${d}', expecting state '${_}'${f?" or '"+f+"'":""}, was '${this._state}'.`)}toString(){return this.data&&typeof this.data.handleId!="undefined"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}let c=gt("setTimeout"),u=gt("Promise"),p=gt("then"),m=[],S=!1,y;function M(Y){if(y||Dt[u]&&(y=Dt[u].resolve(0)),y){let d=y[p];d||(d=y.then),d.call(y,Y)}else Dt[c](Y,0)}function k(Y){ht===0&&m.length===0&&M(J),Y&&m.push(Y)}function J(){if(!S){for(S=!0;m.length;){let Y=m;m=[];for(let d=0;d<Y.length;d++){let _=Y[d];try{_.zone.runTask(_,null,null)}catch(f){G.onUnhandledError(f)}}}G.microtaskDrainDone(),S=!1}}let z={name:"NO ZONE"},A="notScheduled",T="scheduling",H="scheduled",P="running",q="canceling",$="unknown",O="microTask",rt="macroTask",C="eventTask",I={},G={symbol:gt,currentZoneFrame:()=>x,onUnhandledError:Q,microtaskDrainDone:Q,scheduleMicroTask:k,showUncaughtError:()=>!o[gt("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:Q,patchMethod:()=>Q,bindArguments:()=>[],patchThen:()=>Q,patchMacroTask:()=>Q,patchEventPrototype:()=>Q,getGlobalObjects:()=>{},ObjectDefineProperty:()=>Q,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>Q,wrapWithCurrentZone:()=>Q,filterProperties:()=>[],attachOriginToPatched:()=>Q,_redefineProperty:()=>Q,patchCallbacks:()=>Q,nativeScheduleMicroTask:M},x={parent:null,zone:new o(null,null)},lt=null,ht=0;function Q(){}return r("Zone","Zone"),o}function Eu(){var t;let e=globalThis,r=e[gt("forceDuplicateZoneCheck")]===!0;if(e.Zone&&(r||typeof e.Zone.__symbol__!="function"))throw new Error("Zone already loaded.");return(t=e.Zone)!=null||(e.Zone=Tu()),e.Zone}var qe=Object.getOwnPropertyDescriptor,Wn=Object.defineProperty,Yn=Object.getPrototypeOf,gu=Object.create,Su=Array.prototype.slice,Xn="addEventListener",qn="removeEventListener",jn=gt(Xn),Zn=gt(qn),zt="true",Kt="false",Qe=gt("");function Qn(t,e){return Zone.current.wrap(t,e)}function Jn(t,e,r,n,o){return Zone.current.scheduleMacroTask(t,e,r,n,o)}var W=gt,qr=typeof window!="undefined",Qr=qr?window:void 0,at=qr&&Qr||globalThis,Au="removeAttribute";function to(t,e){for(let r=t.length-1;r>=0;r--)typeof t[r]=="function"&&(t[r]=Qn(t[r],e+"_"+r));return t}function Ru(t,e){let r=t.constructor.name;for(let n=0;n<e.length;n++){let o=e[n],i=t[o];if(i){let s=qe(t,o);if(!ss(s))continue;t[o]=(a=>{let c=function(){return a.apply(this,to(arguments,r+"."+o))};return Wt(c,a),c})(i)}}}function ss(t){return t?t.writable===!1?!1:!(typeof t.get=="function"&&typeof t.set=="undefined"):!0}var as=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope,Jr=!("nw"in at)&&typeof at.process!="undefined"&&at.process.toString()==="[object process]",eo=!Jr&&!as&&!!(qr&&Qr.HTMLElement),cs=typeof at.process!="undefined"&&at.process.toString()==="[object process]"&&!as&&!!(qr&&Qr.HTMLElement),Xr={},yu=W("enable_beforeunload"),es=function(t){if(t=t||at.event,!t)return;let e=Xr[t.type];e||(e=Xr[t.type]=W("ON_PROPERTY"+t.type));let r=this||t.target||at,n=r[e],o;if(eo&&r===Qr&&t.type==="error"){let i=t;o=n&&n.call(this,i.message,i.filename,i.lineno,i.colno,i.error),o===!0&&t.preventDefault()}else o=n&&n.apply(this,arguments),t.type==="beforeunload"&&at[yu]&&typeof o=="string"?t.returnValue=o:o!=null&&!o&&t.preventDefault();return o};function rs(t,e,r){let n=qe(t,e);if(!n&&r&&qe(r,e)&&(n={enumerable:!0,configurable:!0}),!n||!n.configurable)return;let o=W("on"+e+"patched");if(t.hasOwnProperty(o)&&t[o])return;delete n.writable,delete n.value;let i=n.get,s=n.set,a=e.slice(2),c=Xr[a];c||(c=Xr[a]=W("ON_PROPERTY"+a)),n.set=function(u){let p=this;if(!p&&t===at&&(p=at),!p)return;typeof p[c]=="function"&&p.removeEventListener(a,es),s==null||s.call(p,null),p[c]=u,typeof u=="function"&&p.addEventListener(a,es,!1)},n.get=function(){let u=this;if(!u&&t===at&&(u=at),!u)return null;let p=u[c];if(p)return p;if(i){let m=i.call(this);if(m)return n.set.call(this,m),typeof u[Au]=="function"&&u.removeAttribute(e),m}return null},Wn(t,e,n),t[o]=!0}function us(t,e,r){if(e)for(let n=0;n<e.length;n++)rs(t,"on"+e[n],r);else{let n=[];for(let o in t)o.slice(0,2)=="on"&&n.push(o);for(let o=0;o<n.length;o++)rs(t,n[o],r)}}var bt=W("originalInstance");function Xe(t){let e=at[t];if(!e)return;at[W(t)]=e,at[t]=function(){let o=to(arguments,t);switch(o.length){case 0:this[bt]=new e;break;case 1:this[bt]=new e(o[0]);break;case 2:this[bt]=new e(o[0],o[1]);break;case 3:this[bt]=new e(o[0],o[1],o[2]);break;case 4:this[bt]=new e(o[0],o[1],o[2],o[3]);break;default:throw new Error("Arg list too long.")}},Wt(at[t],e);let r=new e(function(){}),n;for(n in r)t==="XMLHttpRequest"&&n==="responseBlob"||(function(o){typeof r[o]=="function"?at[t].prototype[o]=function(){return this[bt][o].apply(this[bt],arguments)}:Wn(at[t].prototype,o,{set:function(i){typeof i=="function"?(this[bt][o]=Qn(i,t+"."+o),Wt(this[bt][o],i)):this[bt][o]=i},get:function(){return this[bt][o]}})})(n);for(n in e)n!=="prototype"&&e.hasOwnProperty(n)&&(at[t][n]=e[n])}function vu(t,e){if(typeof Object.getOwnPropertySymbols!="function")return;Object.getOwnPropertySymbols(t).forEach(n=>{let o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,{get:function(){return t[n]},set:function(i){o&&(!o.writable||typeof o.set!="function")||(t[n]=i)},enumerable:o?o.enumerable:!0,configurable:o?o.configurable:!0})})}var Ou=!1;function $t(t,e,r){let n=t;for(;n&&!n.hasOwnProperty(e);)n=Yn(n);!n&&t[e]&&(n=t);let o=W(e),i=null;if(n&&(!(i=n[o])||!n.hasOwnProperty(o))){i=n[o]=n[e];let s=n&&qe(n,e);if(ss(s)){let a=r(i,o,e);n[e]=function(){return a(this,arguments)},Wt(n[e],i),Ou&&vu(i,n[e])}}return i}function bu(t,e,r){let n=null;function o(i){let s=i.data;return s.args[s.cbIdx]=function(){i.invoke.apply(this,arguments)},n.apply(s.target,s.args),i}n=$t(t,e,i=>function(s,a){let c=r(s,a);return c.cbIdx>=0&&typeof a[c.cbIdx]=="function"?Jn(c.name,a[c.cbIdx],c,o):i.apply(s,a)})}function Wt(t,e){t[W("OriginalDelegate")]=e}function ns(t){return typeof t=="function"}function os(t){return typeof t=="number"}var xu={useG:!0},St={},ls={},ps=new RegExp("^"+Qe+"(\\w+)(true|false)$"),fs=W("propagationStopped");function _s(t,e){let r=(e?e(t):t)+Kt,n=(e?e(t):t)+zt,o=Qe+r,i=Qe+n;St[t]={},St[t][Kt]=o,St[t][zt]=i}function Nu(t,e,r,n){let o=n&&n.add||Xn,i=n&&n.rm||qn,s=n&&n.listeners||"eventListeners",a=n&&n.rmAll||"removeAllListeners",c=W(o),u="."+o+":",p="prependListener",m="."+p+":",S=function(A,T,H){if(A.isRemoved)return;let P=A.callback;typeof P=="object"&&P.handleEvent&&(A.callback=O=>P.handleEvent(O),A.originalDelegate=P);let q;try{A.invoke(A,T,[H])}catch(O){q=O}let $=A.options;if($&&typeof $=="object"&&$.once){let O=A.originalDelegate?A.originalDelegate:A.callback;T[i].call(T,H.type,O,$)}return q};function y(A,T,H){if(T=T||t.event,!T)return;let P=A||T.target||t,q=P[St[T.type][H?zt:Kt]];if(q){let $=[];if(q.length===1){let O=S(q[0],P,T);O&&$.push(O)}else{let O=q.slice();for(let rt=0;rt<O.length&&!(T&&T[fs]===!0);rt++){let C=S(O[rt],P,T);C&&$.push(C)}}if($.length===1)throw $[0];for(let O=0;O<$.length;O++){let rt=$[O];e.nativeScheduleMicroTask(()=>{throw rt})}}}let M=function(A){return y(this,A,!1)},k=function(A){return y(this,A,!0)};function J(A,T){if(!A)return!1;let H=!0;T&&T.useG!==void 0&&(H=T.useG);let P=T&&T.vh,q=!0;T&&T.chkDup!==void 0&&(q=T.chkDup);let $=!1;T&&T.rt!==void 0&&($=T.rt);let O=A;for(;O&&!O.hasOwnProperty(o);)O=Yn(O);if(!O&&A[o]&&(O=A),!O||O[c])return!1;let rt=T&&T.eventNameToString,C={},I=O[c]=O[o],G=O[W(i)]=O[i],x=O[W(s)]=O[s],lt=O[W(a)]=O[a],ht;T&&T.prepend&&(ht=O[W(T.prepend)]=O[T.prepend]);function Q(h,g){return g?typeof h=="boolean"?{capture:h,passive:!0}:h?typeof h=="object"&&h.passive!==!1?mu(ts({},h),{passive:!0}):h:{passive:!0}:h}let Y=function(h){if(!C.isExisting)return I.call(C.target,C.eventName,C.capture?k:M,C.options)},d=function(h){if(!h.isRemoved){let g=St[h.eventName],N;g&&(N=g[h.capture?zt:Kt]);let w=N&&h.target[N];if(w){for(let b=0;b<w.length;b++)if(w[b]===h){w.splice(b,1),h.isRemoved=!0,h.removeAbortListener&&(h.removeAbortListener(),h.removeAbortListener=null),w.length===0&&(h.allRemoved=!0,h.target[N]=null);break}}}if(h.allRemoved)return G.call(h.target,h.eventName,h.capture?k:M,h.options)},_=function(h){return I.call(C.target,C.eventName,h.invoke,C.options)},f=function(h){return ht.call(C.target,C.eventName,h.invoke,C.options)},L=function(h){return G.call(h.target,h.eventName,h.invoke,h.options)},X=H?Y:_,Z=H?d:L,xt=function(h,g){let N=typeof g;return N==="function"&&h.callback===g||N==="object"&&h.originalDelegate===g},Ut=(T==null?void 0:T.diff)||xt,Ht=Zone[W("UNPATCHED_EVENTS")],At=t[W("PASSIVE_EVENTS")];function R(h){if(typeof h=="object"&&h!==null){let g=ts({},h);return h.signal&&(g.signal=h.signal),g}return h}let E=function(h,g,N,w,b=!1,B=!1){return function(){let V=this||t,F=arguments[0];T&&T.transferEventName&&(F=T.transferEventName(F));let tt=arguments[1];if(!tt)return h.apply(this,arguments);if(Jr&&F==="uncaughtException")return h.apply(this,arguments);let et=!1;if(typeof tt!="function"){if(!tt.handleEvent)return h.apply(this,arguments);et=!0}if(P&&!P(h,tt,V,arguments))return;let Yt=!!At&&At.indexOf(F)!==-1,Rt=R(Q(arguments[2],Yt)),re=Rt==null?void 0:Rt.signal;if(re!=null&&re.aborted)return;if(Ht){for(let Nt=0;Nt<Ht.length;Nt++)if(F===Ht[Nt])return Yt?h.call(V,F,tt,Rt):h.apply(this,arguments)}let hn=Rt?typeof Rt=="boolean"?!0:Rt.capture:!1,wo=Rt&&typeof Rt=="object"?Rt.once:!1,Ca=Zone.current,mn=St[F];mn||(_s(F,rt),mn=St[F]);let Io=mn[hn?zt:Kt],ge=V[Io],Do=!1;if(ge){if(Do=!0,q){for(let Nt=0;Nt<ge.length;Nt++)if(Ut(ge[Nt],tt))return}}else ge=V[Io]=[];let hr,Mo=V.constructor.name,ko=ls[Mo];ko&&(hr=ko[F]),hr||(hr=Mo+g+(rt?rt(F):F)),C.options=Rt,wo&&(C.options.once=!1),C.target=V,C.capture=hn,C.eventName=F,C.isExisting=Do;let Ie=H?xu:void 0;Ie&&(Ie.taskData=C),re&&(C.options.signal=void 0);let yt=Ca.scheduleEventTask(hr,tt,Ie,N,w);if(re){C.options.signal=re;let Nt=()=>yt.zone.cancelTask(yt);h.call(re,"abort",Nt,{once:!0}),yt.removeAbortListener=()=>re.removeEventListener("abort",Nt)}if(C.target=null,Ie&&(Ie.taskData=null),wo&&(C.options.once=!0),typeof yt.options!="boolean"&&(yt.options=Rt),yt.target=V,yt.capture=hn,yt.eventName=F,et&&(yt.originalDelegate=tt),B?ge.unshift(yt):ge.push(yt),b)return V}};return O[o]=E(I,u,X,Z,$),ht&&(O[p]=E(ht,m,f,Z,$,!0)),O[i]=function(){let h=this||t,g=arguments[0];T&&T.transferEventName&&(g=T.transferEventName(g));let N=arguments[2],w=N?typeof N=="boolean"?!0:N.capture:!1,b=arguments[1];if(!b)return G.apply(this,arguments);if(P&&!P(G,b,h,arguments))return;let B=St[g],V;B&&(V=B[w?zt:Kt]);let F=V&&h[V];if(F)for(let tt=0;tt<F.length;tt++){let et=F[tt];if(Ut(et,b)){if(F.splice(tt,1),et.isRemoved=!0,F.length===0&&(et.allRemoved=!0,h[V]=null,!w&&typeof g=="string")){let Yt=Qe+"ON_PROPERTY"+g;h[Yt]=null}return et.zone.cancelTask(et),$?h:void 0}}return G.apply(this,arguments)},O[s]=function(){let h=this||t,g=arguments[0];T&&T.transferEventName&&(g=T.transferEventName(g));let N=[],w=ds(h,rt?rt(g):g);for(let b=0;b<w.length;b++){let B=w[b],V=B.originalDelegate?B.originalDelegate:B.callback;N.push(V)}return N},O[a]=function(){let h=this||t,g=arguments[0];if(g){T&&T.transferEventName&&(g=T.transferEventName(g));let N=St[g];if(N){let w=N[Kt],b=N[zt],B=h[w],V=h[b];if(B){let F=B.slice();for(let tt=0;tt<F.length;tt++){let et=F[tt],Yt=et.originalDelegate?et.originalDelegate:et.callback;this[i].call(this,g,Yt,et.options)}}if(V){let F=V.slice();for(let tt=0;tt<F.length;tt++){let et=F[tt],Yt=et.originalDelegate?et.originalDelegate:et.callback;this[i].call(this,g,Yt,et.options)}}}}else{let N=Object.keys(h);for(let w=0;w<N.length;w++){let b=N[w],B=ps.exec(b),V=B&&B[1];V&&V!=="removeListener"&&this[a].call(this,V)}this[a].call(this,"removeListener")}if($)return this},Wt(O[o],I),Wt(O[i],G),lt&&Wt(O[a],lt),x&&Wt(O[s],x),!0}let z=[];for(let A=0;A<r.length;A++)z[A]=J(r[A],n);return z}function ds(t,e){if(!e){let i=[];for(let s in t){let a=ps.exec(s),c=a&&a[1];if(c&&(!e||c===e)){let u=t[s];if(u)for(let p=0;p<u.length;p++)i.push(u[p])}}return i}let r=St[e];r||(_s(e),r=St[e]);let n=t[r[Kt]],o=t[r[zt]];return n?o?n.concat(o):n.slice():o?o.slice():[]}function Pu(t,e){let r=t.Event;r&&r.prototype&&e.patchMethod(r.prototype,"stopImmediatePropagation",n=>function(o,i){o[fs]=!0,n&&n.apply(o,i)})}function Lu(t,e){e.patchMethod(t,"queueMicrotask",r=>function(n,o){Zone.current.scheduleMicroTask("queueMicrotask",o[0])})}var Yr=W("zoneTask");function Ne(t,e,r,n){let o=null,i=null;e+=n,r+=n;let s={};function a(u){let p=u.data;p.args[0]=function(){return u.invoke.apply(this,arguments)};let m=o.apply(t,p.args);return os(m)?p.handleId=m:(p.handle=m,p.isRefreshable=ns(m.refresh)),u}function c(u){let{handle:p,handleId:m}=u.data;return i.call(t,p!=null?p:m)}o=$t(t,e,u=>function(p,m){var S;if(ns(m[0])){let y={isRefreshable:!1,isPeriodic:n==="Interval",delay:n==="Timeout"||n==="Interval"?m[1]||0:void 0,args:m},M=m[0];m[0]=function(){try{return M.apply(this,arguments)}finally{let{handle:P,handleId:q,isPeriodic:$,isRefreshable:O}=y;!$&&!O&&(q?delete s[q]:P&&(P[Yr]=null))}};let k=Jn(e,m[0],y,a,c);if(!k)return k;let{handleId:J,handle:z,isRefreshable:A,isPeriodic:T}=k.data;if(J)s[J]=k;else if(z&&(z[Yr]=k,A&&!T)){let H=z.refresh;z.refresh=function(){let{zone:P,state:q}=k;return q==="notScheduled"?(k._state="scheduled",P._updateTaskCount(k,1)):q==="running"&&(k._state="scheduling"),H.call(this)}}return(S=z!=null?z:J)!=null?S:k}else return u.apply(t,m)}),i=$t(t,r,u=>function(p,m){let S=m[0],y;os(S)?(y=s[S],delete s[S]):(y=S==null?void 0:S[Yr],y?S[Yr]=null:y=S),y!=null&&y.type?y.cancelFn&&y.zone.cancelTask(y):u.apply(t,m)})}function Cu(t,e){let{isBrowser:r,isMix:n}=e.getGlobalObjects();if(!r&&!n||!t.customElements||!("customElements"in t))return;let o=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"];e.patchCallbacks(e,t.customElements,"customElements","define",o)}function wu(t,e){if(Zone[e.symbol("patchEventTarget")])return;let{eventNames:r,zoneSymbolEventNames:n,TRUE_STR:o,FALSE_STR:i,ZONE_SYMBOL_PREFIX:s}=e.getGlobalObjects();for(let c=0;c<r.length;c++){let u=r[c],p=u+i,m=u+o,S=s+p,y=s+m;n[u]={},n[u][i]=S,n[u][o]=y}let a=t.EventTarget;if(!(!a||!a.prototype))return e.patchEventTarget(t,e,[a&&a.prototype]),!0}function Iu(t,e){e.patchEventPrototype(t,e)}function hs(t,e,r){if(!r||r.length===0)return e;let n=r.filter(i=>i.target===t);if(n.length===0)return e;let o=n[0].ignoreProperties;return e.filter(i=>o.indexOf(i)===-1)}function is(t,e,r,n){if(!t)return;let o=hs(t,e,r);us(t,o,n)}function $n(t){return Object.getOwnPropertyNames(t).filter(e=>e.startsWith("on")&&e.length>2).map(e=>e.substring(2))}function Du(t,e){if(Jr&&!cs||Zone[t.symbol("patchEvents")])return;let r=e.__Zone_ignore_on_properties,n=[];if(eo){let o=window;n=n.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]),is(o,$n(o),r,Yn(o))}n=n.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let o=0;o<n.length;o++){let i=e[n[o]];i!=null&&i.prototype&&is(i.prototype,$n(i.prototype),r)}}function Mu(t){t.__load_patch("timers",e=>{let n="clear";Ne(e,"set",n,"Timeout"),Ne(e,"set",n,"Interval"),Ne(e,"set",n,"Immediate")}),t.__load_patch("requestAnimationFrame",e=>{Ne(e,"request","cancel","AnimationFrame"),Ne(e,"mozRequest","mozCancel","AnimationFrame"),Ne(e,"webkitRequest","webkitCancel","AnimationFrame")}),t.__load_patch("blocking",(e,r)=>{let n=["alert","prompt","confirm"];for(let o=0;o<n.length;o++){let i=n[o];$t(e,i,(s,a,c)=>function(u,p){return r.current.run(s,e,p,c)})}}),t.__load_patch("EventTarget",(e,r,n)=>{Iu(e,n),wu(e,n);let o=e.XMLHttpRequestEventTarget;o&&o.prototype&&n.patchEventTarget(e,n,[o.prototype])}),t.__load_patch("MutationObserver",(e,r,n)=>{Xe("MutationObserver"),Xe("WebKitMutationObserver")}),t.__load_patch("IntersectionObserver",(e,r,n)=>{Xe("IntersectionObserver")}),t.__load_patch("FileReader",(e,r,n)=>{Xe("FileReader")}),t.__load_patch("on_property",(e,r,n)=>{Du(n,e)}),t.__load_patch("customElements",(e,r,n)=>{Cu(e,n)}),t.__load_patch("XHR",(e,r)=>{u(e);let n=W("xhrTask"),o=W("xhrSync"),i=W("xhrListener"),s=W("xhrScheduled"),a=W("xhrURL"),c=W("xhrErrorBeforeScheduled");function u(p){let m=p.XMLHttpRequest;if(!m)return;let S=m.prototype;function y(I){return I[n]}let M=S[jn],k=S[Zn];if(!M){let I=p.XMLHttpRequestEventTarget;if(I){let G=I.prototype;M=G[jn],k=G[Zn]}}let J="readystatechange",z="scheduled";function A(I){let G=I.data,x=G.target;x[s]=!1,x[c]=!1;let lt=x[i];M||(M=x[jn],k=x[Zn]),lt&&k.call(x,J,lt);let ht=x[i]=()=>{if(x.readyState===x.DONE)if(!G.aborted&&x[s]&&I.state===z){let Y=x[r.__symbol__("loadfalse")];if(x.status!==0&&Y&&Y.length>0){let d=I.invoke;I.invoke=function(){let _=x[r.__symbol__("loadfalse")];for(let f=0;f<_.length;f++)_[f]===I&&_.splice(f,1);!G.aborted&&I.state===z&&d.call(I)},Y.push(I)}else I.invoke()}else!G.aborted&&x[s]===!1&&(x[c]=!0)};return M.call(x,J,ht),x[n]||(x[n]=I),rt.apply(x,G.args),x[s]=!0,I}function T(){}function H(I){let G=I.data;return G.aborted=!0,C.apply(G.target,G.args)}let P=$t(S,"open",()=>function(I,G){return I[o]=G[2]==!1,I[a]=G[1],P.apply(I,G)}),q="XMLHttpRequest.send",$=W("fetchTaskAborting"),O=W("fetchTaskScheduling"),rt=$t(S,"send",()=>function(I,G){if(r.current[O]===!0||I[o])return rt.apply(I,G);{let x={target:I,url:I[a],isPeriodic:!1,args:G,aborted:!1},lt=Jn(q,T,x,A,H);I&&I[c]===!0&&!x.aborted&&lt.state===z&&lt.invoke()}}),C=$t(S,"abort",()=>function(I,G){let x=y(I);if(x&&typeof x.type=="string"){if(x.cancelFn==null||x.data&&x.data.aborted)return;x.zone.cancelTask(x)}else if(r.current[$]===!0)return C.apply(I,G)})}}),t.__load_patch("geolocation",e=>{e.navigator&&e.navigator.geolocation&&Ru(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}),t.__load_patch("PromiseRejectionEvent",(e,r)=>{function n(o){return function(i){ds(e,o).forEach(a=>{let c=e.PromiseRejectionEvent;if(c){let u=new c(o,{promise:i.promise,reason:i.rejection});a.invoke(u)}})}}e.PromiseRejectionEvent&&(r[W("unhandledPromiseRejectionHandler")]=n("unhandledrejection"),r[W("rejectionHandledHandler")]=n("rejectionhandled"))}),t.__load_patch("queueMicrotask",(e,r,n)=>{Lu(e,n)})}function ku(t){t.__load_patch("ZoneAwarePromise",(e,r,n)=>{let o=Object.getOwnPropertyDescriptor,i=Object.defineProperty;function s(R){if(R&&R.toString===Object.prototype.toString){let E=R.constructor&&R.constructor.name;return(E||"")+": "+JSON.stringify(R)}return R?R.toString():Object.prototype.toString.call(R)}let a=n.symbol,c=[],u=e[a("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")]!==!1,p=a("Promise"),m=a("then"),S="__creationTrace__";n.onUnhandledError=R=>{if(n.showUncaughtError()){let E=R&&R.rejection;E?console.error("Unhandled Promise rejection:",E instanceof Error?E.message:E,"; Zone:",R.zone.name,"; Task:",R.task&&R.task.source,"; Value:",E,E instanceof Error?E.stack:void 0):console.error(R)}},n.microtaskDrainDone=()=>{for(;c.length;){let R=c.shift();try{R.zone.runGuarded(()=>{throw R.throwOriginal?R.rejection:R})}catch(E){M(E)}}};let y=a("unhandledPromiseRejectionHandler");function M(R){n.onUnhandledError(R);try{let E=r[y];typeof E=="function"&&E.call(this,R)}catch(E){}}function k(R){return R&&typeof R.then=="function"}function J(R){return R}function z(R){return Z.reject(R)}let A=a("state"),T=a("value"),H=a("finally"),P=a("parentPromiseValue"),q=a("parentPromiseState"),$="Promise.then",O=null,rt=!0,C=!1,I=0;function G(R,E){return h=>{try{Q(R,E,h)}catch(g){Q(R,!1,g)}}}let x=function(){let R=!1;return function(h){return function(){R||(R=!0,h.apply(null,arguments))}}},lt="Promise resolved with itself",ht=a("currentTaskTrace");function Q(R,E,h){let g=x();if(R===h)throw new TypeError(lt);if(R[A]===O){let N=null;try{(typeof h=="object"||typeof h=="function")&&(N=h&&h.then)}catch(w){return g(()=>{Q(R,!1,w)})(),R}if(E!==C&&h instanceof Z&&h.hasOwnProperty(A)&&h.hasOwnProperty(T)&&h[A]!==O)d(h),Q(R,h[A],h[T]);else if(E!==C&&typeof N=="function")try{N.call(h,g(G(R,E)),g(G(R,!1)))}catch(w){g(()=>{Q(R,!1,w)})()}else{R[A]=E;let w=R[T];if(R[T]=h,R[H]===H&&E===rt&&(R[A]=R[q],R[T]=R[P]),E===C&&h instanceof Error){let b=r.currentTask&&r.currentTask.data&&r.currentTask.data[S];b&&i(h,ht,{configurable:!0,enumerable:!1,writable:!0,value:b})}for(let b=0;b<w.length;)_(R,w[b++],w[b++],w[b++],w[b++]);if(w.length==0&&E==C){R[A]=I;let b=h;try{throw new Error("Uncaught (in promise): "+s(h)+(h&&h.stack?`
`+h.stack:""))}catch(B){b=B}u&&(b.throwOriginal=!0),b.rejection=h,b.promise=R,b.zone=r.current,b.task=r.currentTask,c.push(b),n.scheduleMicroTask()}}}return R}let Y=a("rejectionHandledHandler");function d(R){if(R[A]===I){try{let E=r[Y];E&&typeof E=="function"&&E.call(this,{rejection:R[T],promise:R})}catch(E){}R[A]=C;for(let E=0;E<c.length;E++)R===c[E].promise&&c.splice(E,1)}}function _(R,E,h,g,N){d(R);let w=R[A],b=w?typeof g=="function"?g:J:typeof N=="function"?N:z;E.scheduleMicroTask($,()=>{try{let B=R[T],V=!!h&&H===h[H];V&&(h[P]=B,h[q]=w);let F=E.run(b,void 0,V&&b!==z&&b!==J?[]:[B]);Q(h,!0,F)}catch(B){Q(h,!1,B)}},h)}let f="function ZoneAwarePromise() { [native code] }",L=function(){},X=e.AggregateError;class Z{static toString(){return f}static resolve(E){return E instanceof Z?E:Q(new this(null),rt,E)}static reject(E){return Q(new this(null),C,E)}static withResolvers(){let E={};return E.promise=new Z((h,g)=>{E.resolve=h,E.reject=g}),E}static any(E){if(!E||typeof E[Symbol.iterator]!="function")return Promise.reject(new X([],"All promises were rejected"));let h=[],g=0;try{for(let b of E)g++,h.push(Z.resolve(b))}catch(b){return Promise.reject(new X([],"All promises were rejected"))}if(g===0)return Promise.reject(new X([],"All promises were rejected"));let N=!1,w=[];return new Z((b,B)=>{for(let V=0;V<h.length;V++)h[V].then(F=>{N||(N=!0,b(F))},F=>{w.push(F),g--,g===0&&(N=!0,B(new X(w,"All promises were rejected")))})})}static race(E){let h,g,N=new this((B,V)=>{h=B,g=V});function w(B){h(B)}function b(B){g(B)}for(let B of E)k(B)||(B=this.resolve(B)),B.then(w,b);return N}static all(E){return Z.allWithCallback(E)}static allSettled(E){return(this&&this.prototype instanceof Z?this:Z).allWithCallback(E,{thenCallback:g=>({status:"fulfilled",value:g}),errorCallback:g=>({status:"rejected",reason:g})})}static allWithCallback(E,h){let g,N,w=new this((F,tt)=>{g=F,N=tt}),b=2,B=0,V=[];for(let F of E){k(F)||(F=this.resolve(F));let tt=B;try{F.then(et=>{V[tt]=h?h.thenCallback(et):et,b--,b===0&&g(V)},et=>{h?(V[tt]=h.errorCallback(et),b--,b===0&&g(V)):N(et)})}catch(et){N(et)}b++,B++}return b-=2,b===0&&g(V),w}constructor(E){let h=this;if(!(h instanceof Z))throw new Error("Must be an instanceof Promise.");h[A]=O,h[T]=[];try{let g=x();E&&E(g(G(h,rt)),g(G(h,C)))}catch(g){Q(h,!1,g)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return Z}then(E,h){var g;let N=(g=this.constructor)==null?void 0:g[Symbol.species];(!N||typeof N!="function")&&(N=this.constructor||Z);let w=new N(L),b=r.current;return this[A]==O?this[T].push(b,w,E,h):_(this,b,w,E,h),w}catch(E){return this.then(null,E)}finally(E){var h;let g=(h=this.constructor)==null?void 0:h[Symbol.species];(!g||typeof g!="function")&&(g=Z);let N=new g(L);N[H]=H;let w=r.current;return this[A]==O?this[T].push(w,N,E,E):_(this,w,N,E,E),N}}Z.resolve=Z.resolve,Z.reject=Z.reject,Z.race=Z.race,Z.all=Z.all;let xt=e[p]=e.Promise;e.Promise=Z;let Ut=a("thenPatched");function Ht(R){let E=R.prototype,h=o(E,"then");if(h&&(h.writable===!1||!h.configurable))return;let g=E.then;E[m]=g,R.prototype.then=function(N,w){return new Z((B,V)=>{g.call(this,B,V)}).then(N,w)},R[Ut]=!0}n.patchThen=Ht;function At(R){return function(E,h){let g=R.apply(E,h);if(g instanceof Z)return g;let N=g.constructor;return N[Ut]||Ht(N),g}}return xt&&(Ht(xt),$t(e,"fetch",R=>At(R))),Promise[r.__symbol__("uncaughtPromiseErrors")]=c,Z})}function Uu(t){t.__load_patch("toString",e=>{let r=Function.prototype.toString,n=W("OriginalDelegate"),o=W("Promise"),i=W("Error"),s=function(){if(typeof this=="function"){let p=this[n];if(p)return typeof p=="function"?r.call(p):Object.prototype.toString.call(p);if(this===Promise){let m=e[o];if(m)return r.call(m)}if(this===Error){let m=e[i];if(m)return r.call(m)}}return r.call(this)};s[n]=r,Function.prototype.toString=s;let a=Object.prototype.toString,c="[object Promise]";Object.prototype.toString=function(){return typeof Promise=="function"&&this instanceof Promise?c:a.call(this)}})}function Hu(t,e,r,n,o){let i=Zone.__symbol__(n);if(e[i])return;let s=e[i]=e[n];e[n]=function(a,c,u){return c&&c.prototype&&o.forEach(function(p){let m=`${r}.${n}::`+p,S=c.prototype;try{if(S.hasOwnProperty(p)){let y=t.ObjectGetOwnPropertyDescriptor(S,p);y&&y.value?(y.value=t.wrapWithCurrentZone(y.value,m),t._redefineProperty(c.prototype,p,y)):S[p]&&(S[p]=t.wrapWithCurrentZone(S[p],m))}else S[p]&&(S[p]=t.wrapWithCurrentZone(S[p],m))}catch(y){}}),s.call(e,a,c,u)},t.attachOriginToPatched(e[n],s)}function Gu(t){t.__load_patch("util",(e,r,n)=>{let o=$n(e);n.patchOnProperties=us,n.patchMethod=$t,n.bindArguments=to,n.patchMacroTask=bu;let i=r.__symbol__("BLACK_LISTED_EVENTS"),s=r.__symbol__("UNPATCHED_EVENTS");e[s]&&(e[i]=e[s]),e[i]&&(r[i]=r[s]=e[i]),n.patchEventPrototype=Pu,n.patchEventTarget=Nu,n.ObjectDefineProperty=Wn,n.ObjectGetOwnPropertyDescriptor=qe,n.ObjectCreate=gu,n.ArraySlice=Su,n.patchClass=Xe,n.wrapWithCurrentZone=Qn,n.filterProperties=hs,n.attachOriginToPatched=Wt,n._redefineProperty=Object.defineProperty,n.patchCallbacks=Hu,n.getGlobalObjects=()=>({globalSources:ls,zoneSymbolEventNames:St,eventNames:o,isBrowser:eo,isMix:cs,isNode:Jr,TRUE_STR:zt,FALSE_STR:Kt,ZONE_SYMBOL_PREFIX:Qe,ADD_EVENT_LISTENER_STR:Xn,REMOVE_EVENT_LISTENER_STR:qn})})}function Bu(t){ku(t),Uu(t),Gu(t)}var ms=Eu();Bu(ms);Mu(ms);var Je=class{emit(e){}},Ts=new Je;var tr=Symbol.for("io.opentelemetry.js.api.logs"),Pe=globalThis;function Es(t,e,r){return n=>n===t?e:r}var ro=1;var no=class{getLogger(e,r,n){return new Je}},tn=new no;var en=class{constructor(e,r,n,o){this._provider=e,this.name=r,this.version=n,this.options=o}emit(e){this._getLogger().emit(e)}_getLogger(){if(this._delegate)return this._delegate;let e=this._provider._getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):Ts}};var er=class{getLogger(e,r,n){var o;return(o=this._getDelegateLogger(e,r,n))!==null&&o!==void 0?o:new en(this,e,r,n)}_getDelegate(){var e;return(e=this._delegate)!==null&&e!==void 0?e:tn}_setDelegate(e){this._delegate=e}_getDelegateLogger(e,r,n){var o;return(o=this._delegate)===null||o===void 0?void 0:o.getLogger(e,r,n)}};var rn=class t{constructor(){this._proxyLoggerProvider=new er}static getInstance(){return this._instance||(this._instance=new t),this._instance}setGlobalLoggerProvider(e){return Pe[tr]?this.getLoggerProvider():(Pe[tr]=Es(ro,e,tn),this._proxyLoggerProvider._setDelegate(e),e)}getLoggerProvider(){var e,r;return(r=(e=Pe[tr])===null||e===void 0?void 0:e.call(Pe,ro))!==null&&r!==void 0?r:this._proxyLoggerProvider}getLogger(e,r,n){return this.getLoggerProvider().getLogger(e,r,n)}disable(){delete Pe[tr],this._proxyLoggerProvider=new er}};var nn=rn.getInstance();function gs(t,e,r,n){for(let o=0,i=t.length;o<i;o++){let s=t[o];e&&s.setTracerProvider(e),r&&s.setMeterProvider(r),n&&s.setLoggerProvider&&s.setLoggerProvider(n),s.getConfig().enabled||s.enable()}}function Ss(t){t.forEach(e=>e.disable())}function oo(t){var i,s;let e=t.tracerProvider||K.getTracerProvider(),r=t.meterProvider||Ge.getMeterProvider(),n=t.loggerProvider||nn.getLoggerProvider(),o=(s=(i=t.instrumentations)==null?void 0:i.flat())!=null?s:[];return gs(o,e,r,n),()=>{Ss(o)}}var dt=console.error.bind(console);function rr(t,e,r){let n=!!t[e]&&Object.prototype.propertyIsEnumerable.call(t,e);Object.defineProperty(t,e,{configurable:!0,enumerable:n,writable:!0,value:r})}var on=(t,e,r)=>{if(!t||!t[e]){dt("no original function "+String(e)+" to wrap");return}if(!r){dt("no wrapper function"),dt(new Error().stack);return}let n=t[e];if(typeof n!="function"||typeof r!="function"){dt("original object and wrapper must be functions");return}let o=r(n,e);return rr(o,"__original",n),rr(o,"__unwrap",()=>{t[e]===o&&rr(t,e,n)}),rr(o,"__wrapped",!0),rr(t,e,o),o},io=(t,e,r)=>{if(t)Array.isArray(t)||(t=[t]);else{dt("must provide one or more modules to patch"),dt(new Error().stack);return}if(!(e&&Array.isArray(e))){dt("must provide one or more functions to wrap on modules");return}t.forEach(n=>{e.forEach(o=>{on(n,o,r)})})},sn=(t,e)=>{if(!t||!t[e]){dt("no function to unwrap."),dt(new Error().stack);return}let r=t[e];if(!r.__unwrap)dt("no original to unwrap to -- has "+String(e)+" already been unwrapped?");else{r.__unwrap();return}},so=(t,e)=>{if(t)Array.isArray(t)||(t=[t]);else{dt("must provide one or more modules to patch"),dt(new Error().stack);return}if(!(e&&Array.isArray(e))){dt("must provide one or more functions to unwrap on modules");return}t.forEach(r=>{e.forEach(n=>{sn(r,n)})})};function nr(t){t&&t.logger&&(typeof t.logger!="function"?dt("new logger isn't a function, not replacing"):dt=t.logger)}nr.wrap=on;nr.massWrap=io;nr.unwrap=sn;nr.massUnwrap=so;var an=class{constructor(e,r,n){l(this,"_config",{});l(this,"_tracer");l(this,"_meter");l(this,"_logger");l(this,"_diag");l(this,"instrumentationName");l(this,"instrumentationVersion");l(this,"_wrap",on);l(this,"_unwrap",sn);l(this,"_massWrap",io);l(this,"_massUnwrap",so);this.instrumentationName=e,this.instrumentationVersion=r,this.setConfig(n),this._diag=v.createComponentLogger({namespace:e}),this._tracer=K.getTracer(e,r),this._meter=Ge.getMeter(e,r),this._logger=nn.getLogger(e,r),this._updateMetricInstruments()}get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()}get logger(){return this._logger}setLoggerProvider(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)}getModuleDefinitions(){var r;let e=(r=this.init())!=null?r:[];return Array.isArray(e)?e:[e]}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(e){this._config={enabled:!0,...e}}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}_runSpanCustomizationHook(e,r,n,o){if(e)try{e(n,o)}catch(i){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:r},i)}}};var Mt=class extends an{constructor(e,r,n){super(e,r,n),this._config.enabled&&this.enable()}};function Le(t,e,r){let n,o;try{o=t()}catch(i){n=i}finally{if(e(n,o),n&&!r)throw n;return o}}function it(t){return typeof t=="function"&&typeof t.__original=="function"&&typeof t.__unwrap=="function"&&t.__wrapped===!0}var nt;(function(t){t[t.STABLE=1]="STABLE",t[t.OLD=2]="OLD",t[t.DUPLICATE=3]="DUPLICATE"})(nt||(nt={}));function or(t,e){let r=nt.OLD,n=e==null?void 0:e.split(",").map(o=>o.trim()).filter(o=>o!=="");for(let o of n!=null?n:[])if(o.toLowerCase()===t+"/dup"){r=nt.DUPLICATE;break}else o.toLowerCase()===t&&(r=nt.STABLE);return r}var Te;(function(t){t.DOCUMENT_LOAD="documentLoad",t.DOCUMENT_FETCH="documentFetch",t.RESOURCE_FETCH="resourceFetch"})(Te||(Te={}));var As="0.56.0",Rs="@opentelemetry/instrumentation-document-load";var cn="http.url",ys="http.user_agent";var ir;(function(t){t.FIRST_PAINT="firstPaint",t.FIRST_CONTENTFUL_PAINT="firstContentfulPaint"})(ir||(ir={}));var Os=()=>{var r,n;let t={},e=(n=(r=st).getEntriesByType)==null?void 0:n.call(r,"navigation")[0];if(e)Object.values(D).forEach(i=>{if(jt(e,i)){let s=e[i];typeof s=="number"&&(t[i]=s)}});else{let i=st.timing;i&&Object.values(D).forEach(a=>{if(jt(i,a)){let c=i[a];typeof c=="number"&&(t[a]=c)}})}return t},vs={"first-paint":ir.FIRST_PAINT,"first-contentful-paint":ir.FIRST_CONTENTFUL_PAINT},bs=t=>{var r,n;let e=(n=(r=st).getEntriesByType)==null?void 0:n.call(r,"paint");e&&e.forEach(({name:o,startTime:i})=>{jt(vs,o)&&t.addEvent(vs[o],i)})};var sr=class extends Mt{constructor(r={}){super(Rs,As,r);l(this,"component","document-load");l(this,"version","1");l(this,"moduleName",this.component);l(this,"_semconvStability");this._semconvStability=or("http",r==null?void 0:r.semconvStabilityOptIn)}init(){}_onDocumentLoaded(){window.setTimeout(()=>{this._collectPerformance()})}_addResourcesSpans(r){var o,i;let n=(i=(o=st).getEntriesByType)==null?void 0:i.call(o,"resource");n&&n.forEach(s=>{this._initResourceSpan(s,r)})}_collectPerformance(){let r=Array.from(document.getElementsByTagName("meta")).find(i=>i.getAttribute("name")===ye),n=Os(),o=r&&r.content||"";j.with(ut.extract(ft,{traceparent:o}),()=>{var s;let i=this._startSpan(Te.DOCUMENT_LOAD,D.FETCH_START,n);i&&(j.with(K.setSpan(j.active(),i),()=>{let a=this._startSpan(Te.DOCUMENT_FETCH,D.FETCH_START,n);a&&(this._semconvStability&nt.OLD&&a.setAttribute(cn,location.href),this._semconvStability&nt.STABLE&&a.setAttribute(Ae,location.href),j.with(K.setSpan(j.active(),a),()=>{var u;let c=!(this._semconvStability&nt.OLD);me(a,n,this.getConfig().ignoreNetworkEvents,void 0,c),this._addCustomAttributesOnSpan(a,(u=this.getConfig().applyCustomAttributesOnSpan)==null?void 0:u.documentFetch),this._endSpan(a,D.RESPONSE_END,n)}))}),this._semconvStability&nt.OLD&&(i.setAttribute(cn,location.href),i.setAttribute(ys,navigator.userAgent)),this._semconvStability&nt.STABLE&&(i.setAttribute(Ae,location.href),i.setAttribute(vi,navigator.userAgent)),this._addResourcesSpans(i),this.getConfig().ignoreNetworkEvents||(ot(i,D.FETCH_START,n),ot(i,D.UNLOAD_EVENT_START,n),ot(i,D.UNLOAD_EVENT_END,n),ot(i,D.DOM_INTERACTIVE,n),ot(i,D.DOM_CONTENT_LOADED_EVENT_START,n),ot(i,D.DOM_CONTENT_LOADED_EVENT_END,n),ot(i,D.DOM_COMPLETE,n),ot(i,D.LOAD_EVENT_START,n),ot(i,D.LOAD_EVENT_END,n)),this.getConfig().ignorePerformancePaintEvents||bs(i),this._addCustomAttributesOnSpan(i,(s=this.getConfig().applyCustomAttributesOnSpan)==null?void 0:s.documentLoad),this._endSpan(i,D.LOAD_EVENT_END,n))})}_endSpan(r,n,o){r&&(jt(o,n)?r.end(o[n]):r.end())}_initResourceSpan(r,n){var i;let o=this._startSpan(Te.RESOURCE_FETCH,D.FETCH_START,r,n);if(o){this._semconvStability&nt.OLD&&o.setAttribute(cn,r.name),this._semconvStability&nt.STABLE&&o.setAttribute(Ae,r.name);let s=!(this._semconvStability&nt.OLD);me(o,r,this.getConfig().ignoreNetworkEvents,void 0,s),this._addCustomAttributesOnResourceSpan(o,r,(i=this.getConfig().applyCustomAttributesOnSpan)==null?void 0:i.resourceFetch),this._endSpan(o,D.RESPONSE_END,r)}}_startSpan(r,n,o,i){if(jt(o,n)&&typeof o[n]=="number")return this.tracer.startSpan(r,{startTime:o[n]},i?K.setSpan(j.active(),i):void 0)}_waitForPageLoad(){window.document.readyState==="complete"?this._onDocumentLoaded():(this._onDocumentLoaded=this._onDocumentLoaded.bind(this),window.addEventListener("load",this._onDocumentLoaded))}_addCustomAttributesOnSpan(r,n){n&&Le(()=>n(r),o=>{o&&this._diag.error("addCustomAttributesOnSpan",o)},!0)}_addCustomAttributesOnResourceSpan(r,n,o){o&&Le(()=>o(r,n),i=>{i&&this._diag.error("addCustomAttributesOnResourceSpan",i)},!0)}enable(){window.removeEventListener("load",this._onDocumentLoaded),this._waitForPageLoad()}disable(){window.removeEventListener("load",this._onDocumentLoaded)}};var Ee;(function(t){t.EVENT_TYPE="event_type",t.TARGET_ELEMENT="target_element",t.TARGET_XPATH="target_xpath",t.HTTP_URL="http.url"})(Ee||(Ee={}));var ao="0.55.0",xs="@opentelemetry/instrumentation-user-interaction";var Fu="OT_ZONE_CONTEXT",ju="Navigation:",Zu=["click"];function zu(){return!1}var ar=class extends Mt{constructor(r={}){var n;super(xs,ao,r);l(this,"version",ao);l(this,"moduleName","user-interaction");l(this,"_spansData",new WeakMap);l(this,"_wrappedListeners",new WeakMap);l(this,"_eventsSpanMap",new WeakMap);l(this,"_eventNames");l(this,"_shouldPreventSpanCreation");this._eventNames=new Set((n=r==null?void 0:r.eventNames)!=null?n:Zu),this._shouldPreventSpanCreation=typeof(r==null?void 0:r.shouldPreventSpanCreation)=="function"?r.shouldPreventSpanCreation:zu}init(){}_checkForTimeout(r,n){let o=this._spansData.get(n);o&&(r.source==="setTimeout"?o.hrTimeLastTimeout=Vt():r.source!=="Promise.then"&&r.source!=="setTimeout"&&(o.hrTimeLastTimeout=void 0))}_allowEventName(r){return this._eventNames.has(r)}_createSpan(r,n,o){if(!(r instanceof HTMLElement)||!r.getAttribute||r.hasAttribute("disabled")||!this._allowEventName(n))return;let i=Wr(r,!0);try{let s=this.tracer.startSpan(n,{attributes:{[Ee.EVENT_TYPE]:n,[Ee.TARGET_ELEMENT]:r.tagName,[Ee.TARGET_XPATH]:i,[Ee.HTTP_URL]:window.location.href}},o?K.setSpan(j.active(),o):void 0);return this._shouldPreventSpanCreation(n,r,s)===!0?void 0:(this._spansData.set(s,{taskCount:0}),s)}catch(s){this._diag.error("failed to start create new user interaction span",s)}}_decrementTask(r){let n=this._spansData.get(r);n&&(n.taskCount--,n.taskCount===0&&this._tryToEndSpan(r,n.hrTimeLastTimeout))}_getCurrentSpan(r){let n=r.get(Fu);return n&&K.getSpan(n)}_incrementTask(r){let n=this._spansData.get(r);n&&n.taskCount++}addPatchedListener(r,n,o,i){let s=this._wrappedListeners.get(o);s||(s=new Map,this._wrappedListeners.set(o,s));let a=s.get(n);return a||(a=new Map,s.set(n,a)),a.has(r)?!1:(a.set(r,i),!0)}removePatchedListener(r,n,o){let i=this._wrappedListeners.get(o);if(!i)return;let s=i.get(n);if(!s)return;let a=s.get(r);return a&&(s.delete(r),s.size===0&&(i.delete(n),i.size===0&&this._wrappedListeners.delete(o))),a}_invokeListener(r,n,o){return typeof r=="function"?r.apply(n,o):r.handleEvent(o[0])}_patchAddEventListener(){let r=this;return n=>function(i,s,a){if(!s)return n.call(this,i,s,a);let c=a&&typeof a=="object"&&a.once,u=function(...p){let m,S=p[0],y=S==null?void 0:S.target;S&&(m=r._eventsSpanMap.get(S)),c&&r.removePatchedListener(this,i,s);let M=r._createSpan(y,i,m);return M?(S&&r._eventsSpanMap.set(S,M),j.with(K.setSpan(j.active(),M),()=>{let k=r._invokeListener(s,this,p);return M.end(),k})):r._invokeListener(s,this,p)};if(r.addPatchedListener(this,i,s,u))return n.call(this,i,u,a)}}_patchRemoveEventListener(){let r=this;return n=>function(i,s,a){let c=r.removePatchedListener(this,i,s);return c?n.call(this,i,c,a):n.call(this,i,s,a)}}_getPatchableEventTargets(){return window.EventTarget?[EventTarget.prototype]:[Node.prototype,Window.prototype]}_patchHistoryApi(){this._unpatchHistoryApi(),this._wrap(history,"replaceState",this._patchHistoryMethod()),this._wrap(history,"pushState",this._patchHistoryMethod()),this._wrap(history,"back",this._patchHistoryMethod()),this._wrap(history,"forward",this._patchHistoryMethod()),this._wrap(history,"go",this._patchHistoryMethod())}_patchHistoryMethod(){let r=this;return n=>function(...i){let s=`${location.pathname}${location.hash}${location.search}`,a=n.apply(this,i),c=`${location.pathname}${location.hash}${location.search}`;return s!==c&&r._updateInteractionName(c),a}}_unpatchHistoryApi(){it(history.replaceState)&&this._unwrap(history,"replaceState"),it(history.pushState)&&this._unwrap(history,"pushState"),it(history.back)&&this._unwrap(history,"back"),it(history.forward)&&this._unwrap(history,"forward"),it(history.go)&&this._unwrap(history,"go")}_updateInteractionName(r){let n=K.getSpan(j.active());n&&typeof n.updateName=="function"&&n.updateName(`${ju} ${r}`)}_patchZoneCancelTask(){let r=this;return n=>function(i){let s=Zone.current,a=r._getCurrentSpan(s);return a&&r._shouldCountTask(i,s)&&r._decrementTask(a),n.call(this,i)}}_patchZoneScheduleTask(){let r=this;return n=>function(i){let s=Zone.current,a=r._getCurrentSpan(s);return a&&r._shouldCountTask(i,s)&&(r._incrementTask(a),r._checkForTimeout(i,a)),n.call(this,i)}}_patchZoneRunTask(){let r=this;return n=>function(i,s,a){let c=Array.isArray(a)&&a[0]instanceof Event?a[0]:void 0,u=c==null?void 0:c.target,p,m=this;if(u){if(p=r._createSpan(u,i.eventName),p)return r._incrementTask(p),m.run(()=>{try{return j.with(K.setSpan(j.active(),p),()=>{let S=Zone.current;return i._zone=S,n.call(S,i,s,a)})}finally{r._decrementTask(p)}})}else p=r._getCurrentSpan(m);try{return n.call(m,i,s,a)}finally{p&&r._shouldCountTask(i,m)&&r._decrementTask(p)}}}_shouldCountTask(r,n){if(r._zone&&(n=r._zone),!n||!r.data||r.data.isPeriodic)return!1;let o=this._getCurrentSpan(n);return!o||!this._spansData.get(o)?!1:r.type==="macroTask"||r.type==="microTask"}_tryToEndSpan(r,n){r&&this._spansData.get(r)&&(r.end(n),this._spansData.delete(r))}enable(){let r=this._getZoneWithPrototype();this._diag.debug("applying patch to",this.moduleName,this.version,"zone:",!!r),r?(it(r.prototype.runTask)&&(this._unwrap(r.prototype,"runTask"),this._diag.debug("removing previous patch from method runTask")),it(r.prototype.scheduleTask)&&(this._unwrap(r.prototype,"scheduleTask"),this._diag.debug("removing previous patch from method scheduleTask")),it(r.prototype.cancelTask)&&(this._unwrap(r.prototype,"cancelTask"),this._diag.debug("removing previous patch from method cancelTask")),this._zonePatched=!0,this._wrap(r.prototype,"runTask",this._patchZoneRunTask()),this._wrap(r.prototype,"scheduleTask",this._patchZoneScheduleTask()),this._wrap(r.prototype,"cancelTask",this._patchZoneCancelTask())):(this._zonePatched=!1,this._getPatchableEventTargets().forEach(o=>{it(o.addEventListener)&&(this._unwrap(o,"addEventListener"),this._diag.debug("removing previous patch from method addEventListener")),it(o.removeEventListener)&&(this._unwrap(o,"removeEventListener"),this._diag.debug("removing previous patch from method removeEventListener")),this._wrap(o,"addEventListener",this._patchAddEventListener()),this._wrap(o,"removeEventListener",this._patchRemoveEventListener())})),this._patchHistoryApi()}disable(){let r=this._getZoneWithPrototype();this._diag.debug("removing patch from",this.moduleName,this.version,"zone:",!!r),r&&this._zonePatched?(it(r.prototype.runTask)&&this._unwrap(r.prototype,"runTask"),it(r.prototype.scheduleTask)&&this._unwrap(r.prototype,"scheduleTask"),it(r.prototype.cancelTask)&&this._unwrap(r.prototype,"cancelTask")):this._getPatchableEventTargets().forEach(o=>{it(o.addEventListener)&&this._unwrap(o,"addEventListener"),it(o.removeEventListener)&&this._unwrap(o,"removeEventListener")}),this._unpatchHistoryApi()}_getZoneWithPrototype(){return window.Zone}};var Ns="http.host",Ps="http.method",Ls="http.request.body.size",Cs="http.request_content_length_uncompressed";var ws="http.scheme",Is="http.status_code",Ds="http.url",Ms="http.user_agent";var kt;(function(t){t.METHOD_OPEN="open",t.METHOD_SEND="send",t.EVENT_ABORT="abort",t.EVENT_ERROR="error",t.EVENT_LOAD="loaded",t.EVENT_TIMEOUT="timeout"})(kt||(kt={}));var Ku=v.createComponentLogger({namespace:"@opentelemetry/opentelemetry-instrumentation-xml-http-request/utils"});function $u(t){return typeof Document!="undefined"&&t instanceof Document}function Us(t){if($u(t))return new XMLSerializer().serializeToString(document).length;if(typeof t=="string")return ks(t);if(t instanceof Blob)return t.size;if(t instanceof FormData)return Yu(t);if(t instanceof URLSearchParams)return ks(t.toString());if(t.byteLength!==void 0)return t.byteLength;Ku.warn("unknown body type")}var Wu=new TextEncoder;function ks(t){return Wu.encode(t).byteLength}function Yu(t){let e=0;for(let[r,n]of t.entries())e+=r.length,n instanceof Blob?e+=n.size:e+=n.length;return e}function Hs(t){let e=qu(),r=t.toUpperCase();return r in e?r:"_OTHER"}var Xu={CONNECT:!0,DELETE:!0,GET:!0,HEAD:!0,OPTIONS:!0,PATCH:!0,POST:!0,PUT:!0,TRACE:!0,QUERY:!0},cr;function qu(){if(cr===void 0){let t=void 0;t&&t.length>0?(cr={},t.forEach(e=>{cr[e]=!0})):cr=Xu}return cr}var Qu={"https:":"443","http:":"80"};function Gs(t){let e=Number(t.port||Qu[t.protocol]);if(e&&!isNaN(e))return e}var co="0.211.0";var un;(function(t){t.HTTP_STATUS_TEXT="http.status_text"})(un||(un={}));var Ju=300,ur=class extends Mt{constructor(r={}){super("@opentelemetry/instrumentation-xml-http-request",co,r);l(this,"component","xml-http-request");l(this,"version",co);l(this,"moduleName",this.component);l(this,"_tasksCount",0);l(this,"_xhrMem",new WeakMap);l(this,"_usedResources",new WeakSet);l(this,"_semconvStability");this._semconvStability=or("http",r==null?void 0:r.semconvStabilityOptIn)}init(){}_addHeaders(r,n){let o=Zt(n).href;if(!Fn(o,this.getConfig().propagateTraceHeaderCorsUrls)){let s={};ut.inject(j.active(),s),Object.keys(s).length>0&&this._diag.debug("headers inject skipped due to CORS policy");return}let i={};ut.inject(j.active(),i),Object.keys(i).forEach(s=>{r.setRequestHeader(s,String(i[s]))})}_addChildSpan(r,n){j.with(K.setSpan(j.active(),r),()=>{let o=this.tracer.startSpan("CORS Preflight",{startTime:n[D.FETCH_START]}),i=!(this._semconvStability&nt.OLD);me(o,n,this.getConfig().ignoreNetworkEvents,void 0,i),o.end(n[D.RESPONSE_END])})}_addFinalSpanAttributes(r,n,o){if(this._semconvStability&nt.OLD){if(n.status!==void 0&&r.setAttribute(Is,n.status),n.statusText!==void 0&&r.setAttribute(un.HTTP_STATUS_TEXT,n.statusText),typeof o=="string"){let i=Zt(o);r.setAttribute(Ns,i.host),r.setAttribute(ws,i.protocol.replace(":",""))}r.setAttribute(Ms,navigator.userAgent)}this._semconvStability&nt.STABLE&&n.status&&r.setAttribute(Si,n.status)}_applyAttributesAfterXHR(r,n){let o=this.getConfig().applyCustomAttributesOnSpan;typeof o=="function"&&Le(()=>o(r,n),i=>{i&&this._diag.error("applyCustomAttributesOnSpan",i)},!0)}_addResourceObserver(r,n){let o=this._xhrMem.get(r);!o||typeof PerformanceObserver!="function"||typeof PerformanceResourceTiming!="function"||(o.createdResources={observer:new PerformanceObserver(i=>{let s=i.getEntries(),a=Zt(n);s.forEach(c=>{c.initiatorType==="xmlhttprequest"&&c.name===a.href&&o.createdResources&&o.createdResources.entries.push(c)})}),entries:[]},o.createdResources.observer.observe({entryTypes:["resource"]}))}_clearResources(){this._tasksCount===0&&this.getConfig().clearTimingResources&&(st.clearResourceTimings(),this._xhrMem=new WeakMap,this._usedResources=new WeakSet)}_findResourceAndAddNetworkEvents(r,n,o,i,s){if(!o||!i||!s||!r.createdResources)return;let a=r.createdResources.entries;(!a||!a.length)&&(a=st.getEntriesByType("resource"));let c=Vn(Zt(o).href,i,s,a,this._usedResources);if(c.mainRequest){let u=c.mainRequest;this._markResourceAsUsed(u);let p=c.corsPreFlightRequest;p&&(this._addChildSpan(n,p),this._markResourceAsUsed(p));let m=!(this._semconvStability&nt.OLD);me(n,u,this.getConfig().ignoreNetworkEvents,void 0,m)}}_cleanPreviousSpanInformation(r){let n=this._xhrMem.get(r);if(n){let o=n.callbackToRemoveEvents;o&&o(),this._xhrMem.delete(r)}}_createSpan(r,n,o){if(kn(n,this.getConfig().ignoreUrls)){this._diag.debug("ignoring span as url matches ignored url");return}let i="",s=Zt(n),a={};if(this._semconvStability&nt.OLD&&(i=o.toUpperCase(),a[Ps]=o,a[Ds]=s.toString()),this._semconvStability&nt.STABLE){let u=o,p=Hs(o);i||(i=p),a[Ei]=p,p!==u&&(a[gi]=u),a[Ae]=s.toString(),a[Ai]=s.hostname;let m=Gs(s);m&&(a[Ri]=m)}let c=this.tracer.startSpan(i,{kind:ie.CLIENT,attributes:a});return c.addEvent(kt.METHOD_OPEN),this._cleanPreviousSpanInformation(r),this._xhrMem.set(r,{span:c,spanUrl:n}),c}_markResourceAsUsed(r){this._usedResources.add(r)}_patchOpen(){return r=>{let n=this;return function(...i){let s=i[0],a=i[1];return n._createSpan(this,a,s),r.apply(this,i)}}}_patchSend(){let r=this;function n(p,m,S,y){let M=m.callbackToRemoveEvents;typeof M=="function"&&M();let{span:k,spanUrl:J,sendStartTime:z}=m;k&&(r._findResourceAndAddNetworkEvents(m,k,J,z,S),k.addEvent(p,y),r._addFinalSpanAttributes(k,m,J),k.end(y),r._tasksCount--),r._clearResources()}function o(p,m,S,y){let M=r._xhrMem.get(m);if(!M)return;if(M.status=m.status,M.statusText=m.statusText,r._xhrMem.delete(m),M.span){let z=M.span;r._applyAttributesAfterXHR(z,m),r._semconvStability&nt.STABLE&&(S?y&&(z.setStatus({code:vt.ERROR,message:y}),z.setAttribute(Ln,y)):M.status&&M.status>=400&&(z.setStatus({code:vt.ERROR}),z.setAttribute(Ln,String(M.status))))}let k=Vt(),J=Date.now();setTimeout(()=>{n(p,M,k,J)},Ju)}function i(){o(kt.EVENT_ERROR,this,!0,"error")}function s(){o(kt.EVENT_ABORT,this,!1)}function a(){o(kt.EVENT_TIMEOUT,this,!0,"timeout")}function c(){this.status<299?o(kt.EVENT_LOAD,this,!1):o(kt.EVENT_ERROR,this,!1)}function u(p){p.removeEventListener("abort",s),p.removeEventListener("error",i),p.removeEventListener("load",c),p.removeEventListener("timeout",a);let m=r._xhrMem.get(p);m&&(m.callbackToRemoveEvents=void 0)}return p=>function(...S){let y=r._xhrMem.get(this);if(!y)return p.apply(this,S);let M=y.span,k=y.spanUrl;if(M&&k){if(r.getConfig().measureRequestSize&&(S!=null&&S[0])){let J=S[0],z=Us(J);z!==void 0&&(r._semconvStability&nt.OLD&&M.setAttribute(Cs,z),r._semconvStability&nt.STABLE&&M.setAttribute(Ls,z))}j.with(K.setSpan(j.active(),M),()=>{r._tasksCount++,y.sendStartTime=Vt(),M.addEvent(kt.METHOD_SEND),this.addEventListener("abort",s),this.addEventListener("error",i),this.addEventListener("load",c),this.addEventListener("timeout",a),y.callbackToRemoveEvents=()=>{u(this),y.createdResources&&y.createdResources.observer.disconnect()},r._addHeaders(this,k),r._addResourceObserver(this,k)})}return p.apply(this,S)}}enable(){this._diag.debug("applying patch to",this.moduleName,this.version),it(XMLHttpRequest.prototype.open)&&(this._unwrap(XMLHttpRequest.prototype,"open"),this._diag.debug("removing previous patch from method open")),it(XMLHttpRequest.prototype.send)&&(this._unwrap(XMLHttpRequest.prototype,"send"),this._diag.debug("removing previous patch from method send")),this._wrap(XMLHttpRequest.prototype,"open",this._patchOpen()),this._wrap(XMLHttpRequest.prototype,"send",this._patchSend())}disable(){this._diag.debug("removing patch from",this.moduleName,this.version),this._unwrap(XMLHttpRequest.prototype,"open"),this._unwrap(XMLHttpRequest.prototype,"send"),this._tasksCount=0,this._xhrMem=new WeakMap,this._usedResources=new WeakSet}};var lr=class{constructor(e){l(this,"_delegate");this._delegate=e}export(e,r){this._delegate.export(e,r)}forceFlush(){return this._delegate.forceFlush()}shutdown(){return this._delegate.shutdown()}};var pr=class extends Error{constructor(r,n,o){super(r);l(this,"code");l(this,"name","OTLPExporterError");l(this,"data");this.data=o,this.code=n}};function tl(t){if(Number.isFinite(t)&&t>0)return t;throw new Error(`Configuration: timeoutMillis is invalid, expected number greater than 0 (actual: '${t}')`)}function Bs(t){if(t!=null)return async()=>t}function Vs(t,e,r){var n,o,i,s,a,c;return{timeoutMillis:tl((o=(n=t.timeoutMillis)!=null?n:e.timeoutMillis)!=null?o:r.timeoutMillis),concurrencyLimit:(s=(i=t.concurrencyLimit)!=null?i:e.concurrencyLimit)!=null?s:r.concurrencyLimit,compression:(c=(a=t.compression)!=null?a:e.compression)!=null?c:r.compression}}function Fs(){return{timeoutMillis:1e4,concurrencyLimit:30,compression:"none"}}var uo=class{constructor(e){l(this,"_concurrencyLimit");l(this,"_sendingPromises",[]);this._concurrencyLimit=e}pushPromise(e){if(this.hasReachedLimit())throw new Error("Concurrency Limit reached");this._sendingPromises.push(e);let r=()=>{let n=this._sendingPromises.indexOf(e);this._sendingPromises.splice(n,1)};e.then(r,r)}hasReachedLimit(){return this._sendingPromises.length>=this._concurrencyLimit}async awaitAll(){await Promise.all(this._sendingPromises)}};function js(t){return new uo(t.concurrencyLimit)}function el(t){return Object.prototype.hasOwnProperty.call(t,"partialSuccess")}function Zs(){return{handleResponse(t){t==null||!el(t)||t.partialSuccess==null||Object.keys(t.partialSuccess).length===0||v.warn("Received Partial Success response:",JSON.stringify(t.partialSuccess))}}}var lo=class{constructor(e,r,n,o,i){l(this,"_diagLogger");l(this,"_transport");l(this,"_serializer");l(this,"_responseHandler");l(this,"_promiseQueue");l(this,"_timeout");this._transport=e,this._serializer=r,this._responseHandler=n,this._promiseQueue=o,this._timeout=i,this._diagLogger=v.createComponentLogger({namespace:"OTLPExportDelegate"})}export(e,r){if(this._diagLogger.debug("items to be sent",e),this._promiseQueue.hasReachedLimit()){r({code:Tt.FAILED,error:new Error("Concurrent export limit reached")});return}let n=this._serializer.serializeRequest(e);if(n==null){r({code:Tt.FAILED,error:new Error("Nothing to send")});return}this._promiseQueue.pushPromise(this._transport.send(n,this._timeout).then(o=>{var i;if(o.status==="success"){if(o.data!=null)try{this._responseHandler.handleResponse(this._serializer.deserializeResponse(o.data))}catch(s){this._diagLogger.warn("Export succeeded but could not deserialize response - is the response specification compliant?",s,o.data)}r({code:Tt.SUCCESS});return}else if(o.status==="failure"&&o.error){r({code:Tt.FAILED,error:o.error});return}else o.status==="retryable"?r({code:Tt.FAILED,error:(i=o.error)!=null?i:new pr("Export failed with retryable status")}):r({code:Tt.FAILED,error:new pr("Export failed with unknown error")})},o=>r({code:Tt.FAILED,error:o})))}forceFlush(){return this._promiseQueue.awaitAll()}async shutdown(){this._diagLogger.debug("shutdown started"),await this.forceFlush(),this._transport.shutdown()}};function zs(t,e){return new lo(t.transport,t.serializer,Zs(),t.promiseHandler,e.timeout)}function po(t,e,r){return zs({transport:r,serializer:e,promiseHandler:js(t)},{timeout:t.timeoutMillis})}function Ks(t){return t>=48&&t<=57?t-48:t>=97&&t<=102?t-87:t-55}function ln(t){let e=new Uint8Array(t.length/2),r=0;for(let n=0;n<t.length;n+=2){let o=Ks(t.charCodeAt(n)),i=Ks(t.charCodeAt(n+1));e[r++]=o<<4|i}return e}function Ws(t){let e=BigInt(1e9);return BigInt(Math.trunc(t[0]))*e+BigInt(Math.trunc(t[1]))}function rl(t){let e=Number(BigInt.asUintN(32,t)),r=Number(BigInt.asUintN(32,t>>BigInt(32)));return{low:e,high:r}}function Ys(t){let e=Ws(t);return rl(e)}function nl(t){return Ws(t).toString()}var ol=typeof BigInt!="undefined"?nl:Et;function $s(t){return t}function Xs(t){if(t!==void 0)return ln(t)}var il={encodeHrTime:Ys,encodeSpanContext:ln,encodeOptionalSpanContext:Xs};function qs(t){var n,o;if(t===void 0)return il;let e=(n=t.useLongBits)!=null?n:!0,r=(o=t.useHex)!=null?o:!1;return{encodeHrTime:e?Ys:ol,encodeSpanContext:r?$s:ln,encodeOptionalSpanContext:r?$s:Xs}}function Qs(t){let e={attributes:fr(t.attributes),droppedAttributesCount:0},r=t.schemaUrl;return r&&r!==""&&(e.schemaUrl=r),e}function Js(t){return{name:t.name,version:t.version}}function fr(t){return Object.keys(t).map(e=>ta(e,t[e]))}function ta(t,e){return{key:t,value:ea(e)}}function ea(t){let e=typeof t;return e==="string"?{stringValue:t}:e==="number"?Number.isInteger(t)?{intValue:t}:{doubleValue:t}:e==="boolean"?{boolValue:t}:t instanceof Uint8Array?{bytesValue:t}:Array.isArray(t)?{arrayValue:{values:t.map(ea)}}:e==="object"&&t!=null?{kvlistValue:{values:Object.entries(t).map(([r,n])=>ta(r,n))}}:{}}var sl=256,al=512;function ra(t,e){let r=t&255|sl;return e&&(r|=al),r}function cl(t,e){var i,s,a,c;let r=t.spanContext(),n=t.status,o=(i=t.parentSpanContext)!=null&&i.spanId?e.encodeSpanContext((s=t.parentSpanContext)==null?void 0:s.spanId):void 0;return{traceId:e.encodeSpanContext(r.traceId),spanId:e.encodeSpanContext(r.spanId),parentSpanId:o,traceState:(a=r.traceState)==null?void 0:a.serialize(),name:t.name,kind:t.kind==null?0:t.kind+1,startTimeUnixNano:e.encodeHrTime(t.startTime),endTimeUnixNano:e.encodeHrTime(t.endTime),attributes:fr(t.attributes),droppedAttributesCount:t.droppedAttributesCount,events:t.events.map(u=>ll(u,e)),droppedEventsCount:t.droppedEventsCount,status:{code:n.code,message:n.message},links:t.links.map(u=>ul(u,e)),droppedLinksCount:t.droppedLinksCount,flags:ra(r.traceFlags,(c=t.parentSpanContext)==null?void 0:c.isRemote)}}function ul(t,e){var r;return{attributes:t.attributes?fr(t.attributes):[],spanId:e.encodeSpanContext(t.context.spanId),traceId:e.encodeSpanContext(t.context.traceId),traceState:(r=t.context.traceState)==null?void 0:r.serialize(),droppedAttributesCount:t.droppedAttributesCount||0,flags:ra(t.context.traceFlags,t.context.isRemote)}}function ll(t,e){return{attributes:t.attributes?fr(t.attributes):[],name:t.name,timeUnixNano:e.encodeHrTime(t.time),droppedAttributesCount:t.droppedAttributesCount||0}}function na(t,e){let r=qs(e);return{resourceSpans:fl(t,r)}}function pl(t){let e=new Map;for(let r of t){let n=e.get(r.resource);n||(n=new Map,e.set(r.resource,n));let o=`${r.instrumentationScope.name}@${r.instrumentationScope.version||""}:${r.instrumentationScope.schemaUrl||""}`,i=n.get(o);i||(i=[],n.set(o,i)),i.push(r)}return e}function fl(t,e){let r=pl(t),n=[],o=r.entries(),i=o.next();for(;!i.done;){let[s,a]=i.value,c=[],u=a.values(),p=u.next();for(;!p.done;){let y=p.value;if(y.length>0){let M=y.map(k=>cl(k,e));c.push({scope:Js(y[0].instrumentationScope),spans:M,schemaUrl:y[0].instrumentationScope.schemaUrl})}p=u.next()}let m=Qs(s),S={resource:m,scopeSpans:c,schemaUrl:m.schemaUrl};n.push(S),i=o.next()}return n}var pn={serializeRequest:t=>{let e=na(t,{useHex:!0,useLongBits:!1});return new TextEncoder().encode(JSON.stringify(e))},deserializeResponse:t=>{if(t.length===0)return{};let e=new TextDecoder;return JSON.parse(e.decode(t))}};var fo=5,_l=1e3,dl=5e3,hl=1.5,oa=.2;function ml(){return Math.random()*(2*oa)-oa}var _o=class{constructor(e){l(this,"_transport");this._transport=e}retry(e,r,n){return new Promise((o,i)=>{setTimeout(()=>{this._transport.send(e,r).then(o,i)},n)})}async send(e,r){var a;let n=fo,o=_l,i=Date.now()+r,s=await this._transport.send(e,r);for(;s.status==="retryable"&&n>0;){n--;let c=Math.max(Math.min(o*(1+ml()),dl),0);o=o*hl;let u=(a=s.retryInMillis)!=null?a:c,p=i-Date.now();if(u>p)return v.info(`Export retry time ${Math.round(u)}ms exceeds remaining timeout ${Math.round(p)}ms, not retrying further.`),s;v.verbose(`Scheduling export retry in ${Math.round(u)}ms`),s=await this.retry(e,p,u)}return s.status==="success"?v.verbose(`Export succeeded after ${fo-n} retry attempts.`):s.status==="retryable"?v.info(`Export failed after maximum retry attempts (${fo}).`):v.info(`Export failed with non-retryable error: ${s.error}`),s}shutdown(){return this._transport.shutdown()}};function ho(t){return new _o(t.transport)}var mo=class{constructor(e){l(this,"_params");this._params=e}async send(e){let r=(await this._params.headers())["Content-Type"];return new Promise(n=>{navigator.sendBeacon(this._params.url,new Blob([e],{type:r}))?(v.debug("SendBeacon success"),n({status:"success"})):n({status:"failure",error:new Error("SendBeacon failed")})})}shutdown(){}};function ia(t){return new mo(t)}function sa(t){return t===429||t===502||t===503||t===504}function aa(t){if(t==null)return;let e=Number.parseInt(t,10);if(Number.isInteger(e))return e>0?e*1e3:-1;let r=new Date(t).getTime()-Date.now();return r>=0?r:0}var To=class{constructor(e){l(this,"_parameters");this._parameters=e}async send(e,r){var i;let n=new AbortController,o=setTimeout(()=>n.abort(),r);try{let s=!!globalThis.location,a=new URL(this._parameters.url),c=await fetch(a.href,{method:"POST",headers:await this._parameters.headers(),body:e,signal:n.signal,keepalive:s,mode:s?((i=globalThis.location)==null?void 0:i.origin)===a.origin?"same-origin":"cors":"no-cors"});if(c.status>=200&&c.status<=299)return v.debug("response success"),{status:"success"};if(sa(c.status)){let u=c.headers.get("Retry-After");return{status:"retryable",retryInMillis:aa(u)}}return{status:"failure",error:new Error("Fetch request failed with non-retryable status")}}catch(s){return Tl(s)?{status:"retryable",error:new Error("Fetch request encountered a network error",{cause:s})}:{status:"failure",error:new Error("Fetch request errored",{cause:s})}}finally{clearTimeout(o)}}shutdown(){}};function ca(t){return new To(t)}function Tl(t){return t instanceof TypeError&&!t.cause}function ua(t,e){return po(t,e,ho({transport:ca(t)}))}function la(t,e){return po(t,e,ho({transport:ia({url:t.url,headers:t.headers})}))}function pa(t){let e={};return Object.entries(t!=null?t:{}).forEach(([r,n])=>{typeof n!="undefined"?e[r]=String(n):v.warn(`Header "${r}" has invalid value (${n}) and will be ignored`)}),e}function El(t,e,r){return async()=>{let n={...await r()},o={};return e!=null&&Object.assign(o,await e()),t!=null&&Object.assign(o,pa(await t())),Object.assign(o,n)}}function gl(t){var e;if(t!=null)try{let r=(e=globalThis.location)==null?void 0:e.href;return new URL(t,r).href}catch(r){throw new Error(`Configuration: Could not parse user-provided export URL: '${t}'`)}}function fa(t,e,r){var n,o;return{...Vs(t,e,r),headers:El(t.headers,e.headers,r.headers),url:(o=(n=gl(t.url))!=null?n:e.url)!=null?o:r.url}}function _a(t,e){return{...Fs(),headers:async()=>t,url:"http://localhost:4318/"+e}}function da(t){return typeof t.headers=="function"?t.headers:Bs(t.headers)}function ha(t,e,r){return fa({url:t.url,timeoutMillis:t.timeoutMillis,headers:da(t),concurrencyLimit:t.concurrencyLimit},{},_a(r,e))}function Eo(t,e,r,n){let o=Sl(t.headers),i=ha(t,r,n);return o(i,e)}function Sl(t){return!t&&typeof navigator.sendBeacon=="function"?la:ua}var Ce=class extends lr{constructor(e={}){super(Eo(e,pn,"v1/traces",{"Content-Type":"application/json"}))}};var Jt={PLATFORM:"browser.platform",BRANDS:"browser.brands",MOBILE:"browser.mobile",LANGUAGE:"browser.language",USER_AGENT:"browser.user_agent"};var go=class{detect(e){if(!(typeof window!="undefined"&&typeof document!="undefined"))return _e();let n=Al();return this._getResourceAttributes(n,e)}_getResourceAttributes(e,r){return!e[Jt.USER_AGENT]&&!e[Jt.PLATFORM]?(v.debug("BrowserDetector failed: Unable to find required browser resources. "),_e()):{attributes:e}}};function Al(){let t={},e=navigator.userAgentData;return e?(t[Jt.PLATFORM]=e.platform,t[Jt.BRANDS]=e.brands.map(r=>`${r.brand} ${r.version}`),t[Jt.MOBILE]=e.mobile):t[Jt.USER_AGENT]=navigator.userAgent,t[Jt.LANGUAGE]=navigator.language,t}var So=new go;var ya=-1,_r=t=>{addEventListener("pageshow",(e=>{e.persisted&&(ya=e.timeStamp,t(e))}),!0)},te=(t,e,r,n)=>{let o,i;return s=>{e.value>=0&&(s||n)&&(i=e.value-(o!=null?o:0),(i||o===void 0)&&(o=e.value,e.delta=i,e.rating=((a,c)=>a>c[1]?"poor":a>c[0]?"needs-improvement":"good")(e.value,r),t(e)))}},No=t=>{requestAnimationFrame((()=>requestAnimationFrame((()=>t()))))},va=()=>{let t=performance.getEntriesByType("navigation")[0];if(t&&t.responseStart>0&&t.responseStart<performance.now())return t},_n=()=>{var e;let t=va();return(e=t==null?void 0:t.activationStart)!=null?e:0},ee=(t,e=-1)=>{let r=va(),n="navigate";return ya>=0?n="back-forward-cache":r&&(document.prerendering||_n()>0?n="prerender":document.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-"))),{name:t,value:e,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:n}},Ao=new WeakMap;function Po(t,e){return Ao.get(t)||Ao.set(t,new e),Ao.get(t)}var yo=class{constructor(){l(this,"t");l(this,"i",0);l(this,"o",[])}h(e){var o;if(e.hadRecentInput)return;let r=this.o[0],n=this.o.at(-1);this.i&&r&&n&&e.startTime-n.startTime<1e3&&e.startTime-r.startTime<5e3?(this.i+=e.value,this.o.push(e)):(this.i=e.value,this.o=[e]),(o=this.t)==null||o.call(this,e)}},dr=(t,e,r={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){let n=new PerformanceObserver((o=>{Promise.resolve().then((()=>{e(o.getEntries())}))}));return n.observe({type:t,buffered:!0,...r}),n}}catch(n){}},Lo=t=>{let e=!1;return()=>{e||(t(),e=!0)}},we=-1,Oa=new Set,ma=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,vo=t=>{if(document.visibilityState==="hidden"){if(t.type==="visibilitychange")for(let e of Oa)e();isFinite(we)||(we=t.type==="visibilitychange"?t.timeStamp:0,removeEventListener("prerenderingchange",vo,!0))}},dn=()=>{var t;if(we<0){let e=_n(),r=document.prerendering||(t=globalThis.performance.getEntriesByType("visibility-state").filter((n=>n.name==="hidden"&&n.startTime>e))[0])==null?void 0:t.startTime;we=r!=null?r:ma(),addEventListener("visibilitychange",vo,!0),addEventListener("prerenderingchange",vo,!0),_r((()=>{setTimeout((()=>{we=ma()}))}))}return{get firstHiddenTime(){return we},onHidden(e){Oa.add(e)}}},Co=t=>{document.prerendering?addEventListener("prerenderingchange",(()=>t()),!0):t()},Ta=[1800,3e3],Rl=(t,e={})=>{Co((()=>{let r=dn(),n,o=ee("FCP"),i=dr("paint",(s=>{for(let a of s)a.name==="first-contentful-paint"&&(i.disconnect(),a.startTime<r.firstHiddenTime&&(o.value=Math.max(a.startTime-_n(),0),o.entries.push(a),n(!0)))}));i&&(n=te(t,o,Ta,e.reportAllChanges),_r((s=>{o=ee("FCP"),n=te(t,o,Ta,e.reportAllChanges),No((()=>{o.value=performance.now()-s.timeStamp,n(!0)}))})))}))},Ea=[.1,.25],ba=(t,e={})=>{let r=dn();Rl(Lo((()=>{let n,o=ee("CLS",0),i=Po(e,yo),s=c=>{for(let u of c)i.h(u);i.i>o.value&&(o.value=i.i,o.entries=i.o,n())},a=dr("layout-shift",s);a&&(n=te(t,o,Ea,e.reportAllChanges),r.onHidden((()=>{s(a.takeRecords()),n(!0)})),_r((()=>{i.i=0,o=ee("CLS",0),n=te(t,o,Ea,e.reportAllChanges),No((()=>n()))})),setTimeout(n))})))},xa=0,Ro=1/0,fn=0,yl=t=>{for(let e of t)e.interactionId&&(Ro=Math.min(Ro,e.interactionId),fn=Math.max(fn,e.interactionId),xa=fn?(fn-Ro)/7+1:0)},Oo,ga=()=>{var t;return Oo?xa:(t=performance.interactionCount)!=null?t:0},vl=()=>{"interactionCount"in performance||Oo||(Oo=dr("event",yl,{type:"event",buffered:!0,durationThreshold:0}))},Sa=0,bo=class{constructor(){l(this,"u",[]);l(this,"l",new Map);l(this,"m");l(this,"p")}v(){Sa=ga(),this.u.length=0,this.l.clear()}L(){let e=Math.min(this.u.length-1,Math.floor((ga()-Sa)/50));return this.u[e]}h(e){var o,i;if((o=this.m)==null||o.call(this,e),!e.interactionId&&e.entryType!=="first-input")return;let r=this.u.at(-1),n=this.l.get(e.interactionId);if(n||this.u.length<10||e.duration>r.P){if(n?e.duration>n.P?(n.entries=[e],n.P=e.duration):e.duration===n.P&&e.startTime===n.entries[0].startTime&&n.entries.push(e):(n={id:e.interactionId,entries:[e],P:e.duration},this.l.set(n.id,n),this.u.push(n)),this.u.sort(((s,a)=>a.P-s.P)),this.u.length>10){let s=this.u.splice(10);for(let a of s)this.l.delete(a.id)}(i=this.p)==null||i.call(this,n)}}},Na=t=>{let e=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?t():(t=Lo(t),addEventListener("visibilitychange",t,{once:!0,capture:!0}),e((()=>{t(),removeEventListener("visibilitychange",t,{capture:!0})})))},Aa=[200,500],Pa=(t,e={})=>{if(!globalThis.PerformanceEventTiming||!("interactionId"in PerformanceEventTiming.prototype))return;let r=dn();Co((()=>{var c;vl();let n,o=ee("INP"),i=Po(e,bo),s=u=>{Na((()=>{for(let m of u)i.h(m);let p=i.L();p&&p.P!==o.value&&(o.value=p.P,o.entries=p.entries,n())}))},a=dr("event",s,{durationThreshold:(c=e.durationThreshold)!=null?c:40});n=te(t,o,Aa,e.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),r.onHidden((()=>{s(a.takeRecords()),n(!0)})),_r((()=>{i.v(),o=ee("INP"),n=te(t,o,Aa,e.reportAllChanges)})))}))},xo=class{constructor(){l(this,"m")}h(e){var r;(r=this.m)==null||r.call(this,e)}},Ra=[2500,4e3],La=(t,e={})=>{Co((()=>{let r=dn(),n,o=ee("LCP"),i=Po(e,xo),s=c=>{e.reportAllChanges||(c=c.slice(-1));for(let u of c)i.h(u),u.startTime<r.firstHiddenTime&&(o.value=Math.max(u.startTime-_n(),0),o.entries=[u],n())},a=dr("largest-contentful-paint",s);if(a){n=te(t,o,Ra,e.reportAllChanges);let c=Lo((()=>{s(a.takeRecords()),a.disconnect(),n(!0)})),u=p=>{p.isTrusted&&(Na(c),removeEventListener(p.type,u,{capture:!0}))};for(let p of["keydown","click","visibilitychange"])addEventListener(p,u,{capture:!0});_r((p=>{o=ee("LCP"),n=te(t,o,Ra,e.reportAllChanges),No((()=>{o.value=performance.now()-p.timeStamp,n(!0)}))}))}}))};(function(){var M,k,J,z;let e=window.MatomoOpenTelemetry||{};if(!e.enabled)return;let r=(M=e.traceUrl)!=null?M:"",n=(k=e.serviceName)!=null?k:"matomo-frontend",o=Hn({detectors:[So]}),i=Ke({[Nr]:n});i=i.merge(o);let s=new Ye({resource:i,spanProcessors:[new Oe(new Ce({url:r}))]});s.register({contextManager:new xe,propagator:new le({propagators:[new pe,new ae]})});let a=(J=window.piwik)==null?void 0:J.idSite;if(a!=null){let A=ut.createBaggage({"matomo.site_id":{value:String(a)}}),T=ut.setBaggage(j.active(),A);j.with(T,()=>{})}let c=[];e.enableDocumentLoadMonitoring&&c.push(new sr),e.enableUserInteractionMonitoring&&c.push(new ar),e.enableXMLHttpRequestMonitoring&&c.push(new ur({propagateTraceHeaderCorsUrls:[/.*/]})),c.length>0&&oo({instrumentations:c});let u=K.getTracer(n),p=null,m=j.active();if(e.enableUxMonitoring){let A=function(){p&&p.end(),p=u.startSpan("ui.page",{attributes:{"http.url":window.location.href,"http.path":window.location.pathname,"http.title":document.title}}),m=K.setSpan(j.active(),p)};A(),window.addEventListener("hashchange",()=>{A()}),window.addEventListener("beforeunload",()=>{p&&p.end()})}function S(A,T){var H;try{let P=u.startSpan(A,{},m);P.recordException(T),P.setStatus({code:vt.ERROR}),P.setAttribute("error.message",T.message),P.setAttribute("error.name",T.name),P.setAttribute("error.stack",(H=T.stack)!=null?H:""),P.setAttribute("http.url",window.location.href),P.setAttribute("http.path",window.location.pathname),P.setAttribute("http.title",document.title),P.end(),s.forceFlush()}catch(P){console.warn("OpenTelemetry: failed to record error span",P)}}window.addEventListener("error",A=>{S("js.error",A.error||new Error(A.message))}),window.addEventListener("unhandledrejection",A=>{S("js.unhandled_promise",A.reason instanceof Error?A.reason:new Error(String(A.reason)))});function y(){let A=document.getElementById("ajaxError");if(!A)return;new MutationObserver(H=>{var P,q,$,O;for(let rt of H)for(let C of rt.addedNodes){if(!(C instanceof HTMLElement))continue;let I=(P=C.matches)!=null&&P.call(C,".notification-error")?C:(q=C.querySelector)==null?void 0:q.call(C,".notification-error");if(!I)continue;let G=(O=($=I.querySelector(".notification-body div"))==null?void 0:$.innerText)==null?void 0:O.trim();if(!G)continue;let x=u.startSpan("ui.notification.error",{attributes:{"ui.notification.type":"error","ui.notification.message":G,"http.url":window.location.href,"http.path":window.location.pathname}},m);x.setStatus({code:vt.ERROR}),x.end()}}).observe(A,{childList:!0,subtree:!0})}if(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",y):y(),e.enableWebVitals){let A=function(T){let H=u.startSpan("browser.web_vital",{attributes:{"http.url":window.location.href,"http.path":window.location.pathname}},m);H.addEvent("browser.web_vital",{name:T.name,value:T.value,delta:T.delta,id:T.id}),H.end()};ba(A),La(A),Pa(A)}e.enableUxMonitoring&&"PerformanceObserver"in window&&((z=PerformanceObserver.supportedEntryTypes)!=null&&z.includes("longtask"))&&new PerformanceObserver(T=>{for(let H of T.getEntries()){let P=u.startSpan("ux.long_task",{attributes:{"http.url":window.location.href,"http.path":window.location.pathname}},m);P.addEvent("ux.long_task",{duration:H.duration,startTime:H.startTime}),P.end()}}).observe({entryTypes:["longtask"]})})();})();
/*! Bundled license information:

zone.js/fesm2015/zone.js:
  (**
   * @license Angular
   * (c) 2010-2025 Google LLC. https://angular.dev/
   * License: MIT
   *)
*/
