(()=>{var wa=Object.defineProperty;var Ia=(t,e,r)=>e in t?wa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var l=(t,e,r)=>Ia(t,typeof e!="symbol"?e+"":e,r);var Uo=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{};var Gt="1.9.0";var Ho=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function Da(t){var e=new Set([t]),r=new Set,n=t.match(Ho);if(!n)return function(){return!1};var o={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(o.prerelease!=null)return function(c){return c===t};function i(a){return r.add(a),!1}function s(a){return e.add(a),!0}return function(c){if(e.has(c))return!0;if(r.has(c))return!1;var u=c.match(Ho);if(!u)return i(c);var p={major:+u[1],minor:+u[2],patch:+u[3],prerelease:u[4]};return p.prerelease!=null||o.major!==p.major?i(c):o.major===0?o.minor===p.minor&&o.patch<=p.patch?s(c):i(c):o.minor<=p.minor?s(c):i(c)}}var Go=Da(Gt);var Ma=Gt.split(".")[0],De=Symbol.for("opentelemetry.js.api."+Ma),Me=Uo;function Pt(t,e,r,n){var o;n===void 0&&(n=!1);var i=Me[De]=(o=Me[De])!==null&&o!==void 0?o:{version:Gt};if(!n&&i[t]){var s=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+t);return r.error(s.stack||s.message),!1}if(i.version!==Gt){var s=new Error("@opentelemetry/api: Registration of version v"+i.version+" for "+t+" does not match previously registered API v"+Gt);return r.error(s.stack||s.message),!1}return i[t]=e,r.debug("@opentelemetry/api: Registered a global for "+t+" v"+Gt+"."),!0}function mt(t){var e,r,n=(e=Me[De])===null||e===void 0?void 0:e.version;if(!(!n||!Go(n)))return(r=Me[De])===null||r===void 0?void 0:r[t]}function Lt(t,e){e.debug("@opentelemetry/api: Unregistering a global for "+t+" v"+Gt+".");var r=Me[De];r&&delete r[t]}var ka=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},Ua=function(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))},Bo=(function(){function t(e){this._namespace=e.namespace||"DiagComponentLogger"}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return ke("debug",this._namespace,e)},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return ke("error",this._namespace,e)},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return ke("info",this._namespace,e)},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return ke("warn",this._namespace,e)},t.prototype.verbose=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return ke("verbose",this._namespace,e)},t})();function ke(t,e,r){var n=mt("diag");if(n)return r.unshift(e),n[t].apply(n,Ua([],ka(r),!1))}var ft;(function(t){t[t.NONE=0]="NONE",t[t.ERROR=30]="ERROR",t[t.WARN=50]="WARN",t[t.INFO=60]="INFO",t[t.DEBUG=70]="DEBUG",t[t.VERBOSE=80]="VERBOSE",t[t.ALL=9999]="ALL"})(ft||(ft={}));function Vo(t,e){t<ft.NONE?t=ft.NONE:t>ft.ALL&&(t=ft.ALL),e=e||{};function r(n,o){var i=e[n];return typeof i=="function"&&t>=o?i.bind(e):function(){}}return{error:r("error",ft.ERROR),warn:r("warn",ft.WARN),info:r("info",ft.INFO),debug:r("debug",ft.DEBUG),verbose:r("verbose",ft.VERBOSE)}}var Ha=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},Ga=function(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))},Ba="diag",lt=(function(){function t(){function e(o){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var a=mt("diag");if(a)return a[o].apply(a,Ga([],Ha(i),!1))}}var r=this,n=function(o,i){var s,a,c;if(i===void 0&&(i={logLevel:ft.INFO}),o===r){var u=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((s=u.stack)!==null&&s!==void 0?s:u.message),!1}typeof i=="number"&&(i={logLevel:i});var p=mt("diag"),m=Vo((a=i.logLevel)!==null&&a!==void 0?a:ft.INFO,o);if(p&&!i.suppressOverrideMessage){var E=(c=new Error().stack)!==null&&c!==void 0?c:"<failed to generate stacktrace>";p.warn("Current logger will be overwritten from "+E),m.warn("Current logger will overwrite one already registered from "+E)}return Pt("diag",m,r,!0)};r.setLogger=n,r.disable=function(){Lt(Ba,r)},r.createComponentLogger=function(o){return new Bo(o)},r.verbose=e("verbose"),r.debug=e("debug"),r.info=e("info"),r.warn=e("warn"),r.error=e("error")}return t.instance=function(){return this._instance||(this._instance=new t),this._instance},t})();var Va=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},Fa=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Fo=(function(){function t(e){this._entries=e?new Map(e):new Map}return t.prototype.getEntry=function(e){var r=this._entries.get(e);if(r)return Object.assign({},r)},t.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var r=Va(e,2),n=r[0],o=r[1];return[n,o]})},t.prototype.setEntry=function(e,r){var n=new t(this._entries);return n._entries.set(e,r),n},t.prototype.removeEntry=function(e){var r=new t(this._entries);return r._entries.delete(e),r},t.prototype.removeEntries=function(){for(var e,r,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=new t(this._entries);try{for(var s=Fa(n),a=s.next();!a.done;a=s.next()){var c=a.value;i._entries.delete(c)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}return i},t.prototype.clear=function(){return new t},t})();var jo=Symbol("BaggageEntryMetadata");var ja=lt.instance();function Zo(t){return t===void 0&&(t={}),new Fo(new Map(Object.entries(t)))}function Tn(t){return typeof t!="string"&&(ja.error("Cannot create baggage metadata from unknown type: "+typeof t),t=""),{__TYPE__:jo,toString:function(){return t}}}function ne(t){return Symbol.for(t)}var Za=(function(){function t(e){var r=this;r._currentContext=e?new Map(e):new Map,r.getValue=function(n){return r._currentContext.get(n)},r.setValue=function(n,o){var i=new t(r._currentContext);return i._currentContext.set(n,o),i},r.deleteValue=function(n){var o=new t(r._currentContext);return o._currentContext.delete(n),o}}return t})(),_t=new Za;var oe=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),za=(function(){function t(){}return t.prototype.createGauge=function(e,r){return tc},t.prototype.createHistogram=function(e,r){return ec},t.prototype.createCounter=function(e,r){return Ja},t.prototype.createUpDownCounter=function(e,r){return rc},t.prototype.createObservableGauge=function(e,r){return oc},t.prototype.createObservableCounter=function(e,r){return nc},t.prototype.createObservableUpDownCounter=function(e,r){return ic},t.prototype.addBatchObservableCallback=function(e,r){},t.prototype.removeBatchObservableCallback=function(e){},t})();var mr=(function(){function t(){}return t})();var Ka=(function(t){oe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.add=function(r,n){},e})(mr);var $a=(function(t){oe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.add=function(r,n){},e})(mr);var Wa=(function(t){oe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.record=function(r,n){},e})(mr);var Ya=(function(t){oe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.record=function(r,n){},e})(mr);var En=(function(){function t(){}return t.prototype.addCallback=function(e){},t.prototype.removeCallback=function(e){},t})();var Xa=(function(t){oe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(En);var qa=(function(t){oe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(En);var Qa=(function(t){oe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(En);var zo=new za,Ja=new Ka,tc=new Wa,ec=new Ya,rc=new $a,nc=new Xa,oc=new qa,ic=new Qa;var Ko={get:function(t,e){if(t!=null)return t[e]},keys:function(t){return t==null?[]:Object.keys(t)}},$o={set:function(t,e,r){t!=null&&(t[e]=r)}};var sc=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},ac=function(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))},Wo=(function(){function t(){}return t.prototype.active=function(){return _t},t.prototype.with=function(e,r,n){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];return r.call.apply(r,ac([n],sc(o),!1))},t.prototype.bind=function(e,r){return r},t.prototype.enable=function(){return this},t.prototype.disable=function(){return this},t})();var cc=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i},uc=function(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))},gn="context",lc=new Wo,Xt=(function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalContextManager=function(e){return Pt(gn,e,lt.instance())},t.prototype.active=function(){return this._getContextManager().active()},t.prototype.with=function(e,r,n){for(var o,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];return(o=this._getContextManager()).with.apply(o,uc([e,r,n],cc(i),!1))},t.prototype.bind=function(e,r){return this._getContextManager().bind(e,r)},t.prototype._getContextManager=function(){return mt(gn)||lc},t.prototype.disable=function(){this._getContextManager().disable(),Lt(gn,lt.instance())},t})();var dt;(function(t){t[t.NONE=0]="NONE",t[t.SAMPLED=1]="SAMPLED"})(dt||(dt={}));var Tr="0000000000000000",Er="00000000000000000000000000000000",Ue={traceId:Er,spanId:Tr,traceFlags:dt.NONE};var qt=(function(){function t(e){e===void 0&&(e=Ue),this._spanContext=e}return t.prototype.spanContext=function(){return this._spanContext},t.prototype.setAttribute=function(e,r){return this},t.prototype.setAttributes=function(e){return this},t.prototype.addEvent=function(e,r){return this},t.prototype.addLink=function(e){return this},t.prototype.addLinks=function(e){return this},t.prototype.setStatus=function(e){return this},t.prototype.updateName=function(e){return this},t.prototype.end=function(e){},t.prototype.isRecording=function(){return!1},t.prototype.recordException=function(e,r){},t})();var Sn=ne("OpenTelemetry Context Key SPAN");function gr(t){return t.getValue(Sn)||void 0}function Yo(){return gr(Xt.getInstance().active())}function He(t,e){return t.setValue(Sn,e)}function Xo(t){return t.deleteValue(Sn)}function qo(t,e){return He(t,new qt(e))}function Sr(t){var e;return(e=gr(t))===null||e===void 0?void 0:e.spanContext()}var pc=/^([0-9a-f]{32})$/i,fc=/^[0-9a-f]{16}$/i;function Ar(t){return pc.test(t)&&t!==Er}function Qo(t){return fc.test(t)&&t!==Tr}function Bt(t){return Ar(t.traceId)&&Qo(t.spanId)}function Jo(t){return new qt(t)}var An=Xt.getInstance(),Rr=(function(){function t(){}return t.prototype.startSpan=function(e,r,n){n===void 0&&(n=An.active());var o=!!(r!=null&&r.root);if(o)return new qt;var i=n&&Sr(n);return _c(i)&&Bt(i)?new qt(i):new qt},t.prototype.startActiveSpan=function(e,r,n,o){var i,s,a;if(!(arguments.length<2)){arguments.length===2?a=r:arguments.length===3?(i=r,a=n):(i=r,s=n,a=o);var c=s!=null?s:An.active(),u=this.startSpan(e,i,c),p=He(c,u);return An.with(p,a,void 0,u)}},t})();function _c(t){return typeof t=="object"&&typeof t.spanId=="string"&&typeof t.traceId=="string"&&typeof t.traceFlags=="number"}var dc=new Rr,ti=(function(){function t(e,r,n,o){this._provider=e,this.name=r,this.version=n,this.options=o}return t.prototype.startSpan=function(e,r,n){return this._getTracer().startSpan(e,r,n)},t.prototype.startActiveSpan=function(e,r,n,o){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},t.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):dc},t})();var ei=(function(){function t(){}return t.prototype.getTracer=function(e,r,n){return new Rr},t})();var hc=new ei,Rn=(function(){function t(){}return t.prototype.getTracer=function(e,r,n){var o;return(o=this.getDelegateTracer(e,r,n))!==null&&o!==void 0?o:new ti(this,e,r,n)},t.prototype.getDelegate=function(){var e;return(e=this._delegate)!==null&&e!==void 0?e:hc},t.prototype.setDelegate=function(e){this._delegate=e},t.prototype.getDelegateTracer=function(e,r,n){var o;return(o=this._delegate)===null||o===void 0?void 0:o.getTracer(e,r,n)},t})();var Se;(function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Se||(Se={}));var ie;(function(t){t[t.INTERNAL=0]="INTERNAL",t[t.SERVER=1]="SERVER",t[t.CLIENT=2]="CLIENT",t[t.PRODUCER=3]="PRODUCER",t[t.CONSUMER=4]="CONSUMER"})(ie||(ie={}));var vt;(function(t){t[t.UNSET=0]="UNSET",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR"})(vt||(vt={}));var z=Xt.getInstance();var y=lt.instance();var mc=(function(){function t(){}return t.prototype.getMeter=function(e,r,n){return zo},t})();var ri=new mc;var yn="metrics",ni=(function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalMeterProvider=function(e){return Pt(yn,e,lt.instance())},t.prototype.getMeterProvider=function(){return mt(yn)||ri},t.prototype.getMeter=function(e,r,n){return this.getMeterProvider().getMeter(e,r,n)},t.prototype.disable=function(){Lt(yn,lt.instance())},t})();var Ge=ni.getInstance();var oi=(function(){function t(){}return t.prototype.inject=function(e,r){},t.prototype.extract=function(e,r){return e},t.prototype.fields=function(){return[]},t})();var vn=ne("OpenTelemetry Baggage Key");function On(t){return t.getValue(vn)||void 0}function ii(){return On(Xt.getInstance().active())}function si(t,e){return t.setValue(vn,e)}function ai(t){return t.deleteValue(vn)}var bn="propagation",Tc=new oi,ci=(function(){function t(){this.createBaggage=Zo,this.getBaggage=On,this.getActiveBaggage=ii,this.setBaggage=si,this.deleteBaggage=ai}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalPropagator=function(e){return Pt(bn,e,lt.instance())},t.prototype.inject=function(e,r,n){return n===void 0&&(n=$o),this._getGlobalPropagator().inject(e,r,n)},t.prototype.extract=function(e,r,n){return n===void 0&&(n=Ko),this._getGlobalPropagator().extract(e,r,n)},t.prototype.fields=function(){return this._getGlobalPropagator().fields()},t.prototype.disable=function(){Lt(bn,lt.instance())},t.prototype._getGlobalPropagator=function(){return mt(bn)||Tc},t})();var pt=ci.getInstance();var xn="trace",ui=(function(){function t(){this._proxyTracerProvider=new Rn,this.wrapSpanContext=Jo,this.isSpanContextValid=Bt,this.deleteSpan=Xo,this.getSpan=gr,this.getActiveSpan=Yo,this.getSpanContext=Sr,this.setSpan=He,this.setSpanContext=qo}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalTracerProvider=function(e){var r=Pt(xn,this._proxyTracerProvider,lt.instance());return r&&this._proxyTracerProvider.setDelegate(e),r},t.prototype.getTracerProvider=function(){return mt(xn)||this._proxyTracerProvider},t.prototype.getTracer=function(e,r){return this.getTracerProvider().getTracer(e,r)},t.prototype.disable=function(){Lt(xn,lt.instance()),this._proxyTracerProvider=new Rn},t})();var W=ui.getInstance();var li=ne("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function Nn(t){return t.setValue(li,!0)}function se(t){return t.getValue(li)===!0}var vr="baggage";function pi(t){return t.reduce((e,r)=>{let n=`${e}${e!==""?",":""}${r}`;return n.length>8192?e:n},"")}function fi(t){return t.getAllEntries().map(([e,r])=>{let n=`${encodeURIComponent(e)}=${encodeURIComponent(r.value)}`;return r.metadata!==void 0&&(n+=";"+r.metadata.toString()),n})}function _i(t){if(!t)return;let e=t.indexOf(";"),r=e===-1?t:t.substring(0,e),n=r.indexOf("=");if(n<=0)return;let o=r.substring(0,n).trim(),i=r.substring(n+1).trim();if(!o||!i)return;let s,a;try{s=decodeURIComponent(o),a=decodeURIComponent(i)}catch(u){return}let c;if(e!==-1&&e<t.length-1){let u=t.substring(e+1);c=Tn(u)}return{key:s,value:a,metadata:c}}var ae=class{inject(e,r,n){let o=pt.getBaggage(e);if(!o||se(e))return;let i=fi(o).filter(a=>a.length<=4096).slice(0,180),s=pi(i);s.length>0&&n.set(r,vr,s)}extract(e,r,n){let o=n.get(r,vr),i=Array.isArray(o)?o.join(","):o;if(!i)return e;let s={};return i.length===0||(i.split(",").forEach(c=>{let u=_i(c);if(u){let p={value:u.value};u.metadata&&(p.metadata=u.metadata),s[u.key]=p}}),Object.entries(s).length===0)?e:pt.setBaggage(e,pt.createBaggage(s))}fields(){return[vr]}};function ce(t){let e={};if(typeof t!="object"||t==null)return e;for(let r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;if(!Ac(r)){y.warn(`Invalid attribute key: ${r}`);continue}let n=t[r];if(!Or(n)){y.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(n)?e[r]=n.slice():e[r]=n}return e}function Ac(t){return typeof t=="string"&&t!==""}function Or(t){return t==null?!0:Array.isArray(t)?Rc(t):di(typeof t)}function Rc(t){let e;for(let r of t){if(r==null)continue;let n=typeof r;if(n!==e){if(!e){if(di(n)){e=n;continue}return!1}return!1}}return!0}function di(t){switch(t){case"number":case"boolean":case"string":return!0}return!1}function hi(){return t=>{y.error(yc(t))}}function yc(t){return typeof t=="string"?t:JSON.stringify(vc(t))}function vc(t){let e={},r=t;for(;r!==null;)Object.getOwnPropertyNames(r).forEach(n=>{if(e[n])return;let o=r[n];o&&(e[n]=String(o))}),r=Object.getPrototypeOf(r);return e}var Oc=hi();function Ot(t){try{Oc(t)}catch(e){}}var mi="2.5.0";var Ln="error.type";var br="exception.message",Ti="exception.stacktrace",xr="exception.type";var Ei="http.request.method";var gi="http.request.method_original";var Si="http.response.status_code";var Ai="server.address",Ri="server.port",Nr="service.name";var Be="telemetry.sdk.language";var yi="webjs",Ve="telemetry.sdk.name",Fe="telemetry.sdk.version";var Ae="url.full";var vi="user_agent.original";var Oi="process.runtime.name";var Re={[Ve]:"opentelemetry",[Oi]:"browser",[Be]:yi,[Fe]:mi};var st=performance;var bc=9,xc=6,Nc=Math.pow(10,xc),Pr=Math.pow(10,bc);function Ct(t){let e=t/1e3,r=Math.trunc(e),n=Math.round(t%1e3*Nc);return[r,n]}function Vt(t){let e=Ct(st.timeOrigin),r=Ct(typeof t=="number"?t:st.now());return Cr(e,r)}function ue(t){if(je(t))return t;if(typeof t=="number")return t<st.timeOrigin?Vt(t):Ct(t);if(t instanceof Date)return Ct(t.getTime());throw TypeError("Invalid input type")}function Cn(t,e){let r=e[0]-t[0],n=e[1]-t[1];return n<0&&(r-=1,n+=Pr),[r,n]}function Et(t){return t[0]*Pr+t[1]}function je(t){return Array.isArray(t)&&t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"}function Lr(t){return je(t)||typeof t=="number"||t instanceof Date}function Cr(t,e){let r=[t[0]+e[0],t[1]+e[1]];return r[1]>=Pr&&(r[1]-=Pr,r[0]+=1),r}var Tt;(function(t){t[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED"})(Tt||(Tt={}));var le=class{constructor(e={}){l(this,"_propagators");l(this,"_fields");var r;this._propagators=(r=e.propagators)!=null?r:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,o)=>n.concat(o),[])))}inject(e,r,n){for(let o of this._propagators)try{o.inject(e,r,n)}catch(i){y.warn(`Failed to inject with ${o.constructor.name}. Err: ${i.message}`)}}extract(e,r,n){return this._propagators.reduce((o,i)=>{try{return i.extract(o,r,n)}catch(s){y.warn(`Failed to extract with ${i.constructor.name}. Err: ${s.message}`)}return o},e)}fields(){return this._fields.slice()}};var wn="[_0-9a-z-*/]",Pc=`[a-z]${wn}{0,255}`,Lc=`[a-z0-9]${wn}{0,240}@[a-z]${wn}{0,13}`,Cc=new RegExp(`^(?:${Pc}|${Lc})$`),wc=/^[ -~]{0,255}[!-~]$/,Ic=/,|=/;function bi(t){return Cc.test(t)}function xi(t){return wc.test(t)&&!Ic.test(t)}var Ni=32,Dc=512,Pi=",",Li="=",wr=class t{constructor(e){l(this,"_internalState",new Map);e&&this._parse(e)}set(e,r){let n=this._clone();return n._internalState.has(e)&&n._internalState.delete(e),n._internalState.set(e,r),n}unset(e){let r=this._clone();return r._internalState.delete(e),r}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,r)=>(e.push(r+Li+this.get(r)),e),[]).join(Pi)}_parse(e){e.length>Dc||(this._internalState=e.split(Pi).reverse().reduce((r,n)=>{let o=n.trim(),i=o.indexOf(Li);if(i!==-1){let s=o.slice(0,i),a=o.slice(i+1,n.length);bi(s)&&xi(a)&&r.set(s,a)}return r},new Map),this._internalState.size>Ni&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Ni))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new t;return e._internalState=new Map(this._internalState),e}};var ye="traceparent",Ir="tracestate",Mc="00",kc="(?!ff)[\\da-f]{2}",Uc="(?![0]{32})[\\da-f]{32}",Hc="(?![0]{16})[\\da-f]{16}",Gc="[\\da-f]{2}",Bc=new RegExp(`^\\s?(${kc})-(${Uc})-(${Hc})-(${Gc})(-.*)?\\s?$`);function Ci(t){let e=Bc.exec(t);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}var pe=class{inject(e,r,n){let o=W.getSpanContext(e);if(!o||se(e)||!Bt(o))return;let i=`${Mc}-${o.traceId}-${o.spanId}-0${Number(o.traceFlags||dt.NONE).toString(16)}`;n.set(r,ye,i),o.traceState&&n.set(r,Ir,o.traceState.serialize())}extract(e,r,n){let o=n.get(r,ye);if(!o)return e;let i=Array.isArray(o)?o[0]:o;if(typeof i!="string")return e;let s=Ci(i);if(!s)return e;s.isRemote=!0;let a=n.get(r,Ir);if(a){let c=Array.isArray(a)?a.join(","):a;s.traceState=new wr(typeof c=="string"?c:void 0)}return W.setSpanContext(e,s)}fields(){return[ye,Ir]}};var Vc="[object Object]",Fc="[object Null]",jc="[object Undefined]",Zc=Function.prototype,wi=Zc.toString,zc=wi.call(Object),Kc=Object.getPrototypeOf,Ii=Object.prototype,Di=Ii.hasOwnProperty,fe=Symbol?Symbol.toStringTag:void 0,Mi=Ii.toString;function In(t){if(!$c(t)||Wc(t)!==Vc)return!1;let e=Kc(t);if(e===null)return!0;let r=Di.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&wi.call(r)===zc}function $c(t){return t!=null&&typeof t=="object"}function Wc(t){return t==null?t===void 0?jc:Fc:fe&&fe in Object(t)?Yc(t):Xc(t)}function Yc(t){let e=Di.call(t,fe),r=t[fe],n=!1;try{t[fe]=void 0,n=!0}catch(i){}let o=Mi.call(t);return n&&(e?t[fe]=r:delete t[fe]),o}function Xc(t){return Mi.call(t)}var qc=20;function Mn(...t){let e=t.shift(),r=new WeakMap;for(;t.length>0;)e=Ui(e,t.shift(),0,r);return e}function Dn(t){return Mr(t)?t.slice():t}function Ui(t,e,r=0,n){let o;if(!(r>qc)){if(r++,Dr(t)||Dr(e)||Hi(e))o=Dn(e);else if(Mr(t)){if(o=t.slice(),Mr(e))for(let i=0,s=e.length;i<s;i++)o.push(Dn(e[i]));else if(Ze(e)){let i=Object.keys(e);for(let s=0,a=i.length;s<a;s++){let c=i[s];o[c]=Dn(e[c])}}}else if(Ze(t))if(Ze(e)){if(!Qc(t,e))return e;o=Object.assign({},t);let i=Object.keys(e);for(let s=0,a=i.length;s<a;s++){let c=i[s],u=e[c];if(Dr(u))typeof u=="undefined"?delete o[c]:o[c]=u;else{let p=o[c],m=u;if(ki(t,c,n)||ki(e,c,n))delete o[c];else{if(Ze(p)&&Ze(m)){let E=n.get(p)||[],R=n.get(m)||[];E.push({obj:t,key:c}),R.push({obj:e,key:c}),n.set(p,E),n.set(m,R)}o[c]=Ui(o[c],u,r,n)}}}}else o=e;return o}}function ki(t,e,r){let n=r.get(t[e])||[];for(let o=0,i=n.length;o<i;o++){let s=n[o];if(s.key===e&&s.obj===t)return!0}return!1}function Mr(t){return Array.isArray(t)}function Hi(t){return typeof t=="function"}function Ze(t){return!Dr(t)&&!Mr(t)&&!Hi(t)&&typeof t=="object"}function Dr(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="undefined"||t instanceof Date||t instanceof RegExp||t===null}function Qc(t,e){return!(!In(t)||!In(e))}function kr(t,e){return typeof e=="string"?t===e:!!t.match(e)}function kn(t,e){if(!e)return!1;for(let r of e)if(kr(t,r))return!0;return!1}var Ur=class{constructor(){l(this,"_promise");l(this,"_resolve");l(this,"_reject");this._promise=new Promise((e,r)=>{this._resolve=e,this._reject=r})}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}};var ze=class{constructor(e,r){l(this,"_isCalled",!1);l(this,"_deferred",new Ur);l(this,"_callback");l(this,"_that");this._callback=e,this._that=r}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then(r=>this._deferred.resolve(r),r=>this._deferred.reject(r))}catch(r){this._deferred.reject(r)}}return this._deferred.promise}};var Hr;function Gi(){if(Hr===void 0)try{let t=globalThis.process.argv0;Hr=t?`unknown_service:${t}`:"unknown_service"}catch(t){Hr="unknown_service"}return Hr}var ve=t=>t!==null&&typeof t=="object"&&typeof t.then=="function";var Gr=class t{constructor(e,r){l(this,"_rawAttributes");l(this,"_asyncAttributesPending",!1);l(this,"_schemaUrl");l(this,"_memoizedAttributes");var o;let n=(o=e.attributes)!=null?o:{};this._rawAttributes=Object.entries(n).map(([i,s])=>(ve(s)&&(this._asyncAttributesPending=!0),[i,s])),this._rawAttributes=Bi(this._rawAttributes),this._schemaUrl=tu(r==null?void 0:r.schemaUrl)}static FromAttributeList(e,r){let n=new t({},r);return n._rawAttributes=Bi(e),n._asyncAttributesPending=e.filter(([o,i])=>ve(i)).length>0,n}get asyncAttributesPending(){return this._asyncAttributesPending}async waitForAsyncAttributes(){if(this.asyncAttributesPending){for(let e=0;e<this._rawAttributes.length;e++){let[r,n]=this._rawAttributes[e];this._rawAttributes[e]=[r,ve(n)?await n:n]}this._asyncAttributesPending=!1}}get attributes(){var r;if(this.asyncAttributesPending&&y.error("Accessing resource attributes before async attributes settled"),this._memoizedAttributes)return this._memoizedAttributes;let e={};for(let[n,o]of this._rawAttributes){if(ve(o)){y.debug(`Unsettled resource attribute ${n} skipped`);continue}o!=null&&((r=e[n])!=null||(e[n]=o))}return this._asyncAttributesPending||(this._memoizedAttributes=e),e}getRawAttributes(){return this._rawAttributes}get schemaUrl(){return this._schemaUrl}merge(e){if(e==null)return this;let r=eu(this,e),n=r?{schemaUrl:r}:void 0;return t.FromAttributeList([...e.getRawAttributes(),...this.getRawAttributes()],n)}};function Ke(t,e){return Gr.FromAttributeList(Object.entries(t),e)}function Vi(t,e){return new Gr(t,e)}function _e(){return Ke({})}function Un(){return Ke({[Nr]:Gi(),[Be]:Re[Be],[Ve]:Re[Ve],[Fe]:Re[Fe]})}function Bi(t){return t.map(([e,r])=>ve(r)?[e,r.catch(n=>{y.debug("promise rejection for resource attribute: %s - %s",e,n)})]:[e,r])}function tu(t){if(typeof t=="string"||t===void 0)return t;y.warn("Schema URL must be string or undefined, got %s. Schema URL will be ignored.",t)}function eu(t,e){let r=t==null?void 0:t.schemaUrl,n=e==null?void 0:e.schemaUrl,o=r===void 0||r==="",i=n===void 0||n==="";if(o)return n;if(i||r===n)return r;y.warn('Schema URL merge conflict: old resource has "%s", updating resource has "%s". Resulting resource will have undefined Schema URL.',r,n)}var Hn=(t={})=>(t.detectors||[]).map(r=>{try{let n=Vi(r.detect(t));return y.debug(`${r.constructor.name} found resource.`,n),n}catch(n){return y.debug(`${r.constructor.name} failed: ${n.message}`),_e()}}).reduce((r,n)=>r.merge(n),_e());var Fi="exception";var Br=class{constructor(e){l(this,"_spanContext");l(this,"kind");l(this,"parentSpanContext");l(this,"attributes",{});l(this,"links",[]);l(this,"events",[]);l(this,"startTime");l(this,"resource");l(this,"instrumentationScope");l(this,"_droppedAttributesCount",0);l(this,"_droppedEventsCount",0);l(this,"_droppedLinksCount",0);l(this,"name");l(this,"status",{code:vt.UNSET});l(this,"endTime",[0,0]);l(this,"_ended",!1);l(this,"_duration",[-1,-1]);l(this,"_spanProcessor");l(this,"_spanLimits");l(this,"_attributeValueLengthLimit");l(this,"_performanceStartTime");l(this,"_performanceOffset");l(this,"_startTimeProvided");var n;let r=Date.now();this._spanContext=e.spanContext,this._performanceStartTime=st.now(),this._performanceOffset=r-(this._performanceStartTime+st.timeOrigin),this._startTimeProvided=e.startTime!=null,this._spanLimits=e.spanLimits,this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,this._spanProcessor=e.spanProcessor,this.name=e.name,this.parentSpanContext=e.parentSpanContext,this.kind=e.kind,this.links=e.links||[],this.startTime=this._getTime((n=e.startTime)!=null?n:r),this.resource=e.resource,this.instrumentationScope=e.scope,e.attributes!=null&&this.setAttributes(e.attributes),this._spanProcessor.onStart(this,e.context)}spanContext(){return this._spanContext}setAttribute(e,r){if(r==null||this._isSpanEnded())return this;if(e.length===0)return y.warn(`Invalid attribute key: ${e}`),this;if(!Or(r))return y.warn(`Invalid attribute value set for key: ${e}`),this;let{attributeCountLimit:n}=this._spanLimits;return n!==void 0&&Object.keys(this.attributes).length>=n&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this._droppedAttributesCount++,this):(this.attributes[e]=this._truncateToSize(r),this)}setAttributes(e){for(let[r,n]of Object.entries(e))this.setAttribute(r,n);return this}addEvent(e,r,n){if(this._isSpanEnded())return this;let{eventCountLimit:o}=this._spanLimits;if(o===0)return y.warn("No events allowed."),this._droppedEventsCount++,this;o!==void 0&&this.events.length>=o&&(this._droppedEventsCount===0&&y.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),Lr(r)&&(Lr(n)||(n=r),r=void 0);let i=ce(r);return this.events.push({name:e,attributes:i,time:this._getTime(n),droppedAttributesCount:0}),this}addLink(e){return this.links.push(e),this}addLinks(e){return this.links.push(...e),this}setStatus(e){return this._isSpanEnded()?this:(this.status={...e},this.status.message!=null&&typeof e.message!="string"&&(y.warn(`Dropping invalid status.message of type '${typeof e.message}', expected 'string'`),delete this.status.message),this)}updateName(e){return this._isSpanEnded()?this:(this.name=e,this)}end(e){if(this._isSpanEnded()){y.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);return}this.endTime=this._getTime(e),this._duration=Cn(this.startTime,this.endTime),this._duration[0]<0&&(y.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&y.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`),this._spanProcessor.onEnding&&this._spanProcessor.onEnding(this),this._ended=!0,this._spanProcessor.onEnd(this)}_getTime(e){if(typeof e=="number"&&e<=st.now())return Vt(e+this._performanceOffset);if(typeof e=="number")return Ct(e);if(e instanceof Date)return Ct(e.getTime());if(je(e))return e;if(this._startTimeProvided)return Ct(Date.now());let r=st.now()-this._performanceStartTime;return Cr(this.startTime,Ct(r))}isRecording(){return this._ended===!1}recordException(e,r){let n={};typeof e=="string"?n[br]=e:e&&(e.code?n[xr]=e.code.toString():e.name&&(n[xr]=e.name),e.message&&(n[br]=e.message),e.stack&&(n[Ti]=e.stack)),n[xr]||n[br]?this.addEvent(Fi,n,r):y.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){if(this._ended){let e=new Error(`Operation attempted on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`);y.warn(`Cannot execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`,e)}return this._ended}_truncateToLimitUtil(e,r){return e.length<=r?e:e.substring(0,r)}_truncateToSize(e){let r=this._attributeValueLengthLimit;return r<=0?(y.warn(`Attribute value limit must be positive, got ${r}`),e):typeof e=="string"?this._truncateToLimitUtil(e,r):Array.isArray(e)?e.map(n=>typeof n=="string"?this._truncateToLimitUtil(n,r):n):e}};var Ft;(function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Ft||(Ft={}));var Qt=class{shouldSample(){return{decision:Ft.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};var wt=class{shouldSample(){return{decision:Ft.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};var de=class{constructor(e){l(this,"_root");l(this,"_remoteParentSampled");l(this,"_remoteParentNotSampled");l(this,"_localParentSampled");l(this,"_localParentNotSampled");var r,n,o,i;this._root=e.root,this._root||(Ot(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new wt),this._remoteParentSampled=(r=e.remoteParentSampled)!=null?r:new wt,this._remoteParentNotSampled=(n=e.remoteParentNotSampled)!=null?n:new Qt,this._localParentSampled=(o=e.localParentSampled)!=null?o:new wt,this._localParentNotSampled=(i=e.localParentNotSampled)!=null?i:new Qt}shouldSample(e,r,n,o,i,s){let a=W.getSpanContext(e);return!a||!Bt(a)?this._root.shouldSample(e,r,n,o,i,s):a.isRemote?a.traceFlags&dt.SAMPLED?this._remoteParentSampled.shouldSample(e,r,n,o,i,s):this._remoteParentNotSampled.shouldSample(e,r,n,o,i,s):a.traceFlags&dt.SAMPLED?this._localParentSampled.shouldSample(e,r,n,o,i,s):this._localParentNotSampled.shouldSample(e,r,n,o,i,s)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};var $e=class{constructor(e=0){l(this,"_ratio");l(this,"_upperBound");this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(e,r){return{decision:Ar(r)&&this._accumulate(r)<this._upperBound?Ft.RECORD_AND_SAMPLED:Ft.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let r=0;for(let n=0;n<e.length/8;n++){let o=n*8,i=parseInt(e.slice(o,o+8),16);r=(r^i)>>>0}return r}};var It;(function(t){t.AlwaysOff="always_off",t.AlwaysOn="always_on",t.ParentBasedAlwaysOff="parentbased_always_off",t.ParentBasedAlwaysOn="parentbased_always_on",t.ParentBasedTraceIdRatio="parentbased_traceidratio",t.TraceIdRatio="traceidratio"})(It||(It={}));var Vr=1;function Fr(){var t,e,r,n,o,i,s,a;return{sampler:Gn(),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(t=void 0)!=null?t:1/0,attributeCountLimit:(e=void 0)!=null?e:128},spanLimits:{attributeValueLengthLimit:(r=void 0)!=null?r:1/0,attributeCountLimit:(n=void 0)!=null?n:128,linkCountLimit:(o=void 0)!=null?o:128,eventCountLimit:(i=void 0)!=null?i:128,attributePerEventCountLimit:(s=void 0)!=null?s:128,attributePerLinkCountLimit:(a=void 0)!=null?a:128}}}function Gn(){var e;let t=(e=void 0)!=null?e:It.ParentBasedAlwaysOn;switch(t){case It.AlwaysOn:return new wt;case It.AlwaysOff:return new Qt;case It.ParentBasedAlwaysOn:return new de({root:new wt});case It.ParentBasedAlwaysOff:return new de({root:new Qt});case It.TraceIdRatio:return new $e(ji());case It.ParentBasedTraceIdRatio:return new de({root:new $e(ji())});default:return y.error(`OTEL_TRACES_SAMPLER value "${t}" invalid, defaulting to "${It.ParentBasedAlwaysOn}".`),new de({root:new wt})}}function ji(){let t=void 0;return t==null?(y.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${Vr}.`),Vr):t<0||t>1?(y.error(`OTEL_TRACES_SAMPLER_ARG=${t} was given, but it is out of range ([0..1]), defaulting to ${Vr}.`),Vr):t}var ru=128,nu=1/0;function Zi(t){let e={sampler:Gn()},r=Fr(),n=Object.assign({},r,e,t);return n.generalLimits=Object.assign({},r.generalLimits,t.generalLimits||{}),n.spanLimits=Object.assign({},r.spanLimits,t.spanLimits||{}),n}function zi(t){var r,n,o,i,s,a,c,u,p,m,E,R;let e=Object.assign({},t.spanLimits);return e.attributeCountLimit=(a=(s=(i=(o=(r=t.spanLimits)==null?void 0:r.attributeCountLimit)!=null?o:(n=t.generalLimits)==null?void 0:n.attributeCountLimit)!=null?i:void 0)!=null?s:void 0)!=null?a:ru,e.attributeValueLengthLimit=(R=(E=(m=(p=(c=t.spanLimits)==null?void 0:c.attributeValueLengthLimit)!=null?p:(u=t.generalLimits)==null?void 0:u.attributeValueLengthLimit)!=null?m:void 0)!=null?E:void 0)!=null?R:nu,Object.assign({},t,{spanLimits:e})}var jr=class{constructor(e,r){l(this,"_maxExportBatchSize");l(this,"_maxQueueSize");l(this,"_scheduledDelayMillis");l(this,"_exportTimeoutMillis");l(this,"_exporter");l(this,"_isExporting",!1);l(this,"_finishedSpans",[]);l(this,"_timer");l(this,"_shutdownOnce");l(this,"_droppedSpansCount",0);var n,o,i,s;this._exporter=e,this._maxExportBatchSize=typeof(r==null?void 0:r.maxExportBatchSize)=="number"?r.maxExportBatchSize:(n=void 0)!=null?n:512,this._maxQueueSize=typeof(r==null?void 0:r.maxQueueSize)=="number"?r.maxQueueSize:(o=void 0)!=null?o:2048,this._scheduledDelayMillis=typeof(r==null?void 0:r.scheduledDelayMillis)=="number"?r.scheduledDelayMillis:(i=void 0)!=null?i:5e3,this._exportTimeoutMillis=typeof(r==null?void 0:r.exportTimeoutMillis)=="number"?r.exportTimeoutMillis:(s=void 0)!=null?s:3e4,this._shutdownOnce=new ze(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(y.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(e,r){}onEnd(e){this._shutdownOnce.isCalled||(e.spanContext().traceFlags&dt.SAMPLED)!==0&&this._addToBuffer(e)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(e){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&y.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(y.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()}_flushAll(){return new Promise((e,r)=>{let n=[],o=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let i=0,s=o;i<s;i++)n.push(this._flushOneBatch());Promise.all(n).then(()=>{e()}).catch(r)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((e,r)=>{let n=setTimeout(()=>{r(new Error("Timeout"))},this._exportTimeoutMillis);z.with(Nn(z.active()),()=>{let o;this._finishedSpans.length<=this._maxExportBatchSize?(o=this._finishedSpans,this._finishedSpans=[]):o=this._finishedSpans.splice(0,this._maxExportBatchSize);let i=()=>this._exporter.export(o,a=>{var c;clearTimeout(n),a.code===Tt.SUCCESS?e():r((c=a.error)!=null?c:new Error("BatchSpanProcessor: span export failed"))}),s=null;for(let a=0,c=o.length;a<c;a++){let u=o[a];u.resource.asyncAttributesPending&&u.resource.waitForAsyncAttributes&&(s!=null||(s=[]),s.push(u.resource.waitForAsyncAttributes()))}s===null?i():Promise.all(s).then(i,a=>{Ot(a),r(a)})})})}_maybeStartTimer(){if(this._isExporting)return;let e=()=>{this._isExporting=!0,this._flushOneBatch().finally(()=>{this._isExporting=!1,this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(r=>{this._isExporting=!1,Ot(r)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return e();this._timer===void 0&&(this._timer=setTimeout(()=>e(),this._scheduledDelayMillis),typeof this._timer!="number"&&this._timer.unref())}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};var Oe=class extends jr{constructor(r,n){super(r,n);l(this,"_visibilityChangeListener");l(this,"_pageHideListener");this.onInit(n)}onInit(r){(r==null?void 0:r.disableAutoFlushOnDocumentHide)!==!0&&typeof document!="undefined"&&(this._visibilityChangeListener=()=>{document.visibilityState==="hidden"&&this.forceFlush().catch(n=>{Ot(n)})},this._pageHideListener=()=>{this.forceFlush().catch(n=>{Ot(n)})},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))}onShutdown(){typeof document!="undefined"&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))}};var be=class{constructor(){l(this,"generateTraceId",Ki(16));l(this,"generateSpanId",Ki(8))}},Zr=Array(32);function Ki(t){return function(){for(let r=0;r<t*2;r++)Zr[r]=Math.floor(Math.random()*16)+48,Zr[r]>=58&&(Zr[r]+=39);return String.fromCharCode.apply(null,Zr.slice(0,t*2))}}var zr=class{constructor(e,r,n,o){l(this,"_sampler");l(this,"_generalLimits");l(this,"_spanLimits");l(this,"_idGenerator");l(this,"instrumentationScope");l(this,"_resource");l(this,"_spanProcessor");let i=Zi(r);this._sampler=i.sampler,this._generalLimits=i.generalLimits,this._spanLimits=i.spanLimits,this._idGenerator=r.idGenerator||new be,this._resource=n,this._spanProcessor=o,this.instrumentationScope=e}startSpan(e,r={},n=z.active()){var O,A,x;r.root&&(n=W.deleteSpan(n));let o=W.getSpan(n);if(se(n))return y.debug("Instrumentation suppressed, returning Noop Span"),W.wrapSpanContext(Ue);let i=o==null?void 0:o.spanContext(),s=this._idGenerator.generateSpanId(),a,c,u;!i||!W.isSpanContextValid(i)?c=this._idGenerator.generateTraceId():(c=i.traceId,u=i.traceState,a=i);let p=(O=r.kind)!=null?O:ie.INTERNAL,m=((A=r.links)!=null?A:[]).map(N=>({context:N.context,attributes:ce(N.attributes)})),E=ce(r.attributes),R=this._sampler.shouldSample(n,c,e,p,E,m);u=(x=R.traceState)!=null?x:u;let U=R.decision===Se.RECORD_AND_SAMPLED?dt.SAMPLED:dt.NONE,H={traceId:c,spanId:s,traceFlags:U,traceState:u};if(R.decision===Se.NOT_RECORD)return y.debug("Recording is off, propagating context in a non-recording span"),W.wrapSpanContext(H);let J=ce(Object.assign(E,R.attributes));return new Br({resource:this._resource,scope:this.instrumentationScope,context:n,spanContext:H,name:e,kind:p,links:m,parentSpanContext:a,attributes:J,startTime:r.startTime,spanProcessor:this._spanProcessor,spanLimits:this._spanLimits})}startActiveSpan(e,r,n,o){let i,s,a;if(arguments.length<2)return;arguments.length===2?a=r:arguments.length===3?(i=r,a=n):(i=r,s=n,a=o);let c=s!=null?s:z.active(),u=this.startSpan(e,i,c),p=W.setSpan(c,u);return z.with(p,a,void 0,u)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}};var Kr=class{constructor(e){l(this,"_spanProcessors");this._spanProcessors=e}forceFlush(){let e=[];for(let r of this._spanProcessors)e.push(r.forceFlush());return new Promise(r=>{Promise.all(e).then(()=>{r()}).catch(n=>{Ot(n||new Error("MultiSpanProcessor: forceFlush failed")),r()})})}onStart(e,r){for(let n of this._spanProcessors)n.onStart(e,r)}onEnding(e){for(let r of this._spanProcessors)r.onEnding&&r.onEnding(e)}onEnd(e){for(let r of this._spanProcessors)r.onEnd(e)}shutdown(){let e=[];for(let r of this._spanProcessors)e.push(r.shutdown());return new Promise((r,n)=>{Promise.all(e).then(()=>{r()},n)})}};var he;(function(t){t[t.resolved=0]="resolved",t[t.timeout=1]="timeout",t[t.error=2]="error",t[t.unresolved=3]="unresolved"})(he||(he={}));var We=class{constructor(e={}){l(this,"_config");l(this,"_tracers",new Map);l(this,"_resource");l(this,"_activeSpanProcessor");var o,i;let r=Mn({},Fr(),zi(e));this._resource=(o=r.resource)!=null?o:Un(),this._config=Object.assign({},r,{resource:this._resource});let n=[];(i=e.spanProcessors)!=null&&i.length&&n.push(...e.spanProcessors),this._activeSpanProcessor=new Kr(n)}getTracer(e,r,n){let o=`${e}@${r||""}:${(n==null?void 0:n.schemaUrl)||""}`;return this._tracers.has(o)||this._tracers.set(o,new zr({name:e,version:r,schemaUrl:n==null?void 0:n.schemaUrl},this._config,this._resource,this._activeSpanProcessor)),this._tracers.get(o)}forceFlush(){let e=this._config.forceFlushTimeoutMillis,r=this._activeSpanProcessor._spanProcessors.map(n=>new Promise(o=>{let i,s=setTimeout(()=>{o(new Error(`Span processor did not completed within timeout period of ${e} ms`)),i=he.timeout},e);n.forceFlush().then(()=>{clearTimeout(s),i!==he.timeout&&(i=he.resolved,o(i))}).catch(a=>{clearTimeout(s),i=he.error,o(a)})}));return new Promise((n,o)=>{Promise.all(r).then(i=>{let s=i.filter(a=>a!==he.resolved);s.length>0?o(s):n()}).catch(i=>o([i]))})}shutdown(){return this._activeSpanProcessor.shutdown()}};var $r=class{constructor(){l(this,"_enabled",!1);l(this,"_currentContext",_t)}_bindFunction(e=_t,r){let n=this,o=function(...i){return n.with(e,()=>r.apply(this,i))};return Object.defineProperty(o,"length",{enumerable:!1,configurable:!0,writable:!1,value:r.length}),o}active(){return this._currentContext}bind(e,r){return e===void 0&&(e=this.active()),typeof r=="function"?this._bindFunction(e,r):r}disable(){return this._currentContext=_t,this._enabled=!1,this}enable(){return this._enabled?this:(this._enabled=!0,this._currentContext=_t,this)}with(e,r,n,...o){let i=this._currentContext;this._currentContext=e||_t;try{return r.call(n,...o)}finally{this._currentContext=i}}};function ou(t){if(t!==null){if(t===void 0){let e=new $r;e.enable(),z.setGlobalContextManager(e);return}t.enable(),z.setGlobalContextManager(t)}}function iu(t){if(t!==null){if(t===void 0){pt.setGlobalPropagator(new le({propagators:[new pe,new ae]}));return}pt.setGlobalPropagator(t)}}var Ye=class extends We{constructor(e={}){super(e)}register(e={}){W.setGlobalTracerProvider(this),iu(e.propagator),ou(e.contextManager)}};var k;(function(t){t.CONNECT_END="connectEnd",t.CONNECT_START="connectStart",t.DECODED_BODY_SIZE="decodedBodySize",t.DOM_COMPLETE="domComplete",t.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",t.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",t.DOM_INTERACTIVE="domInteractive",t.DOMAIN_LOOKUP_END="domainLookupEnd",t.DOMAIN_LOOKUP_START="domainLookupStart",t.ENCODED_BODY_SIZE="encodedBodySize",t.FETCH_START="fetchStart",t.LOAD_EVENT_END="loadEventEnd",t.LOAD_EVENT_START="loadEventStart",t.NAVIGATION_START="navigationStart",t.REDIRECT_END="redirectEnd",t.REDIRECT_START="redirectStart",t.REQUEST_START="requestStart",t.RESPONSE_END="responseEnd",t.RESPONSE_START="responseStart",t.SECURE_CONNECTION_START="secureConnectionStart",t.START_TIME="startTime",t.UNLOAD_EVENT_END="unloadEventEnd",t.UNLOAD_EVENT_START="unloadEventStart"})(k||(k={}));var $i="http.response_content_length",Wi="http.response_content_length_uncompressed";var Bn;function su(){return Bn||(Bn=document.createElement("a")),Bn}function jt(t,e){return e in t}function ot(t,e,r,n=!0){if(jt(r,e)&&typeof r[e]=="number"&&!(n&&r[e]===0))return t.addEvent(e,r[e])}function me(t,e,r=!1,n,o){if(n===void 0&&(n=e[k.START_TIME]!==0),r||(ot(t,k.FETCH_START,e,n),ot(t,k.DOMAIN_LOOKUP_START,e,n),ot(t,k.DOMAIN_LOOKUP_END,e,n),ot(t,k.CONNECT_START,e,n),ot(t,k.SECURE_CONNECTION_START,e,n),ot(t,k.CONNECT_END,e,n),ot(t,k.REQUEST_START,e,n),ot(t,k.RESPONSE_START,e,n),ot(t,k.RESPONSE_END,e,n)),!o){let i=e[k.ENCODED_BODY_SIZE];i!==void 0&&t.setAttribute($i,i);let s=e[k.DECODED_BODY_SIZE];s!==void 0&&i!==s&&t.setAttribute(Wi,s)}}function Yi(t){return t.slice().sort((e,r)=>{let n=e[k.FETCH_START],o=r[k.FETCH_START];return n>o?1:n<o?-1:0})}function Xi(){return typeof location!="undefined"?location.origin:void 0}function Vn(t,e,r,n,o=new WeakSet,i){let s=Zt(t);t=s.toString();let a=cu(t,e,r,n,o,i);if(a.length===0)return{mainRequest:void 0};if(a.length===1)return{mainRequest:a[0]};let c=Yi(a);if(s.origin!==Xi()&&c.length>1){let u=c[0],p=au(c,u[k.RESPONSE_END],r),m=u[k.RESPONSE_END];return p[k.FETCH_START]<m&&(p=u,u=void 0),{corsPreFlightRequest:u,mainRequest:p}}else return{mainRequest:a[0]}}function au(t,e,r){let n=Et(r),o=Et(ue(e)),i=t[1],s,a=t.length;for(let c=1;c<a;c++){let u=t[c],p=Et(ue(u[k.FETCH_START])),m=Et(ue(u[k.RESPONSE_END])),E=n-m;p>=o&&(!s||E<s)&&(s=E,i=u)}return i}function cu(t,e,r,n,o,i){let s=Et(e),a=Et(r),c=n.filter(u=>{let p=Et(ue(u[k.FETCH_START])),m=Et(ue(u[k.RESPONSE_END]));return u.initiatorType.toLowerCase()===(i||"xmlhttprequest")&&u.name===t&&p>=s&&m<=a});return c.length>0&&(c=c.filter(u=>!o.has(u))),c}function Zt(t){if(typeof URL=="function")return new URL(t,typeof document!="undefined"?document.baseURI:typeof location!="undefined"?location.href:void 0);let e=su();return e.href=t,e}function Wr(t,e){if(t.nodeType===Node.DOCUMENT_NODE)return"/";let r=lu(t,e);if(e&&r.indexOf("@id")>0)return r;let n="";return t.parentNode&&(n+=Wr(t.parentNode,!1)),n+=r,n}function uu(t){if(!t.parentNode)return 0;let e=[t.nodeType];t.nodeType===Node.CDATA_SECTION_NODE&&e.push(Node.TEXT_NODE);let r=Array.from(t.parentNode.childNodes);return r=r.filter(n=>{let o=n.localName;return e.indexOf(n.nodeType)>=0&&o===t.localName}),r.length>=1?r.indexOf(t)+1:0}function lu(t,e){let r=t.nodeType,n=uu(t),o="";if(r===Node.ELEMENT_NODE){let i=t.getAttribute("id");if(e&&i)return`//*[@id="${i}"]`;o=t.localName}else if(r===Node.TEXT_NODE||r===Node.CDATA_SECTION_NODE)o="text()";else if(r===Node.COMMENT_NODE)o="comment()";else return"";return o&&n>1?`/${o}[${n}]`:`/${o}`}function Fn(t,e){let r=e||[];return(typeof r=="string"||r instanceof RegExp)&&(r=[r]),Zt(t).origin===Xi()?!0:r.some(o=>kr(t,o))}function qi(t){return typeof t=="object"&&t!==null&&"addEventListener"in t&&typeof t.addEventListener=="function"&&"removeEventListener"in t&&typeof t.removeEventListener=="function"}var Qi="OT_ZONE_CONTEXT",xe=class{constructor(){l(this,"_enabled",!1);l(this,"_zoneCounter",0)}_activeContextFromZone(e){return e&&e.get(Qi)||_t}_bindFunction(e,r){let n=this,o=function(...i){return n.with(e,()=>r.apply(this,i))};return Object.defineProperty(o,"length",{enumerable:!1,configurable:!0,writable:!1,value:r.length}),o}_bindListener(e,r){let n=r;return n.__ot_listeners!==void 0||(n.__ot_listeners={},typeof n.addEventListener=="function"&&(n.addEventListener=this._patchAddEventListener(n,n.addEventListener,e)),typeof n.removeEventListener=="function"&&(n.removeEventListener=this._patchRemoveEventListener(n,n.removeEventListener))),r}_createZoneName(){this._zoneCounter++;let e=Math.random();return`${this._zoneCounter}-${e}`}_createZone(e,r){return Zone.current.fork({name:e,properties:{[Qi]:r}})}_getActiveZone(){return Zone.current}_patchAddEventListener(e,r,n){let o=this;return function(i,s,a){e.__ot_listeners===void 0&&(e.__ot_listeners={});let c=e.__ot_listeners[i];c===void 0&&(c=new WeakMap,e.__ot_listeners[i]=c);let u=o.bind(n,s);return c.set(s,u),r.call(this,i,u,a)}}_patchRemoveEventListener(e,r){return function(n,o){if(e.__ot_listeners===void 0||e.__ot_listeners[n]===void 0)return r.call(this,n,o);let i=e.__ot_listeners[n],s=i.get(o);return i.delete(o),r.call(this,n,s||o)}}active(){if(!this._enabled)return _t;let e=this._getActiveZone(),r=this._activeContextFromZone(e);return r||_t}bind(e,r){return e===void 0&&(e=this.active()),typeof r=="function"?this._bindFunction(e,r):(qi(r)&&this._bindListener(e,r),r)}disable(){return this._enabled=!1,this}enable(){return this._enabled=!0,this}with(e,r,n,...o){let i=this._createZoneName();return this._createZone(i,e).run(r,n,o)}};var pu=Object.defineProperty,fu=Object.defineProperties,_u=Object.getOwnPropertyDescriptors,Ji=Object.getOwnPropertySymbols,du=Object.prototype.hasOwnProperty,hu=Object.prototype.propertyIsEnumerable,zn=(t,e,r)=>e in t?pu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ts=(t,e)=>{for(var r in e||(e={}))du.call(e,r)&&zn(t,r,e[r]);if(Ji)for(var r of Ji(e))hu.call(e,r)&&zn(t,r,e[r]);return t},mu=(t,e)=>fu(t,_u(e)),B=(t,e,r)=>(zn(t,typeof e!="symbol"?e+"":e,r),r),Dt=globalThis;function gt(t){return(Dt.__Zone_symbol_prefix||"__zone_symbol__")+t}function Tu(){let t=Dt.performance;function e(X){t&&t.mark&&t.mark(X)}function r(X,d){t&&t.measure&&t.measure(X,d)}e("Zone");let n=class Kn{constructor(d,_){B(this,"_parent"),B(this,"_name"),B(this,"_properties"),B(this,"_zoneDelegate"),this._parent=d,this._name=_?_.name||"unnamed":"<root>",this._properties=_&&_.properties||{},this._zoneDelegate=new s(this,this._parent&&this._parent._zoneDelegate,_)}static assertZonePatched(){if(Dt.Promise!==D.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let d=Kn.current;for(;d.parent;)d=d.parent;return d}static get current(){return P.zone}static get currentTask(){return ct}static __load_patch(d,_,f=!1){if(D.hasOwnProperty(d)){let C=Dt[gt("forceDuplicateZoneCheck")]===!0;if(!f&&C)throw Error("Already loaded patch: "+d)}else if(!Dt["__Zone_disable_"+d]){let C="Zone:"+d;e(C),D[d]=_(Dt,Kn,M),r(C,C)}}get parent(){return this._parent}get name(){return this._name}get(d){let _=this.getZoneWith(d);if(_)return _._properties[d]}getZoneWith(d){let _=this;for(;_;){if(_._properties.hasOwnProperty(d))return _;_=_._parent}return null}fork(d){if(!d)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,d)}wrap(d,_){if(typeof d!="function")throw new Error("Expecting function got: "+d);let f=this._zoneDelegate.intercept(this,d,_),C=this;return function(){return C.runGuarded(f,this,arguments,_)}}run(d,_,f,C){P={parent:P,zone:this};try{return this._zoneDelegate.invoke(this,d,_,f,C)}finally{P=P.parent}}runGuarded(d,_=null,f,C){P={parent:P,zone:this};try{try{return this._zoneDelegate.invoke(this,d,_,f,C)}catch(q){if(this._zoneDelegate.handleError(this,q))throw q}}finally{P=P.parent}}runTask(d,_,f){if(d.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(d.zone||$).name+"; Execution: "+this.name+")");let C=d,{type:q,data:{isPeriodic:K=!1,isRefreshable:xt=!1}={}}=d;if(d.state===O&&(q===G||q===tt))return;let Ut=d.state!=N;Ut&&C._transitionTo(N,x);let Ht=ct;ct=C,P={parent:P,zone:this};try{q==tt&&d.data&&!K&&!xt&&(d.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,C,_,f)}catch(At){if(this._zoneDelegate.handleError(this,At))throw At}}finally{let At=d.state;if(At!==O&&At!==I)if(q==G||K||xt&&At===A)Ut&&C._transitionTo(x,N,A);else{let S=C._zoneDelegates;this._updateTaskCount(C,-1),Ut&&C._transitionTo(O,N,O),xt&&(C._zoneDelegates=S)}P=P.parent,ct=Ht}}scheduleTask(d){if(d.zone&&d.zone!==this){let f=this;for(;f;){if(f===d.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${d.zone.name}`);f=f.parent}}d._transitionTo(A,O);let _=[];d._zoneDelegates=_,d._zone=this;try{d=this._zoneDelegate.scheduleTask(this,d)}catch(f){throw d._transitionTo(I,A,O),this._zoneDelegate.handleError(this,f),f}return d._zoneDelegates===_&&this._updateTaskCount(d,1),d.state==A&&d._transitionTo(x,A),d}scheduleMicroTask(d,_,f,C){return this.scheduleTask(new a(v,d,_,f,C,void 0))}scheduleMacroTask(d,_,f,C,q){return this.scheduleTask(new a(tt,d,_,f,C,q))}scheduleEventTask(d,_,f,C,q){return this.scheduleTask(new a(G,d,_,f,C,q))}cancelTask(d){if(d.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(d.zone||$).name+"; Execution: "+this.name+")");if(!(d.state!==x&&d.state!==N)){d._transitionTo(Z,x,N);try{this._zoneDelegate.cancelTask(this,d)}catch(_){throw d._transitionTo(I,Z),this._zoneDelegate.handleError(this,_),_}return this._updateTaskCount(d,-1),d._transitionTo(O,Z),d.runCount=-1,d}}_updateTaskCount(d,_){let f=d._zoneDelegates;_==-1&&(d._zoneDelegates=null);for(let C=0;C<f.length;C++)f[C]._updateTaskCount(d.type,_)}};B(n,"__symbol__",gt);let o=n,i={name:"",onHasTask:(X,d,_,f)=>X.hasTask(_,f),onScheduleTask:(X,d,_,f)=>X.scheduleTask(_,f),onInvokeTask:(X,d,_,f,C,q)=>X.invokeTask(_,f,C,q),onCancelTask:(X,d,_,f)=>X.cancelTask(_,f)};class s{constructor(d,_,f){B(this,"_zone"),B(this,"_taskCounts",{microTask:0,macroTask:0,eventTask:0}),B(this,"_parentDelegate"),B(this,"_forkDlgt"),B(this,"_forkZS"),B(this,"_forkCurrZone"),B(this,"_interceptDlgt"),B(this,"_interceptZS"),B(this,"_interceptCurrZone"),B(this,"_invokeDlgt"),B(this,"_invokeZS"),B(this,"_invokeCurrZone"),B(this,"_handleErrorDlgt"),B(this,"_handleErrorZS"),B(this,"_handleErrorCurrZone"),B(this,"_scheduleTaskDlgt"),B(this,"_scheduleTaskZS"),B(this,"_scheduleTaskCurrZone"),B(this,"_invokeTaskDlgt"),B(this,"_invokeTaskZS"),B(this,"_invokeTaskCurrZone"),B(this,"_cancelTaskDlgt"),B(this,"_cancelTaskZS"),B(this,"_cancelTaskCurrZone"),B(this,"_hasTaskDlgt"),B(this,"_hasTaskDlgtOwner"),B(this,"_hasTaskZS"),B(this,"_hasTaskCurrZone"),this._zone=d,this._parentDelegate=_,this._forkZS=f&&(f&&f.onFork?f:_._forkZS),this._forkDlgt=f&&(f.onFork?_:_._forkDlgt),this._forkCurrZone=f&&(f.onFork?this._zone:_._forkCurrZone),this._interceptZS=f&&(f.onIntercept?f:_._interceptZS),this._interceptDlgt=f&&(f.onIntercept?_:_._interceptDlgt),this._interceptCurrZone=f&&(f.onIntercept?this._zone:_._interceptCurrZone),this._invokeZS=f&&(f.onInvoke?f:_._invokeZS),this._invokeDlgt=f&&(f.onInvoke?_:_._invokeDlgt),this._invokeCurrZone=f&&(f.onInvoke?this._zone:_._invokeCurrZone),this._handleErrorZS=f&&(f.onHandleError?f:_._handleErrorZS),this._handleErrorDlgt=f&&(f.onHandleError?_:_._handleErrorDlgt),this._handleErrorCurrZone=f&&(f.onHandleError?this._zone:_._handleErrorCurrZone),this._scheduleTaskZS=f&&(f.onScheduleTask?f:_._scheduleTaskZS),this._scheduleTaskDlgt=f&&(f.onScheduleTask?_:_._scheduleTaskDlgt),this._scheduleTaskCurrZone=f&&(f.onScheduleTask?this._zone:_._scheduleTaskCurrZone),this._invokeTaskZS=f&&(f.onInvokeTask?f:_._invokeTaskZS),this._invokeTaskDlgt=f&&(f.onInvokeTask?_:_._invokeTaskDlgt),this._invokeTaskCurrZone=f&&(f.onInvokeTask?this._zone:_._invokeTaskCurrZone),this._cancelTaskZS=f&&(f.onCancelTask?f:_._cancelTaskZS),this._cancelTaskDlgt=f&&(f.onCancelTask?_:_._cancelTaskDlgt),this._cancelTaskCurrZone=f&&(f.onCancelTask?this._zone:_._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;let C=f&&f.onHasTask,q=_&&_._hasTaskZS;(C||q)&&(this._hasTaskZS=C?f:i,this._hasTaskDlgt=_,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=this._zone,f.onScheduleTask||(this._scheduleTaskZS=i,this._scheduleTaskDlgt=_,this._scheduleTaskCurrZone=this._zone),f.onInvokeTask||(this._invokeTaskZS=i,this._invokeTaskDlgt=_,this._invokeTaskCurrZone=this._zone),f.onCancelTask||(this._cancelTaskZS=i,this._cancelTaskDlgt=_,this._cancelTaskCurrZone=this._zone))}get zone(){return this._zone}fork(d,_){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,d,_):new o(d,_)}intercept(d,_,f){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,d,_,f):_}invoke(d,_,f,C,q){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,d,_,f,C,q):_.apply(f,C)}handleError(d,_){return this._handleErrorZS?this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,d,_):!0}scheduleTask(d,_){let f=_;if(this._scheduleTaskZS)this._hasTaskZS&&f._zoneDelegates.push(this._hasTaskDlgtOwner),f=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,d,_),f||(f=_);else if(_.scheduleFn)_.scheduleFn(_);else if(_.type==v)H(_);else throw new Error("Task is missing scheduleFn.");return f}invokeTask(d,_,f,C){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,d,_,f,C):_.callback.apply(f,C)}cancelTask(d,_){let f;if(this._cancelTaskZS)f=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,d,_);else{if(!_.cancelFn)throw Error("Task is not cancelable");f=_.cancelFn(_)}return f}hasTask(d,_){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,d,_)}catch(f){this.handleError(d,f)}}_updateTaskCount(d,_){let f=this._taskCounts,C=f[d],q=f[d]=C+_;if(q<0)throw new Error("More tasks executed then were scheduled.");if(C==0||q==0){let K={microTask:f.microTask>0,macroTask:f.macroTask>0,eventTask:f.eventTask>0,change:d};this.hasTask(this._zone,K)}}}class a{constructor(d,_,f,C,q,K){if(B(this,"type"),B(this,"source"),B(this,"invoke"),B(this,"callback"),B(this,"data"),B(this,"scheduleFn"),B(this,"cancelFn"),B(this,"_zone",null),B(this,"runCount",0),B(this,"_zoneDelegates",null),B(this,"_state","notScheduled"),this.type=d,this.source=_,this.data=C,this.scheduleFn=q,this.cancelFn=K,!f)throw new Error("callback is not defined");this.callback=f;let xt=this;d===G&&C&&C.useG?this.invoke=a.invokeTask:this.invoke=function(){return a.invokeTask.call(Dt,xt,this,arguments)}}static invokeTask(d,_,f){d||(d=this),ut++;try{return d.runCount++,d.zone.runTask(d,_,f)}finally{ut==1&&J(),ut--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(O,A)}_transitionTo(d,_,f){if(this._state===_||this._state===f)this._state=d,d==O&&(this._zoneDelegates=null);else throw new Error(`${this.type} '${this.source}': can not transition to '${d}', expecting state '${_}'${f?" or '"+f+"'":""}, was '${this._state}'.`)}toString(){return this.data&&typeof this.data.handleId!="undefined"?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}let c=gt("setTimeout"),u=gt("Promise"),p=gt("then"),m=[],E=!1,R;function U(X){if(R||Dt[u]&&(R=Dt[u].resolve(0)),R){let d=R[p];d||(d=R.then),d.call(R,X)}else Dt[c](X,0)}function H(X){ut===0&&m.length===0&&U(J),X&&m.push(X)}function J(){if(!E){for(E=!0;m.length;){let X=m;m=[];for(let d=0;d<X.length;d++){let _=X[d];try{_.zone.runTask(_,null,null)}catch(f){M.onUnhandledError(f)}}}M.microtaskDrainDone(),E=!1}}let $={name:"NO ZONE"},O="notScheduled",A="scheduling",x="scheduled",N="running",Z="canceling",I="unknown",v="microTask",tt="macroTask",G="eventTask",D={},M={symbol:gt,currentZoneFrame:()=>P,onUnhandledError:Q,microtaskDrainDone:Q,scheduleMicroTask:H,showUncaughtError:()=>!o[gt("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:Q,patchMethod:()=>Q,bindArguments:()=>[],patchThen:()=>Q,patchMacroTask:()=>Q,patchEventPrototype:()=>Q,getGlobalObjects:()=>{},ObjectDefineProperty:()=>Q,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>Q,wrapWithCurrentZone:()=>Q,filterProperties:()=>[],attachOriginToPatched:()=>Q,_redefineProperty:()=>Q,patchCallbacks:()=>Q,nativeScheduleMicroTask:U},P={parent:null,zone:new o(null,null)},ct=null,ut=0;function Q(){}return r("Zone","Zone"),o}function Eu(){var t;let e=globalThis,r=e[gt("forceDuplicateZoneCheck")]===!0;if(e.Zone&&(r||typeof e.Zone.__symbol__!="function"))throw new Error("Zone already loaded.");return(t=e.Zone)!=null||(e.Zone=Tu()),e.Zone}var qe=Object.getOwnPropertyDescriptor,Wn=Object.defineProperty,Yn=Object.getPrototypeOf,gu=Object.create,Su=Array.prototype.slice,Xn="addEventListener",qn="removeEventListener",jn=gt(Xn),Zn=gt(qn),zt="true",Kt="false",Qe=gt("");function Qn(t,e){return Zone.current.wrap(t,e)}function Jn(t,e,r,n,o){return Zone.current.scheduleMacroTask(t,e,r,n,o)}var Y=gt,qr=typeof window!="undefined",Qr=qr?window:void 0,at=qr&&Qr||globalThis,Au="removeAttribute";function to(t,e){for(let r=t.length-1;r>=0;r--)typeof t[r]=="function"&&(t[r]=Qn(t[r],e+"_"+r));return t}function Ru(t,e){let r=t.constructor.name;for(let n=0;n<e.length;n++){let o=e[n],i=t[o];if(i){let s=qe(t,o);if(!ss(s))continue;t[o]=(a=>{let c=function(){return a.apply(this,to(arguments,r+"."+o))};return Wt(c,a),c})(i)}}}function ss(t){return t?t.writable===!1?!1:!(typeof t.get=="function"&&typeof t.set=="undefined"):!0}var as=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope,Jr=!("nw"in at)&&typeof at.process!="undefined"&&at.process.toString()==="[object process]",eo=!Jr&&!as&&!!(qr&&Qr.HTMLElement),cs=typeof at.process!="undefined"&&at.process.toString()==="[object process]"&&!as&&!!(qr&&Qr.HTMLElement),Xr={},yu=Y("enable_beforeunload"),es=function(t){if(t=t||at.event,!t)return;let e=Xr[t.type];e||(e=Xr[t.type]=Y("ON_PROPERTY"+t.type));let r=this||t.target||at,n=r[e],o;if(eo&&r===Qr&&t.type==="error"){let i=t;o=n&&n.call(this,i.message,i.filename,i.lineno,i.colno,i.error),o===!0&&t.preventDefault()}else o=n&&n.apply(this,arguments),t.type==="beforeunload"&&at[yu]&&typeof o=="string"?t.returnValue=o:o!=null&&!o&&t.preventDefault();return o};function rs(t,e,r){let n=qe(t,e);if(!n&&r&&qe(r,e)&&(n={enumerable:!0,configurable:!0}),!n||!n.configurable)return;let o=Y("on"+e+"patched");if(t.hasOwnProperty(o)&&t[o])return;delete n.writable,delete n.value;let i=n.get,s=n.set,a=e.slice(2),c=Xr[a];c||(c=Xr[a]=Y("ON_PROPERTY"+a)),n.set=function(u){let p=this;if(!p&&t===at&&(p=at),!p)return;typeof p[c]=="function"&&p.removeEventListener(a,es),s==null||s.call(p,null),p[c]=u,typeof u=="function"&&p.addEventListener(a,es,!1)},n.get=function(){let u=this;if(!u&&t===at&&(u=at),!u)return null;let p=u[c];if(p)return p;if(i){let m=i.call(this);if(m)return n.set.call(this,m),typeof u[Au]=="function"&&u.removeAttribute(e),m}return null},Wn(t,e,n),t[o]=!0}function us(t,e,r){if(e)for(let n=0;n<e.length;n++)rs(t,"on"+e[n],r);else{let n=[];for(let o in t)o.slice(0,2)=="on"&&n.push(o);for(let o=0;o<n.length;o++)rs(t,n[o],r)}}var bt=Y("originalInstance");function Xe(t){let e=at[t];if(!e)return;at[Y(t)]=e,at[t]=function(){let o=to(arguments,t);switch(o.length){case 0:this[bt]=new e;break;case 1:this[bt]=new e(o[0]);break;case 2:this[bt]=new e(o[0],o[1]);break;case 3:this[bt]=new e(o[0],o[1],o[2]);break;case 4:this[bt]=new e(o[0],o[1],o[2],o[3]);break;default:throw new Error("Arg list too long.")}},Wt(at[t],e);let r=new e(function(){}),n;for(n in r)t==="XMLHttpRequest"&&n==="responseBlob"||(function(o){typeof r[o]=="function"?at[t].prototype[o]=function(){return this[bt][o].apply(this[bt],arguments)}:Wn(at[t].prototype,o,{set:function(i){typeof i=="function"?(this[bt][o]=Qn(i,t+"."+o),Wt(this[bt][o],i)):this[bt][o]=i},get:function(){return this[bt][o]}})})(n);for(n in e)n!=="prototype"&&e.hasOwnProperty(n)&&(at[t][n]=e[n])}function vu(t,e){if(typeof Object.getOwnPropertySymbols!="function")return;Object.getOwnPropertySymbols(t).forEach(n=>{let o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,{get:function(){return t[n]},set:function(i){o&&(!o.writable||typeof o.set!="function")||(t[n]=i)},enumerable:o?o.enumerable:!0,configurable:o?o.configurable:!0})})}var Ou=!1;function $t(t,e,r){let n=t;for(;n&&!n.hasOwnProperty(e);)n=Yn(n);!n&&t[e]&&(n=t);let o=Y(e),i=null;if(n&&(!(i=n[o])||!n.hasOwnProperty(o))){i=n[o]=n[e];let s=n&&qe(n,e);if(ss(s)){let a=r(i,o,e);n[e]=function(){return a(this,arguments)},Wt(n[e],i),Ou&&vu(i,n[e])}}return i}function bu(t,e,r){let n=null;function o(i){let s=i.data;return s.args[s.cbIdx]=function(){i.invoke.apply(this,arguments)},n.apply(s.target,s.args),i}n=$t(t,e,i=>function(s,a){let c=r(s,a);return c.cbIdx>=0&&typeof a[c.cbIdx]=="function"?Jn(c.name,a[c.cbIdx],c,o):i.apply(s,a)})}function Wt(t,e){t[Y("OriginalDelegate")]=e}function ns(t){return typeof t=="function"}function os(t){return typeof t=="number"}var xu={useG:!0},St={},ls={},ps=new RegExp("^"+Qe+"(\\w+)(true|false)$"),fs=Y("propagationStopped");function _s(t,e){let r=(e?e(t):t)+Kt,n=(e?e(t):t)+zt,o=Qe+r,i=Qe+n;St[t]={},St[t][Kt]=o,St[t][zt]=i}function Nu(t,e,r,n){let o=n&&n.add||Xn,i=n&&n.rm||qn,s=n&&n.listeners||"eventListeners",a=n&&n.rmAll||"removeAllListeners",c=Y(o),u="."+o+":",p="prependListener",m="."+p+":",E=function(O,A,x){if(O.isRemoved)return;let N=O.callback;typeof N=="object"&&N.handleEvent&&(O.callback=v=>N.handleEvent(v),O.originalDelegate=N);let Z;try{O.invoke(O,A,[x])}catch(v){Z=v}let I=O.options;if(I&&typeof I=="object"&&I.once){let v=O.originalDelegate?O.originalDelegate:O.callback;A[i].call(A,x.type,v,I)}return Z};function R(O,A,x){if(A=A||t.event,!A)return;let N=O||A.target||t,Z=N[St[A.type][x?zt:Kt]];if(Z){let I=[];if(Z.length===1){let v=E(Z[0],N,A);v&&I.push(v)}else{let v=Z.slice();for(let tt=0;tt<v.length&&!(A&&A[fs]===!0);tt++){let G=E(v[tt],N,A);G&&I.push(G)}}if(I.length===1)throw I[0];for(let v=0;v<I.length;v++){let tt=I[v];e.nativeScheduleMicroTask(()=>{throw tt})}}}let U=function(O){return R(this,O,!1)},H=function(O){return R(this,O,!0)};function J(O,A){if(!O)return!1;let x=!0;A&&A.useG!==void 0&&(x=A.useG);let N=A&&A.vh,Z=!0;A&&A.chkDup!==void 0&&(Z=A.chkDup);let I=!1;A&&A.rt!==void 0&&(I=A.rt);let v=O;for(;v&&!v.hasOwnProperty(o);)v=Yn(v);if(!v&&O[o]&&(v=O),!v||v[c])return!1;let tt=A&&A.eventNameToString,G={},D=v[c]=v[o],M=v[Y(i)]=v[i],P=v[Y(s)]=v[s],ct=v[Y(a)]=v[a],ut;A&&A.prepend&&(ut=v[Y(A.prepend)]=v[A.prepend]);function Q(h,g){return g?typeof h=="boolean"?{capture:h,passive:!0}:h?typeof h=="object"&&h.passive!==!1?mu(ts({},h),{passive:!0}):h:{passive:!0}:h}let X=function(h){if(!G.isExisting)return D.call(G.target,G.eventName,G.capture?H:U,G.options)},d=function(h){if(!h.isRemoved){let g=St[h.eventName],L;g&&(L=g[h.capture?zt:Kt]);let w=L&&h.target[L];if(w){for(let b=0;b<w.length;b++)if(w[b]===h){w.splice(b,1),h.isRemoved=!0,h.removeAbortListener&&(h.removeAbortListener(),h.removeAbortListener=null),w.length===0&&(h.allRemoved=!0,h.target[L]=null);break}}}if(h.allRemoved)return M.call(h.target,h.eventName,h.capture?H:U,h.options)},_=function(h){return D.call(G.target,G.eventName,h.invoke,G.options)},f=function(h){return ut.call(G.target,G.eventName,h.invoke,G.options)},C=function(h){return M.call(h.target,h.eventName,h.invoke,h.options)},q=x?X:_,K=x?d:C,xt=function(h,g){let L=typeof g;return L==="function"&&h.callback===g||L==="object"&&h.originalDelegate===g},Ut=(A==null?void 0:A.diff)||xt,Ht=Zone[Y("UNPATCHED_EVENTS")],At=t[Y("PASSIVE_EVENTS")];function S(h){if(typeof h=="object"&&h!==null){let g=ts({},h);return h.signal&&(g.signal=h.signal),g}return h}let T=function(h,g,L,w,b=!1,V=!1){return function(){let F=this||t,j=arguments[0];A&&A.transferEventName&&(j=A.transferEventName(j));let et=arguments[1];if(!et)return h.apply(this,arguments);if(Jr&&j==="uncaughtException")return h.apply(this,arguments);let rt=!1;if(typeof et!="function"){if(!et.handleEvent)return h.apply(this,arguments);rt=!0}if(N&&!N(h,et,F,arguments))return;let Yt=!!At&&At.indexOf(j)!==-1,Rt=S(Q(arguments[2],Yt)),re=Rt==null?void 0:Rt.signal;if(re!=null&&re.aborted)return;if(Ht){for(let Nt=0;Nt<Ht.length;Nt++)if(j===Ht[Nt])return Yt?h.call(F,j,et,Rt):h.apply(this,arguments)}let hn=Rt?typeof Rt=="boolean"?!0:Rt.capture:!1,wo=Rt&&typeof Rt=="object"?Rt.once:!1,Ca=Zone.current,mn=St[j];mn||(_s(j,tt),mn=St[j]);let Io=mn[hn?zt:Kt],ge=F[Io],Do=!1;if(ge){if(Do=!0,Z){for(let Nt=0;Nt<ge.length;Nt++)if(Ut(ge[Nt],et))return}}else ge=F[Io]=[];let hr,Mo=F.constructor.name,ko=ls[Mo];ko&&(hr=ko[j]),hr||(hr=Mo+g+(tt?tt(j):j)),G.options=Rt,wo&&(G.options.once=!1),G.target=F,G.capture=hn,G.eventName=j,G.isExisting=Do;let Ie=x?xu:void 0;Ie&&(Ie.taskData=G),re&&(G.options.signal=void 0);let yt=Ca.scheduleEventTask(hr,et,Ie,L,w);if(re){G.options.signal=re;let Nt=()=>yt.zone.cancelTask(yt);h.call(re,"abort",Nt,{once:!0}),yt.removeAbortListener=()=>re.removeEventListener("abort",Nt)}if(G.target=null,Ie&&(Ie.taskData=null),wo&&(G.options.once=!0),typeof yt.options!="boolean"&&(yt.options=Rt),yt.target=F,yt.capture=hn,yt.eventName=j,rt&&(yt.originalDelegate=et),V?ge.unshift(yt):ge.push(yt),b)return F}};return v[o]=T(D,u,q,K,I),ut&&(v[p]=T(ut,m,f,K,I,!0)),v[i]=function(){let h=this||t,g=arguments[0];A&&A.transferEventName&&(g=A.transferEventName(g));let L=arguments[2],w=L?typeof L=="boolean"?!0:L.capture:!1,b=arguments[1];if(!b)return M.apply(this,arguments);if(N&&!N(M,b,h,arguments))return;let V=St[g],F;V&&(F=V[w?zt:Kt]);let j=F&&h[F];if(j)for(let et=0;et<j.length;et++){let rt=j[et];if(Ut(rt,b)){if(j.splice(et,1),rt.isRemoved=!0,j.length===0&&(rt.allRemoved=!0,h[F]=null,!w&&typeof g=="string")){let Yt=Qe+"ON_PROPERTY"+g;h[Yt]=null}return rt.zone.cancelTask(rt),I?h:void 0}}return M.apply(this,arguments)},v[s]=function(){let h=this||t,g=arguments[0];A&&A.transferEventName&&(g=A.transferEventName(g));let L=[],w=ds(h,tt?tt(g):g);for(let b=0;b<w.length;b++){let V=w[b],F=V.originalDelegate?V.originalDelegate:V.callback;L.push(F)}return L},v[a]=function(){let h=this||t,g=arguments[0];if(g){A&&A.transferEventName&&(g=A.transferEventName(g));let L=St[g];if(L){let w=L[Kt],b=L[zt],V=h[w],F=h[b];if(V){let j=V.slice();for(let et=0;et<j.length;et++){let rt=j[et],Yt=rt.originalDelegate?rt.originalDelegate:rt.callback;this[i].call(this,g,Yt,rt.options)}}if(F){let j=F.slice();for(let et=0;et<j.length;et++){let rt=j[et],Yt=rt.originalDelegate?rt.originalDelegate:rt.callback;this[i].call(this,g,Yt,rt.options)}}}}else{let L=Object.keys(h);for(let w=0;w<L.length;w++){let b=L[w],V=ps.exec(b),F=V&&V[1];F&&F!=="removeListener"&&this[a].call(this,F)}this[a].call(this,"removeListener")}if(I)return this},Wt(v[o],D),Wt(v[i],M),ct&&Wt(v[a],ct),P&&Wt(v[s],P),!0}let $=[];for(let O=0;O<r.length;O++)$[O]=J(r[O],n);return $}function ds(t,e){if(!e){let i=[];for(let s in t){let a=ps.exec(s),c=a&&a[1];if(c&&(!e||c===e)){let u=t[s];if(u)for(let p=0;p<u.length;p++)i.push(u[p])}}return i}let r=St[e];r||(_s(e),r=St[e]);let n=t[r[Kt]],o=t[r[zt]];return n?o?n.concat(o):n.slice():o?o.slice():[]}function Pu(t,e){let r=t.Event;r&&r.prototype&&e.patchMethod(r.prototype,"stopImmediatePropagation",n=>function(o,i){o[fs]=!0,n&&n.apply(o,i)})}function Lu(t,e){e.patchMethod(t,"queueMicrotask",r=>function(n,o){Zone.current.scheduleMicroTask("queueMicrotask",o[0])})}var Yr=Y("zoneTask");function Ne(t,e,r,n){let o=null,i=null;e+=n,r+=n;let s={};function a(u){let p=u.data;p.args[0]=function(){return u.invoke.apply(this,arguments)};let m=o.apply(t,p.args);return os(m)?p.handleId=m:(p.handle=m,p.isRefreshable=ns(m.refresh)),u}function c(u){let{handle:p,handleId:m}=u.data;return i.call(t,p!=null?p:m)}o=$t(t,e,u=>function(p,m){var E;if(ns(m[0])){let R={isRefreshable:!1,isPeriodic:n==="Interval",delay:n==="Timeout"||n==="Interval"?m[1]||0:void 0,args:m},U=m[0];m[0]=function(){try{return U.apply(this,arguments)}finally{let{handle:N,handleId:Z,isPeriodic:I,isRefreshable:v}=R;!I&&!v&&(Z?delete s[Z]:N&&(N[Yr]=null))}};let H=Jn(e,m[0],R,a,c);if(!H)return H;let{handleId:J,handle:$,isRefreshable:O,isPeriodic:A}=H.data;if(J)s[J]=H;else if($&&($[Yr]=H,O&&!A)){let x=$.refresh;$.refresh=function(){let{zone:N,state:Z}=H;return Z==="notScheduled"?(H._state="scheduled",N._updateTaskCount(H,1)):Z==="running"&&(H._state="scheduling"),x.call(this)}}return(E=$!=null?$:J)!=null?E:H}else return u.apply(t,m)}),i=$t(t,r,u=>function(p,m){let E=m[0],R;os(E)?(R=s[E],delete s[E]):(R=E==null?void 0:E[Yr],R?E[Yr]=null:R=E),R!=null&&R.type?R.cancelFn&&R.zone.cancelTask(R):u.apply(t,m)})}function Cu(t,e){let{isBrowser:r,isMix:n}=e.getGlobalObjects();if(!r&&!n||!t.customElements||!("customElements"in t))return;let o=["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback","formAssociatedCallback","formDisabledCallback","formResetCallback","formStateRestoreCallback"];e.patchCallbacks(e,t.customElements,"customElements","define",o)}function wu(t,e){if(Zone[e.symbol("patchEventTarget")])return;let{eventNames:r,zoneSymbolEventNames:n,TRUE_STR:o,FALSE_STR:i,ZONE_SYMBOL_PREFIX:s}=e.getGlobalObjects();for(let c=0;c<r.length;c++){let u=r[c],p=u+i,m=u+o,E=s+p,R=s+m;n[u]={},n[u][i]=E,n[u][o]=R}let a=t.EventTarget;if(!(!a||!a.prototype))return e.patchEventTarget(t,e,[a&&a.prototype]),!0}function Iu(t,e){e.patchEventPrototype(t,e)}function hs(t,e,r){if(!r||r.length===0)return e;let n=r.filter(i=>i.target===t);if(n.length===0)return e;let o=n[0].ignoreProperties;return e.filter(i=>o.indexOf(i)===-1)}function is(t,e,r,n){if(!t)return;let o=hs(t,e,r);us(t,o,n)}function $n(t){return Object.getOwnPropertyNames(t).filter(e=>e.startsWith("on")&&e.length>2).map(e=>e.substring(2))}function Du(t,e){if(Jr&&!cs||Zone[t.symbol("patchEvents")])return;let r=e.__Zone_ignore_on_properties,n=[];if(eo){let o=window;n=n.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]),is(o,$n(o),r,Yn(o))}n=n.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let o=0;o<n.length;o++){let i=e[n[o]];i!=null&&i.prototype&&is(i.prototype,$n(i.prototype),r)}}function Mu(t){t.__load_patch("timers",e=>{let n="clear";Ne(e,"set",n,"Timeout"),Ne(e,"set",n,"Interval"),Ne(e,"set",n,"Immediate")}),t.__load_patch("requestAnimationFrame",e=>{Ne(e,"request","cancel","AnimationFrame"),Ne(e,"mozRequest","mozCancel","AnimationFrame"),Ne(e,"webkitRequest","webkitCancel","AnimationFrame")}),t.__load_patch("blocking",(e,r)=>{let n=["alert","prompt","confirm"];for(let o=0;o<n.length;o++){let i=n[o];$t(e,i,(s,a,c)=>function(u,p){return r.current.run(s,e,p,c)})}}),t.__load_patch("EventTarget",(e,r,n)=>{Iu(e,n),wu(e,n);let o=e.XMLHttpRequestEventTarget;o&&o.prototype&&n.patchEventTarget(e,n,[o.prototype])}),t.__load_patch("MutationObserver",(e,r,n)=>{Xe("MutationObserver"),Xe("WebKitMutationObserver")}),t.__load_patch("IntersectionObserver",(e,r,n)=>{Xe("IntersectionObserver")}),t.__load_patch("FileReader",(e,r,n)=>{Xe("FileReader")}),t.__load_patch("on_property",(e,r,n)=>{Du(n,e)}),t.__load_patch("customElements",(e,r,n)=>{Cu(e,n)}),t.__load_patch("XHR",(e,r)=>{u(e);let n=Y("xhrTask"),o=Y("xhrSync"),i=Y("xhrListener"),s=Y("xhrScheduled"),a=Y("xhrURL"),c=Y("xhrErrorBeforeScheduled");function u(p){let m=p.XMLHttpRequest;if(!m)return;let E=m.prototype;function R(D){return D[n]}let U=E[jn],H=E[Zn];if(!U){let D=p.XMLHttpRequestEventTarget;if(D){let M=D.prototype;U=M[jn],H=M[Zn]}}let J="readystatechange",$="scheduled";function O(D){let M=D.data,P=M.target;P[s]=!1,P[c]=!1;let ct=P[i];U||(U=P[jn],H=P[Zn]),ct&&H.call(P,J,ct);let ut=P[i]=()=>{if(P.readyState===P.DONE)if(!M.aborted&&P[s]&&D.state===$){let X=P[r.__symbol__("loadfalse")];if(P.status!==0&&X&&X.length>0){let d=D.invoke;D.invoke=function(){let _=P[r.__symbol__("loadfalse")];for(let f=0;f<_.length;f++)_[f]===D&&_.splice(f,1);!M.aborted&&D.state===$&&d.call(D)},X.push(D)}else D.invoke()}else!M.aborted&&P[s]===!1&&(P[c]=!0)};return U.call(P,J,ut),P[n]||(P[n]=D),tt.apply(P,M.args),P[s]=!0,D}function A(){}function x(D){let M=D.data;return M.aborted=!0,G.apply(M.target,M.args)}let N=$t(E,"open",()=>function(D,M){return D[o]=M[2]==!1,D[a]=M[1],N.apply(D,M)}),Z="XMLHttpRequest.send",I=Y("fetchTaskAborting"),v=Y("fetchTaskScheduling"),tt=$t(E,"send",()=>function(D,M){if(r.current[v]===!0||D[o])return tt.apply(D,M);{let P={target:D,url:D[a],isPeriodic:!1,args:M,aborted:!1},ct=Jn(Z,A,P,O,x);D&&D[c]===!0&&!P.aborted&&ct.state===$&&ct.invoke()}}),G=$t(E,"abort",()=>function(D,M){let P=R(D);if(P&&typeof P.type=="string"){if(P.cancelFn==null||P.data&&P.data.aborted)return;P.zone.cancelTask(P)}else if(r.current[I]===!0)return G.apply(D,M)})}}),t.__load_patch("geolocation",e=>{e.navigator&&e.navigator.geolocation&&Ru(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}),t.__load_patch("PromiseRejectionEvent",(e,r)=>{function n(o){return function(i){ds(e,o).forEach(a=>{let c=e.PromiseRejectionEvent;if(c){let u=new c(o,{promise:i.promise,reason:i.rejection});a.invoke(u)}})}}e.PromiseRejectionEvent&&(r[Y("unhandledPromiseRejectionHandler")]=n("unhandledrejection"),r[Y("rejectionHandledHandler")]=n("rejectionhandled"))}),t.__load_patch("queueMicrotask",(e,r,n)=>{Lu(e,n)})}function ku(t){t.__load_patch("ZoneAwarePromise",(e,r,n)=>{let o=Object.getOwnPropertyDescriptor,i=Object.defineProperty;function s(S){if(S&&S.toString===Object.prototype.toString){let T=S.constructor&&S.constructor.name;return(T||"")+": "+JSON.stringify(S)}return S?S.toString():Object.prototype.toString.call(S)}let a=n.symbol,c=[],u=e[a("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")]!==!1,p=a("Promise"),m=a("then"),E="__creationTrace__";n.onUnhandledError=S=>{if(n.showUncaughtError()){let T=S&&S.rejection;T?console.error("Unhandled Promise rejection:",T instanceof Error?T.message:T,"; Zone:",S.zone.name,"; Task:",S.task&&S.task.source,"; Value:",T,T instanceof Error?T.stack:void 0):console.error(S)}},n.microtaskDrainDone=()=>{for(;c.length;){let S=c.shift();try{S.zone.runGuarded(()=>{throw S.throwOriginal?S.rejection:S})}catch(T){U(T)}}};let R=a("unhandledPromiseRejectionHandler");function U(S){n.onUnhandledError(S);try{let T=r[R];typeof T=="function"&&T.call(this,S)}catch(T){}}function H(S){return S&&typeof S.then=="function"}function J(S){return S}function $(S){return K.reject(S)}let O=a("state"),A=a("value"),x=a("finally"),N=a("parentPromiseValue"),Z=a("parentPromiseState"),I="Promise.then",v=null,tt=!0,G=!1,D=0;function M(S,T){return h=>{try{Q(S,T,h)}catch(g){Q(S,!1,g)}}}let P=function(){let S=!1;return function(h){return function(){S||(S=!0,h.apply(null,arguments))}}},ct="Promise resolved with itself",ut=a("currentTaskTrace");function Q(S,T,h){let g=P();if(S===h)throw new TypeError(ct);if(S[O]===v){let L=null;try{(typeof h=="object"||typeof h=="function")&&(L=h&&h.then)}catch(w){return g(()=>{Q(S,!1,w)})(),S}if(T!==G&&h instanceof K&&h.hasOwnProperty(O)&&h.hasOwnProperty(A)&&h[O]!==v)d(h),Q(S,h[O],h[A]);else if(T!==G&&typeof L=="function")try{L.call(h,g(M(S,T)),g(M(S,!1)))}catch(w){g(()=>{Q(S,!1,w)})()}else{S[O]=T;let w=S[A];if(S[A]=h,S[x]===x&&T===tt&&(S[O]=S[Z],S[A]=S[N]),T===G&&h instanceof Error){let b=r.currentTask&&r.currentTask.data&&r.currentTask.data[E];b&&i(h,ut,{configurable:!0,enumerable:!1,writable:!0,value:b})}for(let b=0;b<w.length;)_(S,w[b++],w[b++],w[b++],w[b++]);if(w.length==0&&T==G){S[O]=D;let b=h;try{throw new Error("Uncaught (in promise): "+s(h)+(h&&h.stack?`
`+h.stack:""))}catch(V){b=V}u&&(b.throwOriginal=!0),b.rejection=h,b.promise=S,b.zone=r.current,b.task=r.currentTask,c.push(b),n.scheduleMicroTask()}}}return S}let X=a("rejectionHandledHandler");function d(S){if(S[O]===D){try{let T=r[X];T&&typeof T=="function"&&T.call(this,{rejection:S[A],promise:S})}catch(T){}S[O]=G;for(let T=0;T<c.length;T++)S===c[T].promise&&c.splice(T,1)}}function _(S,T,h,g,L){d(S);let w=S[O],b=w?typeof g=="function"?g:J:typeof L=="function"?L:$;T.scheduleMicroTask(I,()=>{try{let V=S[A],F=!!h&&x===h[x];F&&(h[N]=V,h[Z]=w);let j=T.run(b,void 0,F&&b!==$&&b!==J?[]:[V]);Q(h,!0,j)}catch(V){Q(h,!1,V)}},h)}let f="function ZoneAwarePromise() { [native code] }",C=function(){},q=e.AggregateError;class K{static toString(){return f}static resolve(T){return T instanceof K?T:Q(new this(null),tt,T)}static reject(T){return Q(new this(null),G,T)}static withResolvers(){let T={};return T.promise=new K((h,g)=>{T.resolve=h,T.reject=g}),T}static any(T){if(!T||typeof T[Symbol.iterator]!="function")return Promise.reject(new q([],"All promises were rejected"));let h=[],g=0;try{for(let b of T)g++,h.push(K.resolve(b))}catch(b){return Promise.reject(new q([],"All promises were rejected"))}if(g===0)return Promise.reject(new q([],"All promises were rejected"));let L=!1,w=[];return new K((b,V)=>{for(let F=0;F<h.length;F++)h[F].then(j=>{L||(L=!0,b(j))},j=>{w.push(j),g--,g===0&&(L=!0,V(new q(w,"All promises were rejected")))})})}static race(T){let h,g,L=new this((V,F)=>{h=V,g=F});function w(V){h(V)}function b(V){g(V)}for(let V of T)H(V)||(V=this.resolve(V)),V.then(w,b);return L}static all(T){return K.allWithCallback(T)}static allSettled(T){return(this&&this.prototype instanceof K?this:K).allWithCallback(T,{thenCallback:g=>({status:"fulfilled",value:g}),errorCallback:g=>({status:"rejected",reason:g})})}static allWithCallback(T,h){let g,L,w=new this((j,et)=>{g=j,L=et}),b=2,V=0,F=[];for(let j of T){H(j)||(j=this.resolve(j));let et=V;try{j.then(rt=>{F[et]=h?h.thenCallback(rt):rt,b--,b===0&&g(F)},rt=>{h?(F[et]=h.errorCallback(rt),b--,b===0&&g(F)):L(rt)})}catch(rt){L(rt)}b++,V++}return b-=2,b===0&&g(F),w}constructor(T){let h=this;if(!(h instanceof K))throw new Error("Must be an instanceof Promise.");h[O]=v,h[A]=[];try{let g=P();T&&T(g(M(h,tt)),g(M(h,G)))}catch(g){Q(h,!1,g)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return K}then(T,h){var g;let L=(g=this.constructor)==null?void 0:g[Symbol.species];(!L||typeof L!="function")&&(L=this.constructor||K);let w=new L(C),b=r.current;return this[O]==v?this[A].push(b,w,T,h):_(this,b,w,T,h),w}catch(T){return this.then(null,T)}finally(T){var h;let g=(h=this.constructor)==null?void 0:h[Symbol.species];(!g||typeof g!="function")&&(g=K);let L=new g(C);L[x]=x;let w=r.current;return this[O]==v?this[A].push(w,L,T,T):_(this,w,L,T,T),L}}K.resolve=K.resolve,K.reject=K.reject,K.race=K.race,K.all=K.all;let xt=e[p]=e.Promise;e.Promise=K;let Ut=a("thenPatched");function Ht(S){let T=S.prototype,h=o(T,"then");if(h&&(h.writable===!1||!h.configurable))return;let g=T.then;T[m]=g,S.prototype.then=function(L,w){return new K((V,F)=>{g.call(this,V,F)}).then(L,w)},S[Ut]=!0}n.patchThen=Ht;function At(S){return function(T,h){let g=S.apply(T,h);if(g instanceof K)return g;let L=g.constructor;return L[Ut]||Ht(L),g}}return xt&&(Ht(xt),$t(e,"fetch",S=>At(S))),Promise[r.__symbol__("uncaughtPromiseErrors")]=c,K})}function Uu(t){t.__load_patch("toString",e=>{let r=Function.prototype.toString,n=Y("OriginalDelegate"),o=Y("Promise"),i=Y("Error"),s=function(){if(typeof this=="function"){let p=this[n];if(p)return typeof p=="function"?r.call(p):Object.prototype.toString.call(p);if(this===Promise){let m=e[o];if(m)return r.call(m)}if(this===Error){let m=e[i];if(m)return r.call(m)}}return r.call(this)};s[n]=r,Function.prototype.toString=s;let a=Object.prototype.toString,c="[object Promise]";Object.prototype.toString=function(){return typeof Promise=="function"&&this instanceof Promise?c:a.call(this)}})}function Hu(t,e,r,n,o){let i=Zone.__symbol__(n);if(e[i])return;let s=e[i]=e[n];e[n]=function(a,c,u){return c&&c.prototype&&o.forEach(function(p){let m=`${r}.${n}::`+p,E=c.prototype;try{if(E.hasOwnProperty(p)){let R=t.ObjectGetOwnPropertyDescriptor(E,p);R&&R.value?(R.value=t.wrapWithCurrentZone(R.value,m),t._redefineProperty(c.prototype,p,R)):E[p]&&(E[p]=t.wrapWithCurrentZone(E[p],m))}else E[p]&&(E[p]=t.wrapWithCurrentZone(E[p],m))}catch(R){}}),s.call(e,a,c,u)},t.attachOriginToPatched(e[n],s)}function Gu(t){t.__load_patch("util",(e,r,n)=>{let o=$n(e);n.patchOnProperties=us,n.patchMethod=$t,n.bindArguments=to,n.patchMacroTask=bu;let i=r.__symbol__("BLACK_LISTED_EVENTS"),s=r.__symbol__("UNPATCHED_EVENTS");e[s]&&(e[i]=e[s]),e[i]&&(r[i]=r[s]=e[i]),n.patchEventPrototype=Pu,n.patchEventTarget=Nu,n.ObjectDefineProperty=Wn,n.ObjectGetOwnPropertyDescriptor=qe,n.ObjectCreate=gu,n.ArraySlice=Su,n.patchClass=Xe,n.wrapWithCurrentZone=Qn,n.filterProperties=hs,n.attachOriginToPatched=Wt,n._redefineProperty=Object.defineProperty,n.patchCallbacks=Hu,n.getGlobalObjects=()=>({globalSources:ls,zoneSymbolEventNames:St,eventNames:o,isBrowser:eo,isMix:cs,isNode:Jr,TRUE_STR:zt,FALSE_STR:Kt,ZONE_SYMBOL_PREFIX:Qe,ADD_EVENT_LISTENER_STR:Xn,REMOVE_EVENT_LISTENER_STR:qn})})}function Bu(t){ku(t),Uu(t),Gu(t)}var ms=Eu();Bu(ms);Mu(ms);var Je=class{emit(e){}},Ts=new Je;var tr=Symbol.for("io.opentelemetry.js.api.logs"),Pe=globalThis;function Es(t,e,r){return n=>n===t?e:r}var ro=1;var no=class{getLogger(e,r,n){return new Je}},tn=new no;var en=class{constructor(e,r,n,o){this._provider=e,this.name=r,this.version=n,this.options=o}emit(e){this._getLogger().emit(e)}_getLogger(){if(this._delegate)return this._delegate;let e=this._provider._getDelegateLogger(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):Ts}};var er=class{getLogger(e,r,n){var o;return(o=this._getDelegateLogger(e,r,n))!==null&&o!==void 0?o:new en(this,e,r,n)}_getDelegate(){var e;return(e=this._delegate)!==null&&e!==void 0?e:tn}_setDelegate(e){this._delegate=e}_getDelegateLogger(e,r,n){var o;return(o=this._delegate)===null||o===void 0?void 0:o.getLogger(e,r,n)}};var rn=class t{constructor(){this._proxyLoggerProvider=new er}static getInstance(){return this._instance||(this._instance=new t),this._instance}setGlobalLoggerProvider(e){return Pe[tr]?this.getLoggerProvider():(Pe[tr]=Es(ro,e,tn),this._proxyLoggerProvider._setDelegate(e),e)}getLoggerProvider(){var e,r;return(r=(e=Pe[tr])===null||e===void 0?void 0:e.call(Pe,ro))!==null&&r!==void 0?r:this._proxyLoggerProvider}getLogger(e,r,n){return this.getLoggerProvider().getLogger(e,r,n)}disable(){delete Pe[tr],this._proxyLoggerProvider=new er}};var nn=rn.getInstance();function gs(t,e,r,n){for(let o=0,i=t.length;o<i;o++){let s=t[o];e&&s.setTracerProvider(e),r&&s.setMeterProvider(r),n&&s.setLoggerProvider&&s.setLoggerProvider(n),s.getConfig().enabled||s.enable()}}function Ss(t){t.forEach(e=>e.disable())}function oo(t){var i,s;let e=t.tracerProvider||W.getTracerProvider(),r=t.meterProvider||Ge.getMeterProvider(),n=t.loggerProvider||nn.getLoggerProvider(),o=(s=(i=t.instrumentations)==null?void 0:i.flat())!=null?s:[];return gs(o,e,r,n),()=>{Ss(o)}}var ht=console.error.bind(console);function rr(t,e,r){let n=!!t[e]&&Object.prototype.propertyIsEnumerable.call(t,e);Object.defineProperty(t,e,{configurable:!0,enumerable:n,writable:!0,value:r})}var on=(t,e,r)=>{if(!t||!t[e]){ht("no original function "+String(e)+" to wrap");return}if(!r){ht("no wrapper function"),ht(new Error().stack);return}let n=t[e];if(typeof n!="function"||typeof r!="function"){ht("original object and wrapper must be functions");return}let o=r(n,e);return rr(o,"__original",n),rr(o,"__unwrap",()=>{t[e]===o&&rr(t,e,n)}),rr(o,"__wrapped",!0),rr(t,e,o),o},io=(t,e,r)=>{if(t)Array.isArray(t)||(t=[t]);else{ht("must provide one or more modules to patch"),ht(new Error().stack);return}if(!(e&&Array.isArray(e))){ht("must provide one or more functions to wrap on modules");return}t.forEach(n=>{e.forEach(o=>{on(n,o,r)})})},sn=(t,e)=>{if(!t||!t[e]){ht("no function to unwrap."),ht(new Error().stack);return}let r=t[e];if(!r.__unwrap)ht("no original to unwrap to -- has "+String(e)+" already been unwrapped?");else{r.__unwrap();return}},so=(t,e)=>{if(t)Array.isArray(t)||(t=[t]);else{ht("must provide one or more modules to patch"),ht(new Error().stack);return}if(!(e&&Array.isArray(e))){ht("must provide one or more functions to unwrap on modules");return}t.forEach(r=>{e.forEach(n=>{sn(r,n)})})};function nr(t){t&&t.logger&&(typeof t.logger!="function"?ht("new logger isn't a function, not replacing"):ht=t.logger)}nr.wrap=on;nr.massWrap=io;nr.unwrap=sn;nr.massUnwrap=so;var an=class{constructor(e,r,n){l(this,"_config",{});l(this,"_tracer");l(this,"_meter");l(this,"_logger");l(this,"_diag");l(this,"instrumentationName");l(this,"instrumentationVersion");l(this,"_wrap",on);l(this,"_unwrap",sn);l(this,"_massWrap",io);l(this,"_massUnwrap",so);this.instrumentationName=e,this.instrumentationVersion=r,this.setConfig(n),this._diag=y.createComponentLogger({namespace:e}),this._tracer=W.getTracer(e,r),this._meter=Ge.getMeter(e,r),this._logger=nn.getLogger(e,r),this._updateMetricInstruments()}get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()}get logger(){return this._logger}setLoggerProvider(e){this._logger=e.getLogger(this.instrumentationName,this.instrumentationVersion)}getModuleDefinitions(){var r;let e=(r=this.init())!=null?r:[];return Array.isArray(e)?e:[e]}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(e){this._config={enabled:!0,...e}}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}_runSpanCustomizationHook(e,r,n,o){if(e)try{e(n,o)}catch(i){this._diag.error("Error running span customization hook due to exception in handler",{triggerName:r},i)}}};var Mt=class extends an{constructor(e,r,n){super(e,r,n),this._config.enabled&&this.enable()}};function Le(t,e,r){let n,o;try{o=t()}catch(i){n=i}finally{if(e(n,o),n&&!r)throw n;return o}}function it(t){return typeof t=="function"&&typeof t.__original=="function"&&typeof t.__unwrap=="function"&&t.__wrapped===!0}var nt;(function(t){t[t.STABLE=1]="STABLE",t[t.OLD=2]="OLD",t[t.DUPLICATE=3]="DUPLICATE"})(nt||(nt={}));function or(t,e){let r=nt.OLD,n=e==null?void 0:e.split(",").map(o=>o.trim()).filter(o=>o!=="");for(let o of n!=null?n:[])if(o.toLowerCase()===t+"/dup"){r=nt.DUPLICATE;break}else o.toLowerCase()===t&&(r=nt.STABLE);return r}var Te;(function(t){t.DOCUMENT_LOAD="documentLoad",t.DOCUMENT_FETCH="documentFetch",t.RESOURCE_FETCH="resourceFetch"})(Te||(Te={}));var As="0.56.0",Rs="@opentelemetry/instrumentation-document-load";var cn="http.url",ys="http.user_agent";var ir;(function(t){t.FIRST_PAINT="firstPaint",t.FIRST_CONTENTFUL_PAINT="firstContentfulPaint"})(ir||(ir={}));var Os=()=>{var r,n;let t={},e=(n=(r=st).getEntriesByType)==null?void 0:n.call(r,"navigation")[0];if(e)Object.values(k).forEach(i=>{if(jt(e,i)){let s=e[i];typeof s=="number"&&(t[i]=s)}});else{let i=st.timing;i&&Object.values(k).forEach(a=>{if(jt(i,a)){let c=i[a];typeof c=="number"&&(t[a]=c)}})}return t},vs={"first-paint":ir.FIRST_PAINT,"first-contentful-paint":ir.FIRST_CONTENTFUL_PAINT},bs=t=>{var r,n;let e=(n=(r=st).getEntriesByType)==null?void 0:n.call(r,"paint");e&&e.forEach(({name:o,startTime:i})=>{jt(vs,o)&&t.addEvent(vs[o],i)})};var sr=class extends Mt{constructor(r={}){super(Rs,As,r);l(this,"component","document-load");l(this,"version","1");l(this,"moduleName",this.component);l(this,"_semconvStability");this._semconvStability=or("http",r==null?void 0:r.semconvStabilityOptIn)}init(){}_onDocumentLoaded(){window.setTimeout(()=>{this._collectPerformance()})}_addResourcesSpans(r){var o,i;let n=(i=(o=st).getEntriesByType)==null?void 0:i.call(o,"resource");n&&n.forEach(s=>{this._initResourceSpan(s,r)})}_collectPerformance(){let r=Array.from(document.getElementsByTagName("meta")).find(i=>i.getAttribute("name")===ye),n=Os(),o=r&&r.content||"";z.with(pt.extract(_t,{traceparent:o}),()=>{var s;let i=this._startSpan(Te.DOCUMENT_LOAD,k.FETCH_START,n);i&&(z.with(W.setSpan(z.active(),i),()=>{let a=this._startSpan(Te.DOCUMENT_FETCH,k.FETCH_START,n);a&&(this._semconvStability&nt.OLD&&a.setAttribute(cn,location.href),this._semconvStability&nt.STABLE&&a.setAttribute(Ae,location.href),z.with(W.setSpan(z.active(),a),()=>{var u;let c=!(this._semconvStability&nt.OLD);me(a,n,this.getConfig().ignoreNetworkEvents,void 0,c),this._addCustomAttributesOnSpan(a,(u=this.getConfig().applyCustomAttributesOnSpan)==null?void 0:u.documentFetch),this._endSpan(a,k.RESPONSE_END,n)}))}),this._semconvStability&nt.OLD&&(i.setAttribute(cn,location.href),i.setAttribute(ys,navigator.userAgent)),this._semconvStability&nt.STABLE&&(i.setAttribute(Ae,location.href),i.setAttribute(vi,navigator.userAgent)),this._addResourcesSpans(i),this.getConfig().ignoreNetworkEvents||(ot(i,k.FETCH_START,n),ot(i,k.UNLOAD_EVENT_START,n),ot(i,k.UNLOAD_EVENT_END,n),ot(i,k.DOM_INTERACTIVE,n),ot(i,k.DOM_CONTENT_LOADED_EVENT_START,n),ot(i,k.DOM_CONTENT_LOADED_EVENT_END,n),ot(i,k.DOM_COMPLETE,n),ot(i,k.LOAD_EVENT_START,n),ot(i,k.LOAD_EVENT_END,n)),this.getConfig().ignorePerformancePaintEvents||bs(i),this._addCustomAttributesOnSpan(i,(s=this.getConfig().applyCustomAttributesOnSpan)==null?void 0:s.documentLoad),this._endSpan(i,k.LOAD_EVENT_END,n))})}_endSpan(r,n,o){r&&(jt(o,n)?r.end(o[n]):r.end())}_initResourceSpan(r,n){var i;let o=this._startSpan(Te.RESOURCE_FETCH,k.FETCH_START,r,n);if(o){this._semconvStability&nt.OLD&&o.setAttribute(cn,r.name),this._semconvStability&nt.STABLE&&o.setAttribute(Ae,r.name);let s=!(this._semconvStability&nt.OLD);me(o,r,this.getConfig().ignoreNetworkEvents,void 0,s),this._addCustomAttributesOnResourceSpan(o,r,(i=this.getConfig().applyCustomAttributesOnSpan)==null?void 0:i.resourceFetch),this._endSpan(o,k.RESPONSE_END,r)}}_startSpan(r,n,o,i){if(jt(o,n)&&typeof o[n]=="number")return this.tracer.startSpan(r,{startTime:o[n]},i?W.setSpan(z.active(),i):void 0)}_waitForPageLoad(){window.document.readyState==="complete"?this._onDocumentLoaded():(this._onDocumentLoaded=this._onDocumentLoaded.bind(this),window.addEventListener("load",this._onDocumentLoaded))}_addCustomAttributesOnSpan(r,n){n&&Le(()=>n(r),o=>{o&&this._diag.error("addCustomAttributesOnSpan",o)},!0)}_addCustomAttributesOnResourceSpan(r,n,o){o&&Le(()=>o(r,n),i=>{i&&this._diag.error("addCustomAttributesOnResourceSpan",i)},!0)}enable(){window.removeEventListener("load",this._onDocumentLoaded),this._waitForPageLoad()}disable(){window.removeEventListener("load",this._onDocumentLoaded)}};var Ee;(function(t){t.EVENT_TYPE="event_type",t.TARGET_ELEMENT="target_element",t.TARGET_XPATH="target_xpath",t.HTTP_URL="http.url"})(Ee||(Ee={}));var ao="0.55.0",xs="@opentelemetry/instrumentation-user-interaction";var Fu="OT_ZONE_CONTEXT",ju="Navigation:",Zu=["click"];function zu(){return!1}var ar=class extends Mt{constructor(r={}){var n;super(xs,ao,r);l(this,"version",ao);l(this,"moduleName","user-interaction");l(this,"_spansData",new WeakMap);l(this,"_wrappedListeners",new WeakMap);l(this,"_eventsSpanMap",new WeakMap);l(this,"_eventNames");l(this,"_shouldPreventSpanCreation");this._eventNames=new Set((n=r==null?void 0:r.eventNames)!=null?n:Zu),this._shouldPreventSpanCreation=typeof(r==null?void 0:r.shouldPreventSpanCreation)=="function"?r.shouldPreventSpanCreation:zu}init(){}_checkForTimeout(r,n){let o=this._spansData.get(n);o&&(r.source==="setTimeout"?o.hrTimeLastTimeout=Vt():r.source!=="Promise.then"&&r.source!=="setTimeout"&&(o.hrTimeLastTimeout=void 0))}_allowEventName(r){return this._eventNames.has(r)}_createSpan(r,n,o){if(!(r instanceof HTMLElement)||!r.getAttribute||r.hasAttribute("disabled")||!this._allowEventName(n))return;let i=Wr(r,!0);try{let s=this.tracer.startSpan(n,{attributes:{[Ee.EVENT_TYPE]:n,[Ee.TARGET_ELEMENT]:r.tagName,[Ee.TARGET_XPATH]:i,[Ee.HTTP_URL]:window.location.href}},o?W.setSpan(z.active(),o):void 0);return this._shouldPreventSpanCreation(n,r,s)===!0?void 0:(this._spansData.set(s,{taskCount:0}),s)}catch(s){this._diag.error("failed to start create new user interaction span",s)}}_decrementTask(r){let n=this._spansData.get(r);n&&(n.taskCount--,n.taskCount===0&&this._tryToEndSpan(r,n.hrTimeLastTimeout))}_getCurrentSpan(r){let n=r.get(Fu);return n&&W.getSpan(n)}_incrementTask(r){let n=this._spansData.get(r);n&&n.taskCount++}addPatchedListener(r,n,o,i){let s=this._wrappedListeners.get(o);s||(s=new Map,this._wrappedListeners.set(o,s));let a=s.get(n);return a||(a=new Map,s.set(n,a)),a.has(r)?!1:(a.set(r,i),!0)}removePatchedListener(r,n,o){let i=this._wrappedListeners.get(o);if(!i)return;let s=i.get(n);if(!s)return;let a=s.get(r);return a&&(s.delete(r),s.size===0&&(i.delete(n),i.size===0&&this._wrappedListeners.delete(o))),a}_invokeListener(r,n,o){return typeof r=="function"?r.apply(n,o):r.handleEvent(o[0])}_patchAddEventListener(){let r=this;return n=>function(i,s,a){if(!s)return n.call(this,i,s,a);let c=a&&typeof a=="object"&&a.once,u=function(...p){let m,E=p[0],R=E==null?void 0:E.target;E&&(m=r._eventsSpanMap.get(E)),c&&r.removePatchedListener(this,i,s);let U=r._createSpan(R,i,m);return U?(E&&r._eventsSpanMap.set(E,U),z.with(W.setSpan(z.active(),U),()=>{let H=r._invokeListener(s,this,p);return U.end(),H})):r._invokeListener(s,this,p)};if(r.addPatchedListener(this,i,s,u))return n.call(this,i,u,a)}}_patchRemoveEventListener(){let r=this;return n=>function(i,s,a){let c=r.removePatchedListener(this,i,s);return c?n.call(this,i,c,a):n.call(this,i,s,a)}}_getPatchableEventTargets(){return window.EventTarget?[EventTarget.prototype]:[Node.prototype,Window.prototype]}_patchHistoryApi(){this._unpatchHistoryApi(),this._wrap(history,"replaceState",this._patchHistoryMethod()),this._wrap(history,"pushState",this._patchHistoryMethod()),this._wrap(history,"back",this._patchHistoryMethod()),this._wrap(history,"forward",this._patchHistoryMethod()),this._wrap(history,"go",this._patchHistoryMethod())}_patchHistoryMethod(){let r=this;return n=>function(...i){let s=`${location.pathname}${location.hash}${location.search}`,a=n.apply(this,i),c=`${location.pathname}${location.hash}${location.search}`;return s!==c&&r._updateInteractionName(c),a}}_unpatchHistoryApi(){it(history.replaceState)&&this._unwrap(history,"replaceState"),it(history.pushState)&&this._unwrap(history,"pushState"),it(history.back)&&this._unwrap(history,"back"),it(history.forward)&&this._unwrap(history,"forward"),it(history.go)&&this._unwrap(history,"go")}_updateInteractionName(r){let n=W.getSpan(z.active());n&&typeof n.updateName=="function"&&n.updateName(`${ju} ${r}`)}_patchZoneCancelTask(){let r=this;return n=>function(i){let s=Zone.current,a=r._getCurrentSpan(s);return a&&r._shouldCountTask(i,s)&&r._decrementTask(a),n.call(this,i)}}_patchZoneScheduleTask(){let r=this;return n=>function(i){let s=Zone.current,a=r._getCurrentSpan(s);return a&&r._shouldCountTask(i,s)&&(r._incrementTask(a),r._checkForTimeout(i,a)),n.call(this,i)}}_patchZoneRunTask(){let r=this;return n=>function(i,s,a){let c=Array.isArray(a)&&a[0]instanceof Event?a[0]:void 0,u=c==null?void 0:c.target,p,m=this;if(u){if(p=r._createSpan(u,i.eventName),p)return r._incrementTask(p),m.run(()=>{try{return z.with(W.setSpan(z.active(),p),()=>{let E=Zone.current;return i._zone=E,n.call(E,i,s,a)})}finally{r._decrementTask(p)}})}else p=r._getCurrentSpan(m);try{return n.call(m,i,s,a)}finally{p&&r._shouldCountTask(i,m)&&r._decrementTask(p)}}}_shouldCountTask(r,n){if(r._zone&&(n=r._zone),!n||!r.data||r.data.isPeriodic)return!1;let o=this._getCurrentSpan(n);return!o||!this._spansData.get(o)?!1:r.type==="macroTask"||r.type==="microTask"}_tryToEndSpan(r,n){r&&this._spansData.get(r)&&(r.end(n),this._spansData.delete(r))}enable(){let r=this._getZoneWithPrototype();this._diag.debug("applying patch to",this.moduleName,this.version,"zone:",!!r),r?(it(r.prototype.runTask)&&(this._unwrap(r.prototype,"runTask"),this._diag.debug("removing previous patch from method runTask")),it(r.prototype.scheduleTask)&&(this._unwrap(r.prototype,"scheduleTask"),this._diag.debug("removing previous patch from method scheduleTask")),it(r.prototype.cancelTask)&&(this._unwrap(r.prototype,"cancelTask"),this._diag.debug("removing previous patch from method cancelTask")),this._zonePatched=!0,this._wrap(r.prototype,"runTask",this._patchZoneRunTask()),this._wrap(r.prototype,"scheduleTask",this._patchZoneScheduleTask()),this._wrap(r.prototype,"cancelTask",this._patchZoneCancelTask())):(this._zonePatched=!1,this._getPatchableEventTargets().forEach(o=>{it(o.addEventListener)&&(this._unwrap(o,"addEventListener"),this._diag.debug("removing previous patch from method addEventListener")),it(o.removeEventListener)&&(this._unwrap(o,"removeEventListener"),this._diag.debug("removing previous patch from method removeEventListener")),this._wrap(o,"addEventListener",this._patchAddEventListener()),this._wrap(o,"removeEventListener",this._patchRemoveEventListener())})),this._patchHistoryApi()}disable(){let r=this._getZoneWithPrototype();this._diag.debug("removing patch from",this.moduleName,this.version,"zone:",!!r),r&&this._zonePatched?(it(r.prototype.runTask)&&this._unwrap(r.prototype,"runTask"),it(r.prototype.scheduleTask)&&this._unwrap(r.prototype,"scheduleTask"),it(r.prototype.cancelTask)&&this._unwrap(r.prototype,"cancelTask")):this._getPatchableEventTargets().forEach(o=>{it(o.addEventListener)&&this._unwrap(o,"addEventListener"),it(o.removeEventListener)&&this._unwrap(o,"removeEventListener")}),this._unpatchHistoryApi()}_getZoneWithPrototype(){return window.Zone}};var Ns="http.host",Ps="http.method",Ls="http.request.body.size",Cs="http.request_content_length_uncompressed";var ws="http.scheme",Is="http.status_code",Ds="http.url",Ms="http.user_agent";var kt;(function(t){t.METHOD_OPEN="open",t.METHOD_SEND="send",t.EVENT_ABORT="abort",t.EVENT_ERROR="error",t.EVENT_LOAD="loaded",t.EVENT_TIMEOUT="timeout"})(kt||(kt={}));var Ku=y.createComponentLogger({namespace:"@opentelemetry/opentelemetry-instrumentation-xml-http-request/utils"});function $u(t){return typeof Document!="undefined"&&t instanceof Document}function Us(t){if($u(t))return new XMLSerializer().serializeToString(document).length;if(typeof t=="string")return ks(t);if(t instanceof Blob)return t.size;if(t instanceof FormData)return Yu(t);if(t instanceof URLSearchParams)return ks(t.toString());if(t.byteLength!==void 0)return t.byteLength;Ku.warn("unknown body type")}var Wu=new TextEncoder;function ks(t){return Wu.encode(t).byteLength}function Yu(t){let e=0;for(let[r,n]of t.entries())e+=r.length,n instanceof Blob?e+=n.size:e+=n.length;return e}function Hs(t){let e=qu(),r=t.toUpperCase();return r in e?r:"_OTHER"}var Xu={CONNECT:!0,DELETE:!0,GET:!0,HEAD:!0,OPTIONS:!0,PATCH:!0,POST:!0,PUT:!0,TRACE:!0,QUERY:!0},cr;function qu(){if(cr===void 0){let t=void 0;t&&t.length>0?(cr={},t.forEach(e=>{cr[e]=!0})):cr=Xu}return cr}var Qu={"https:":"443","http:":"80"};function Gs(t){let e=Number(t.port||Qu[t.protocol]);if(e&&!isNaN(e))return e}var co="0.211.0";var un;(function(t){t.HTTP_STATUS_TEXT="http.status_text"})(un||(un={}));var Ju=300,ur=class extends Mt{constructor(r={}){super("@opentelemetry/instrumentation-xml-http-request",co,r);l(this,"component","xml-http-request");l(this,"version",co);l(this,"moduleName",this.component);l(this,"_tasksCount",0);l(this,"_xhrMem",new WeakMap);l(this,"_usedResources",new WeakSet);l(this,"_semconvStability");this._semconvStability=or("http",r==null?void 0:r.semconvStabilityOptIn)}init(){}_addHeaders(r,n){let o=Zt(n).href;if(!Fn(o,this.getConfig().propagateTraceHeaderCorsUrls)){let s={};pt.inject(z.active(),s),Object.keys(s).length>0&&this._diag.debug("headers inject skipped due to CORS policy");return}let i={};pt.inject(z.active(),i),Object.keys(i).forEach(s=>{r.setRequestHeader(s,String(i[s]))})}_addChildSpan(r,n){z.with(W.setSpan(z.active(),r),()=>{let o=this.tracer.startSpan("CORS Preflight",{startTime:n[k.FETCH_START]}),i=!(this._semconvStability&nt.OLD);me(o,n,this.getConfig().ignoreNetworkEvents,void 0,i),o.end(n[k.RESPONSE_END])})}_addFinalSpanAttributes(r,n,o){if(this._semconvStability&nt.OLD){if(n.status!==void 0&&r.setAttribute(Is,n.status),n.statusText!==void 0&&r.setAttribute(un.HTTP_STATUS_TEXT,n.statusText),typeof o=="string"){let i=Zt(o);r.setAttribute(Ns,i.host),r.setAttribute(ws,i.protocol.replace(":",""))}r.setAttribute(Ms,navigator.userAgent)}this._semconvStability&nt.STABLE&&n.status&&r.setAttribute(Si,n.status)}_applyAttributesAfterXHR(r,n){let o=this.getConfig().applyCustomAttributesOnSpan;typeof o=="function"&&Le(()=>o(r,n),i=>{i&&this._diag.error("applyCustomAttributesOnSpan",i)},!0)}_addResourceObserver(r,n){let o=this._xhrMem.get(r);!o||typeof PerformanceObserver!="function"||typeof PerformanceResourceTiming!="function"||(o.createdResources={observer:new PerformanceObserver(i=>{let s=i.getEntries(),a=Zt(n);s.forEach(c=>{c.initiatorType==="xmlhttprequest"&&c.name===a.href&&o.createdResources&&o.createdResources.entries.push(c)})}),entries:[]},o.createdResources.observer.observe({entryTypes:["resource"]}))}_clearResources(){this._tasksCount===0&&this.getConfig().clearTimingResources&&(st.clearResourceTimings(),this._xhrMem=new WeakMap,this._usedResources=new WeakSet)}_findResourceAndAddNetworkEvents(r,n,o,i,s){if(!o||!i||!s||!r.createdResources)return;let a=r.createdResources.entries;(!a||!a.length)&&(a=st.getEntriesByType("resource"));let c=Vn(Zt(o).href,i,s,a,this._usedResources);if(c.mainRequest){let u=c.mainRequest;this._markResourceAsUsed(u);let p=c.corsPreFlightRequest;p&&(this._addChildSpan(n,p),this._markResourceAsUsed(p));let m=!(this._semconvStability&nt.OLD);me(n,u,this.getConfig().ignoreNetworkEvents,void 0,m)}}_cleanPreviousSpanInformation(r){let n=this._xhrMem.get(r);if(n){let o=n.callbackToRemoveEvents;o&&o(),this._xhrMem.delete(r)}}_createSpan(r,n,o){if(kn(n,this.getConfig().ignoreUrls)){this._diag.debug("ignoring span as url matches ignored url");return}let i="",s=Zt(n),a={};if(this._semconvStability&nt.OLD&&(i=o.toUpperCase(),a[Ps]=o,a[Ds]=s.toString()),this._semconvStability&nt.STABLE){let u=o,p=Hs(o);i||(i=p),a[Ei]=p,p!==u&&(a[gi]=u),a[Ae]=s.toString(),a[Ai]=s.hostname;let m=Gs(s);m&&(a[Ri]=m)}let c=this.tracer.startSpan(i,{kind:ie.CLIENT,attributes:a});return c.addEvent(kt.METHOD_OPEN),this._cleanPreviousSpanInformation(r),this._xhrMem.set(r,{span:c,spanUrl:n}),c}_markResourceAsUsed(r){this._usedResources.add(r)}_patchOpen(){return r=>{let n=this;return function(...i){let s=i[0],a=i[1];return n._createSpan(this,a,s),r.apply(this,i)}}}_patchSend(){let r=this;function n(p,m,E,R){let U=m.callbackToRemoveEvents;typeof U=="function"&&U();let{span:H,spanUrl:J,sendStartTime:$}=m;H&&(r._findResourceAndAddNetworkEvents(m,H,J,$,E),H.addEvent(p,R),r._addFinalSpanAttributes(H,m,J),H.end(R),r._tasksCount--),r._clearResources()}function o(p,m,E,R){let U=r._xhrMem.get(m);if(!U)return;if(U.status=m.status,U.statusText=m.statusText,r._xhrMem.delete(m),U.span){let $=U.span;r._applyAttributesAfterXHR($,m),r._semconvStability&nt.STABLE&&(E?R&&($.setStatus({code:vt.ERROR,message:R}),$.setAttribute(Ln,R)):U.status&&U.status>=400&&($.setStatus({code:vt.ERROR}),$.setAttribute(Ln,String(U.status))))}let H=Vt(),J=Date.now();setTimeout(()=>{n(p,U,H,J)},Ju)}function i(){o(kt.EVENT_ERROR,this,!0,"error")}function s(){o(kt.EVENT_ABORT,this,!1)}function a(){o(kt.EVENT_TIMEOUT,this,!0,"timeout")}function c(){this.status<299?o(kt.EVENT_LOAD,this,!1):o(kt.EVENT_ERROR,this,!1)}function u(p){p.removeEventListener("abort",s),p.removeEventListener("error",i),p.removeEventListener("load",c),p.removeEventListener("timeout",a);let m=r._xhrMem.get(p);m&&(m.callbackToRemoveEvents=void 0)}return p=>function(...E){let R=r._xhrMem.get(this);if(!R)return p.apply(this,E);let U=R.span,H=R.spanUrl;if(U&&H){if(r.getConfig().measureRequestSize&&(E!=null&&E[0])){let J=E[0],$=Us(J);$!==void 0&&(r._semconvStability&nt.OLD&&U.setAttribute(Cs,$),r._semconvStability&nt.STABLE&&U.setAttribute(Ls,$))}z.with(W.setSpan(z.active(),U),()=>{r._tasksCount++,R.sendStartTime=Vt(),U.addEvent(kt.METHOD_SEND),this.addEventListener("abort",s),this.addEventListener("error",i),this.addEventListener("load",c),this.addEventListener("timeout",a),R.callbackToRemoveEvents=()=>{u(this),R.createdResources&&R.createdResources.observer.disconnect()},r._addHeaders(this,H),r._addResourceObserver(this,H)})}return p.apply(this,E)}}enable(){this._diag.debug("applying patch to",this.moduleName,this.version),it(XMLHttpRequest.prototype.open)&&(this._unwrap(XMLHttpRequest.prototype,"open"),this._diag.debug("removing previous patch from method open")),it(XMLHttpRequest.prototype.send)&&(this._unwrap(XMLHttpRequest.prototype,"send"),this._diag.debug("removing previous patch from method send")),this._wrap(XMLHttpRequest.prototype,"open",this._patchOpen()),this._wrap(XMLHttpRequest.prototype,"send",this._patchSend())}disable(){this._diag.debug("removing patch from",this.moduleName,this.version),this._unwrap(XMLHttpRequest.prototype,"open"),this._unwrap(XMLHttpRequest.prototype,"send"),this._tasksCount=0,this._xhrMem=new WeakMap,this._usedResources=new WeakSet}};var lr=class{constructor(e){l(this,"_delegate");this._delegate=e}export(e,r){this._delegate.export(e,r)}forceFlush(){return this._delegate.forceFlush()}shutdown(){return this._delegate.shutdown()}};var pr=class extends Error{constructor(r,n,o){super(r);l(this,"code");l(this,"name","OTLPExporterError");l(this,"data");this.data=o,this.code=n}};function tl(t){if(Number.isFinite(t)&&t>0)return t;throw new Error(`Configuration: timeoutMillis is invalid, expected number greater than 0 (actual: '${t}')`)}function Bs(t){if(t!=null)return async()=>t}function Vs(t,e,r){var n,o,i,s,a,c;return{timeoutMillis:tl((o=(n=t.timeoutMillis)!=null?n:e.timeoutMillis)!=null?o:r.timeoutMillis),concurrencyLimit:(s=(i=t.concurrencyLimit)!=null?i:e.concurrencyLimit)!=null?s:r.concurrencyLimit,compression:(c=(a=t.compression)!=null?a:e.compression)!=null?c:r.compression}}function Fs(){return{timeoutMillis:1e4,concurrencyLimit:30,compression:"none"}}var uo=class{constructor(e){l(this,"_concurrencyLimit");l(this,"_sendingPromises",[]);this._concurrencyLimit=e}pushPromise(e){if(this.hasReachedLimit())throw new Error("Concurrency Limit reached");this._sendingPromises.push(e);let r=()=>{let n=this._sendingPromises.indexOf(e);this._sendingPromises.splice(n,1)};e.then(r,r)}hasReachedLimit(){return this._sendingPromises.length>=this._concurrencyLimit}async awaitAll(){await Promise.all(this._sendingPromises)}};function js(t){return new uo(t.concurrencyLimit)}function el(t){return Object.prototype.hasOwnProperty.call(t,"partialSuccess")}function Zs(){return{handleResponse(t){t==null||!el(t)||t.partialSuccess==null||Object.keys(t.partialSuccess).length===0||y.warn("Received Partial Success response:",JSON.stringify(t.partialSuccess))}}}var lo=class{constructor(e,r,n,o,i){l(this,"_diagLogger");l(this,"_transport");l(this,"_serializer");l(this,"_responseHandler");l(this,"_promiseQueue");l(this,"_timeout");this._transport=e,this._serializer=r,this._responseHandler=n,this._promiseQueue=o,this._timeout=i,this._diagLogger=y.createComponentLogger({namespace:"OTLPExportDelegate"})}export(e,r){if(this._diagLogger.debug("items to be sent",e),this._promiseQueue.hasReachedLimit()){r({code:Tt.FAILED,error:new Error("Concurrent export limit reached")});return}let n=this._serializer.serializeRequest(e);if(n==null){r({code:Tt.FAILED,error:new Error("Nothing to send")});return}this._promiseQueue.pushPromise(this._transport.send(n,this._timeout).then(o=>{var i;if(o.status==="success"){if(o.data!=null)try{this._responseHandler.handleResponse(this._serializer.deserializeResponse(o.data))}catch(s){this._diagLogger.warn("Export succeeded but could not deserialize response - is the response specification compliant?",s,o.data)}r({code:Tt.SUCCESS});return}else if(o.status==="failure"&&o.error){r({code:Tt.FAILED,error:o.error});return}else o.status==="retryable"?r({code:Tt.FAILED,error:(i=o.error)!=null?i:new pr("Export failed with retryable status")}):r({code:Tt.FAILED,error:new pr("Export failed with unknown error")})},o=>r({code:Tt.FAILED,error:o})))}forceFlush(){return this._promiseQueue.awaitAll()}async shutdown(){this._diagLogger.debug("shutdown started"),await this.forceFlush(),this._transport.shutdown()}};function zs(t,e){return new lo(t.transport,t.serializer,Zs(),t.promiseHandler,e.timeout)}function po(t,e,r){return zs({transport:r,serializer:e,promiseHandler:js(t)},{timeout:t.timeoutMillis})}function Ks(t){return t>=48&&t<=57?t-48:t>=97&&t<=102?t-87:t-55}function ln(t){let e=new Uint8Array(t.length/2),r=0;for(let n=0;n<t.length;n+=2){let o=Ks(t.charCodeAt(n)),i=Ks(t.charCodeAt(n+1));e[r++]=o<<4|i}return e}function Ws(t){let e=BigInt(1e9);return BigInt(Math.trunc(t[0]))*e+BigInt(Math.trunc(t[1]))}function rl(t){let e=Number(BigInt.asUintN(32,t)),r=Number(BigInt.asUintN(32,t>>BigInt(32)));return{low:e,high:r}}function Ys(t){let e=Ws(t);return rl(e)}function nl(t){return Ws(t).toString()}var ol=typeof BigInt!="undefined"?nl:Et;function $s(t){return t}function Xs(t){if(t!==void 0)return ln(t)}var il={encodeHrTime:Ys,encodeSpanContext:ln,encodeOptionalSpanContext:Xs};function qs(t){var n,o;if(t===void 0)return il;let e=(n=t.useLongBits)!=null?n:!0,r=(o=t.useHex)!=null?o:!1;return{encodeHrTime:e?Ys:ol,encodeSpanContext:r?$s:ln,encodeOptionalSpanContext:r?$s:Xs}}function Qs(t){let e={attributes:fr(t.attributes),droppedAttributesCount:0},r=t.schemaUrl;return r&&r!==""&&(e.schemaUrl=r),e}function Js(t){return{name:t.name,version:t.version}}function fr(t){return Object.keys(t).map(e=>ta(e,t[e]))}function ta(t,e){return{key:t,value:ea(e)}}function ea(t){let e=typeof t;return e==="string"?{stringValue:t}:e==="number"?Number.isInteger(t)?{intValue:t}:{doubleValue:t}:e==="boolean"?{boolValue:t}:t instanceof Uint8Array?{bytesValue:t}:Array.isArray(t)?{arrayValue:{values:t.map(ea)}}:e==="object"&&t!=null?{kvlistValue:{values:Object.entries(t).map(([r,n])=>ta(r,n))}}:{}}var sl=256,al=512;function ra(t,e){let r=t&255|sl;return e&&(r|=al),r}function cl(t,e){var i,s,a,c;let r=t.spanContext(),n=t.status,o=(i=t.parentSpanContext)!=null&&i.spanId?e.encodeSpanContext((s=t.parentSpanContext)==null?void 0:s.spanId):void 0;return{traceId:e.encodeSpanContext(r.traceId),spanId:e.encodeSpanContext(r.spanId),parentSpanId:o,traceState:(a=r.traceState)==null?void 0:a.serialize(),name:t.name,kind:t.kind==null?0:t.kind+1,startTimeUnixNano:e.encodeHrTime(t.startTime),endTimeUnixNano:e.encodeHrTime(t.endTime),attributes:fr(t.attributes),droppedAttributesCount:t.droppedAttributesCount,events:t.events.map(u=>ll(u,e)),droppedEventsCount:t.droppedEventsCount,status:{code:n.code,message:n.message},links:t.links.map(u=>ul(u,e)),droppedLinksCount:t.droppedLinksCount,flags:ra(r.traceFlags,(c=t.parentSpanContext)==null?void 0:c.isRemote)}}function ul(t,e){var r;return{attributes:t.attributes?fr(t.attributes):[],spanId:e.encodeSpanContext(t.context.spanId),traceId:e.encodeSpanContext(t.context.traceId),traceState:(r=t.context.traceState)==null?void 0:r.serialize(),droppedAttributesCount:t.droppedAttributesCount||0,flags:ra(t.context.traceFlags,t.context.isRemote)}}function ll(t,e){return{attributes:t.attributes?fr(t.attributes):[],name:t.name,timeUnixNano:e.encodeHrTime(t.time),droppedAttributesCount:t.droppedAttributesCount||0}}function na(t,e){let r=qs(e);return{resourceSpans:fl(t,r)}}function pl(t){let e=new Map;for(let r of t){let n=e.get(r.resource);n||(n=new Map,e.set(r.resource,n));let o=`${r.instrumentationScope.name}@${r.instrumentationScope.version||""}:${r.instrumentationScope.schemaUrl||""}`,i=n.get(o);i||(i=[],n.set(o,i)),i.push(r)}return e}function fl(t,e){let r=pl(t),n=[],o=r.entries(),i=o.next();for(;!i.done;){let[s,a]=i.value,c=[],u=a.values(),p=u.next();for(;!p.done;){let R=p.value;if(R.length>0){let U=R.map(H=>cl(H,e));c.push({scope:Js(R[0].instrumentationScope),spans:U,schemaUrl:R[0].instrumentationScope.schemaUrl})}p=u.next()}let m=Qs(s),E={resource:m,scopeSpans:c,schemaUrl:m.schemaUrl};n.push(E),i=o.next()}return n}var pn={serializeRequest:t=>{let e=na(t,{useHex:!0,useLongBits:!1});return new TextEncoder().encode(JSON.stringify(e))},deserializeResponse:t=>{if(t.length===0)return{};let e=new TextDecoder;return JSON.parse(e.decode(t))}};var fo=5,_l=1e3,dl=5e3,hl=1.5,oa=.2;function ml(){return Math.random()*(2*oa)-oa}var _o=class{constructor(e){l(this,"_transport");this._transport=e}retry(e,r,n){return new Promise((o,i)=>{setTimeout(()=>{this._transport.send(e,r).then(o,i)},n)})}async send(e,r){var a;let n=fo,o=_l,i=Date.now()+r,s=await this._transport.send(e,r);for(;s.status==="retryable"&&n>0;){n--;let c=Math.max(Math.min(o*(1+ml()),dl),0);o=o*hl;let u=(a=s.retryInMillis)!=null?a:c,p=i-Date.now();if(u>p)return y.info(`Export retry time ${Math.round(u)}ms exceeds remaining timeout ${Math.round(p)}ms, not retrying further.`),s;y.verbose(`Scheduling export retry in ${Math.round(u)}ms`),s=await this.retry(e,p,u)}return s.status==="success"?y.verbose(`Export succeeded after ${fo-n} retry attempts.`):s.status==="retryable"?y.info(`Export failed after maximum retry attempts (${fo}).`):y.info(`Export failed with non-retryable error: ${s.error}`),s}shutdown(){return this._transport.shutdown()}};function ho(t){return new _o(t.transport)}var mo=class{constructor(e){l(this,"_params");this._params=e}async send(e){let r=(await this._params.headers())["Content-Type"];return new Promise(n=>{navigator.sendBeacon(this._params.url,new Blob([e],{type:r}))?(y.debug("SendBeacon success"),n({status:"success"})):n({status:"failure",error:new Error("SendBeacon failed")})})}shutdown(){}};function ia(t){return new mo(t)}function sa(t){return t===429||t===502||t===503||t===504}function aa(t){if(t==null)return;let e=Number.parseInt(t,10);if(Number.isInteger(e))return e>0?e*1e3:-1;let r=new Date(t).getTime()-Date.now();return r>=0?r:0}var To=class{constructor(e){l(this,"_parameters");this._parameters=e}async send(e,r){var i;let n=new AbortController,o=setTimeout(()=>n.abort(),r);try{let s=!!globalThis.location,a=new URL(this._parameters.url),c=await fetch(a.href,{method:"POST",headers:await this._parameters.headers(),body:e,signal:n.signal,keepalive:s,mode:s?((i=globalThis.location)==null?void 0:i.origin)===a.origin?"same-origin":"cors":"no-cors"});if(c.status>=200&&c.status<=299)return y.debug("response success"),{status:"success"};if(sa(c.status)){let u=c.headers.get("Retry-After");return{status:"retryable",retryInMillis:aa(u)}}return{status:"failure",error:new Error("Fetch request failed with non-retryable status")}}catch(s){return Tl(s)?{status:"retryable",error:new Error("Fetch request encountered a network error",{cause:s})}:{status:"failure",error:new Error("Fetch request errored",{cause:s})}}finally{clearTimeout(o)}}shutdown(){}};function ca(t){return new To(t)}function Tl(t){return t instanceof TypeError&&!t.cause}function ua(t,e){return po(t,e,ho({transport:ca(t)}))}function la(t,e){return po(t,e,ho({transport:ia({url:t.url,headers:t.headers})}))}function pa(t){let e={};return Object.entries(t!=null?t:{}).forEach(([r,n])=>{typeof n!="undefined"?e[r]=String(n):y.warn(`Header "${r}" has invalid value (${n}) and will be ignored`)}),e}function El(t,e,r){return async()=>{let n={...await r()},o={};return e!=null&&Object.assign(o,await e()),t!=null&&Object.assign(o,pa(await t())),Object.assign(o,n)}}function gl(t){var e;if(t!=null)try{let r=(e=globalThis.location)==null?void 0:e.href;return new URL(t,r).href}catch(r){throw new Error(`Configuration: Could not parse user-provided export URL: '${t}'`)}}function fa(t,e,r){var n,o;return{...Vs(t,e,r),headers:El(t.headers,e.headers,r.headers),url:(o=(n=gl(t.url))!=null?n:e.url)!=null?o:r.url}}function _a(t,e){return{...Fs(),headers:async()=>t,url:"http://localhost:4318/"+e}}function da(t){return typeof t.headers=="function"?t.headers:Bs(t.headers)}function ha(t,e,r){return fa({url:t.url,timeoutMillis:t.timeoutMillis,headers:da(t),concurrencyLimit:t.concurrencyLimit},{},_a(r,e))}function Eo(t,e,r,n){let o=Sl(t.headers),i=ha(t,r,n);return o(i,e)}function Sl(t){return!t&&typeof navigator.sendBeacon=="function"?la:ua}var Ce=class extends lr{constructor(e={}){super(Eo(e,pn,"v1/traces",{"Content-Type":"application/json"}))}};var Jt={PLATFORM:"browser.platform",BRANDS:"browser.brands",MOBILE:"browser.mobile",LANGUAGE:"browser.language",USER_AGENT:"browser.user_agent"};var go=class{detect(e){if(!(typeof window!="undefined"&&typeof document!="undefined"))return _e();let n=Al();return this._getResourceAttributes(n,e)}_getResourceAttributes(e,r){return!e[Jt.USER_AGENT]&&!e[Jt.PLATFORM]?(y.debug("BrowserDetector failed: Unable to find required browser resources. "),_e()):{attributes:e}}};function Al(){let t={},e=navigator.userAgentData;return e?(t[Jt.PLATFORM]=e.platform,t[Jt.BRANDS]=e.brands.map(r=>`${r.brand} ${r.version}`),t[Jt.MOBILE]=e.mobile):t[Jt.USER_AGENT]=navigator.userAgent,t[Jt.LANGUAGE]=navigator.language,t}var So=new go;var ya=-1,_r=t=>{addEventListener("pageshow",(e=>{e.persisted&&(ya=e.timeStamp,t(e))}),!0)},te=(t,e,r,n)=>{let o,i;return s=>{e.value>=0&&(s||n)&&(i=e.value-(o!=null?o:0),(i||o===void 0)&&(o=e.value,e.delta=i,e.rating=((a,c)=>a>c[1]?"poor":a>c[0]?"needs-improvement":"good")(e.value,r),t(e)))}},No=t=>{requestAnimationFrame((()=>requestAnimationFrame((()=>t()))))},va=()=>{let t=performance.getEntriesByType("navigation")[0];if(t&&t.responseStart>0&&t.responseStart<performance.now())return t},_n=()=>{var e;let t=va();return(e=t==null?void 0:t.activationStart)!=null?e:0},ee=(t,e=-1)=>{let r=va(),n="navigate";return ya>=0?n="back-forward-cache":r&&(document.prerendering||_n()>0?n="prerender":document.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-"))),{name:t,value:e,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:n}},Ao=new WeakMap;function Po(t,e){return Ao.get(t)||Ao.set(t,new e),Ao.get(t)}var yo=class{constructor(){l(this,"t");l(this,"i",0);l(this,"o",[])}h(e){var o;if(e.hadRecentInput)return;let r=this.o[0],n=this.o.at(-1);this.i&&r&&n&&e.startTime-n.startTime<1e3&&e.startTime-r.startTime<5e3?(this.i+=e.value,this.o.push(e)):(this.i=e.value,this.o=[e]),(o=this.t)==null||o.call(this,e)}},dr=(t,e,r={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){let n=new PerformanceObserver((o=>{Promise.resolve().then((()=>{e(o.getEntries())}))}));return n.observe({type:t,buffered:!0,...r}),n}}catch(n){}},Lo=t=>{let e=!1;return()=>{e||(t(),e=!0)}},we=-1,Oa=new Set,ma=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,vo=t=>{if(document.visibilityState==="hidden"){if(t.type==="visibilitychange")for(let e of Oa)e();isFinite(we)||(we=t.type==="visibilitychange"?t.timeStamp:0,removeEventListener("prerenderingchange",vo,!0))}},dn=()=>{var t;if(we<0){let e=_n(),r=document.prerendering||(t=globalThis.performance.getEntriesByType("visibility-state").filter((n=>n.name==="hidden"&&n.startTime>e))[0])==null?void 0:t.startTime;we=r!=null?r:ma(),addEventListener("visibilitychange",vo,!0),addEventListener("prerenderingchange",vo,!0),_r((()=>{setTimeout((()=>{we=ma()}))}))}return{get firstHiddenTime(){return we},onHidden(e){Oa.add(e)}}},Co=t=>{document.prerendering?addEventListener("prerenderingchange",(()=>t()),!0):t()},Ta=[1800,3e3],Rl=(t,e={})=>{Co((()=>{let r=dn(),n,o=ee("FCP"),i=dr("paint",(s=>{for(let a of s)a.name==="first-contentful-paint"&&(i.disconnect(),a.startTime<r.firstHiddenTime&&(o.value=Math.max(a.startTime-_n(),0),o.entries.push(a),n(!0)))}));i&&(n=te(t,o,Ta,e.reportAllChanges),_r((s=>{o=ee("FCP"),n=te(t,o,Ta,e.reportAllChanges),No((()=>{o.value=performance.now()-s.timeStamp,n(!0)}))})))}))},Ea=[.1,.25],ba=(t,e={})=>{let r=dn();Rl(Lo((()=>{let n,o=ee("CLS",0),i=Po(e,yo),s=c=>{for(let u of c)i.h(u);i.i>o.value&&(o.value=i.i,o.entries=i.o,n())},a=dr("layout-shift",s);a&&(n=te(t,o,Ea,e.reportAllChanges),r.onHidden((()=>{s(a.takeRecords()),n(!0)})),_r((()=>{i.i=0,o=ee("CLS",0),n=te(t,o,Ea,e.reportAllChanges),No((()=>n()))})),setTimeout(n))})))},xa=0,Ro=1/0,fn=0,yl=t=>{for(let e of t)e.interactionId&&(Ro=Math.min(Ro,e.interactionId),fn=Math.max(fn,e.interactionId),xa=fn?(fn-Ro)/7+1:0)},Oo,ga=()=>{var t;return Oo?xa:(t=performance.interactionCount)!=null?t:0},vl=()=>{"interactionCount"in performance||Oo||(Oo=dr("event",yl,{type:"event",buffered:!0,durationThreshold:0}))},Sa=0,bo=class{constructor(){l(this,"u",[]);l(this,"l",new Map);l(this,"m");l(this,"p")}v(){Sa=ga(),this.u.length=0,this.l.clear()}L(){let e=Math.min(this.u.length-1,Math.floor((ga()-Sa)/50));return this.u[e]}h(e){var o,i;if((o=this.m)==null||o.call(this,e),!e.interactionId&&e.entryType!=="first-input")return;let r=this.u.at(-1),n=this.l.get(e.interactionId);if(n||this.u.length<10||e.duration>r.P){if(n?e.duration>n.P?(n.entries=[e],n.P=e.duration):e.duration===n.P&&e.startTime===n.entries[0].startTime&&n.entries.push(e):(n={id:e.interactionId,entries:[e],P:e.duration},this.l.set(n.id,n),this.u.push(n)),this.u.sort(((s,a)=>a.P-s.P)),this.u.length>10){let s=this.u.splice(10);for(let a of s)this.l.delete(a.id)}(i=this.p)==null||i.call(this,n)}}},Na=t=>{let e=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?t():(t=Lo(t),addEventListener("visibilitychange",t,{once:!0,capture:!0}),e((()=>{t(),removeEventListener("visibilitychange",t,{capture:!0})})))},Aa=[200,500],Pa=(t,e={})=>{if(!globalThis.PerformanceEventTiming||!("interactionId"in PerformanceEventTiming.prototype))return;let r=dn();Co((()=>{var c;vl();let n,o=ee("INP"),i=Po(e,bo),s=u=>{Na((()=>{for(let m of u)i.h(m);let p=i.L();p&&p.P!==o.value&&(o.value=p.P,o.entries=p.entries,n())}))},a=dr("event",s,{durationThreshold:(c=e.durationThreshold)!=null?c:40});n=te(t,o,Aa,e.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),r.onHidden((()=>{s(a.takeRecords()),n(!0)})),_r((()=>{i.v(),o=ee("INP"),n=te(t,o,Aa,e.reportAllChanges)})))}))},xo=class{constructor(){l(this,"m")}h(e){var r;(r=this.m)==null||r.call(this,e)}},Ra=[2500,4e3],La=(t,e={})=>{Co((()=>{let r=dn(),n,o=ee("LCP"),i=Po(e,xo),s=c=>{e.reportAllChanges||(c=c.slice(-1));for(let u of c)i.h(u),u.startTime<r.firstHiddenTime&&(o.value=Math.max(u.startTime-_n(),0),o.entries=[u],n())},a=dr("largest-contentful-paint",s);if(a){n=te(t,o,Ra,e.reportAllChanges);let c=Lo((()=>{s(a.takeRecords()),a.disconnect(),n(!0)})),u=p=>{p.isTrusted&&(Na(c),removeEventListener(p.type,u,{capture:!0}))};for(let p of["keydown","click","visibilitychange"])addEventListener(p,u,{capture:!0});_r((p=>{o=ee("LCP"),n=te(t,o,Ra,e.reportAllChanges),No((()=>{o.value=performance.now()-p.timeStamp,n(!0)}))}))}}))};(function(){var J,$,O,A;let e=window.MatomoOpenTelemetry||{};if(!e.enabled)return;let r=(J=e.traceUrl)!=null?J:"",n=($=e.serviceName)!=null?$:"matomo-frontend",o=Hn({detectors:[So]}),i=R(e.resourceAttributes),s=Ke({[Nr]:n,...i});s=s.merge(o);let a=new Ye({resource:s,spanProcessors:[new Oe(new Ce({url:r}))]});a.register({contextManager:new xe,propagator:new le({propagators:[new pe,new ae]})});let c=(O=window.piwik)==null?void 0:O.idSite;if(c!=null){let x=pt.createBaggage({"matomo.site_id":{value:String(c)}}),N=pt.setBaggage(z.active(),x);z.with(N,()=>{})}let u=[];e.enableDocumentLoadMonitoring&&u.push(new sr),e.enableUserInteractionMonitoring&&u.push(new ar),e.enableXMLHttpRequestMonitoring&&u.push(new ur({propagateTraceHeaderCorsUrls:[/.*/]})),u.length>0&&oo({instrumentations:u});let p=W.getTracer(n),m=null,E=z.active();if(e.enableUxMonitoring){let x=function(){m&&m.end(),m=p.startSpan("ui.page",{attributes:{"http.url":window.location.href,"http.path":window.location.pathname,"http.title":document.title}}),E=W.setSpan(z.active(),m)};x(),window.addEventListener("hashchange",()=>{x()}),window.addEventListener("beforeunload",()=>{m&&m.end()})}function R(x){return!x||typeof x!="string"?{}:x.split(",").map(N=>N.trim()).filter(Boolean).reduce((N,Z)=>{let[I,...v]=Z.split("=");return!I||v.length===0||(N[I.trim()]=v.join("=").trim()),N},{})}function U(x,N){var Z;try{let I=p.startSpan(x,{},E);I.recordException(N),I.setStatus({code:vt.ERROR}),I.setAttribute("error.message",N.message),I.setAttribute("error.name",N.name),I.setAttribute("error.stack",(Z=N.stack)!=null?Z:""),I.setAttribute("http.url",window.location.href),I.setAttribute("http.path",window.location.pathname),I.setAttribute("http.title",document.title),I.end(),a.forceFlush()}catch(I){console.warn("OpenTelemetry: failed to record error span",I)}}window.addEventListener("error",x=>{U("js.error",x.error||new Error(x.message))}),window.addEventListener("unhandledrejection",x=>{U("js.unhandled_promise",x.reason instanceof Error?x.reason:new Error(String(x.reason)))});function H(){let x=document.getElementById("ajaxError");if(!x)return;new MutationObserver(Z=>{var I,v,tt,G;for(let D of Z)for(let M of D.addedNodes){if(!(M instanceof HTMLElement))continue;let P=(I=M.matches)!=null&&I.call(M,".notification-error")?M:(v=M.querySelector)==null?void 0:v.call(M,".notification-error");if(!P)continue;let ct=(G=(tt=P.querySelector(".notification-body div"))==null?void 0:tt.innerText)==null?void 0:G.trim();if(!ct)continue;let ut=p.startSpan("ui.notification.error",{attributes:{"ui.notification.type":"error","ui.notification.message":ct,"http.url":window.location.href,"http.path":window.location.pathname}},E);ut.setStatus({code:vt.ERROR}),ut.end()}}).observe(x,{childList:!0,subtree:!0})}if(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",H):H(),e.enableWebVitals){let x=function(N){let Z=p.startSpan("browser.web_vital",{attributes:{"http.url":window.location.href,"http.path":window.location.pathname}},E);Z.addEvent("browser.web_vital",{name:N.name,value:N.value,delta:N.delta,id:N.id}),Z.end()};ba(x),La(x),Pa(x)}e.enableUxMonitoring&&"PerformanceObserver"in window&&((A=PerformanceObserver.supportedEntryTypes)!=null&&A.includes("longtask"))&&new PerformanceObserver(N=>{for(let Z of N.getEntries()){let I=p.startSpan("ux.long_task",{attributes:{"http.url":window.location.href,"http.path":window.location.pathname}},E);I.addEvent("ux.long_task",{duration:Z.duration,startTime:Z.startTime}),I.end()}}).observe({entryTypes:["longtask"]})})();})();
/*! Bundled license information:

zone.js/fesm2015/zone.js:
  (**
   * @license Angular
   * (c) 2010-2025 Google LLC. https://angular.dev/
   * License: MIT
   *)
*/
